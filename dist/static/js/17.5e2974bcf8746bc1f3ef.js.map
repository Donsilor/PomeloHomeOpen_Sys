{"version":3,"sources":["webpack:///static/js/17.5e2974bcf8746bc1f3ef.js","webpack:///./src/views/typeManagement/addDevice.vue?f78d","webpack:///./src/views/typeManagement/addDevice.vue?6826","webpack:///src/views/typeManagement/addDevice.vue","webpack:///./src/utils/helper.js","webpack:///./src/views/typeManagement/addDevice.vue","webpack:///./src/views/typeManagement/addDevice.vue?2568"],"names":["webpackJsonp","7/K4","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","ALge","content","locals","I0YE","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_element_ui__","__WEBPACK_IMPORTED_MODULE_1__utils_fetch__","n","__WEBPACK_IMPORTED_MODULE_3__utils_auth__","name","computed","created","mounted","this","getDeviceSelect","getDeviceSelectAddtype","data","lists","typeid","$route","query","id","token","Object","product","type","business","brand","model","form","id_type","base_des","add_type","base_img","add1_tips","add1_button","add1_img","filename","add2_img","add2_tips","reset_img","reset_tips","rules","required","message","trigger","add1_img.filename","validator","rule","value","callback","source","options","errors","max","add2_img.filename","reset_img.filename","deviceAddTypeList","methods","changeType","val","console","log","find","x","type_id","changeBusiness","business_id","changeBrand","handleAvatarSuccess","res","result","$message","handleAddImg1Success","handleAddImg2Success","beforeAvatarUpload","isFormat","isLt5M","size","error","_this","url","method","then","_this2","handleBackEvent","$router","path","confirmDevice","_this3","$refs","validate","valid","setTimeout","catch","msg","components","VSB1","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","hasClass","obj","cls","className","match","RegExp","addClass","replace","trim","removeClass","reg","toggleClass","getSearches","location","search","split","forEach","p","kv","decodeURIComponent","getSearch","key","serialize","k","encodeURIComponent","join","unserialize","str","arr","l","length","item","o","isNaN","getElementByClassName","classnames","objArray","Array","tags","document","getElementsByTagName","index","nodeType","getAttribute","validateString","pattern","validity","test","spanAnalyseData","targetList","targetMap","secCount","nodeid","children","list","v","thirdCount","key_type","attr_id","remark","em","idx","method_string","value_list","len","spanMethod","pt","columnIndex","rowIndex","aSrj","injectStyle","ssrContext","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_addDevice_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5dd1e635_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_addDevice_vue__","normalizeComponent","__vue_styles__","Component","q6wD","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","on","click","_v","staticStyle","margin","padding-bottom","ref","margin-top","label-width","label-position","label","prop","width","placeholder","change","$$v","$set","expression","_l","type_name","business_name","brand_id","brand_name","product_id","readonly","action","show-file-list","on-success","before-upload","accept","autosize","minRows","maxRows","maxlength","staticRenderFns","esExports"],"mappings":"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","file":"static/js/17.5e2974bcf8746bc1f3ef.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ \"7/K4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".addDevice .el-form-item__error{padding:5px 15px!important}.addDevice .title{height:30px;border-bottom:1px solid #ededed;width:80%;margin-bottom:30px}.addDevice .upload-container{float:right;margin-left:20px}.addDevice .flex{display:-webkit-box;display:-ms-flexbox;display:flex}.addDevice .desTitle{display:inline-block;padding-right:15px;color:#5a5e66;min-width:81px}.addDevice .add1TextArea{display:inline-block;vertical-align:bottom;margin-top:0}.addDevice .marT20{margin-top:20px}.app-container{padding:20px 40px}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/PomeloHomeOpen_Sys/src/views/typeManagement/addDevice.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,0BAA6B,CAC9B,AACD,kBACE,YAAa,AACb,gCAAiC,AACjC,UAAW,AACX,kBAAoB,CACrB,AACD,6BACE,YAAa,AACb,gBAAkB,CACnB,AACD,iBACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,qBACE,qBAAsB,AACtB,mBAAoB,AACpB,cAAe,AACf,cAAgB,CACjB,AACD,yBACE,qBAAsB,AACtB,sBAAuB,AACvB,YAAgB,CACjB,AACD,mBACE,eAAiB,CAClB,AACD,eACE,iBAAmB,CACpB\",\"file\":\"addDevice.vue\",\"sourcesContent\":[\"\\n.addDevice .el-form-item__error {\\n  padding: 5px 15px !important;\\n}\\n.addDevice .title {\\n  height: 30px;\\n  border-bottom: 1px #ededed solid;\\n  width: 80%;\\n  margin-bottom: 30px;\\n}\\n.addDevice .upload-container {\\n  float: right;\\n  margin-left: 20px;\\n}\\n.addDevice .flex {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.addDevice .desTitle {\\n  display: inline-block;\\n  padding-right: 15px;\\n  color: #5a5e66;\\n  min-width: 81px;\\n}\\n.addDevice .add1TextArea {\\n  display: inline-block;\\n  vertical-align: bottom;\\n  margin-top: 0px;\\n}\\n.addDevice .marT20 {\\n  margin-top: 20px;\\n}\\n.app-container {\\n  padding: 20px 40px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"ALge\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"7/K4\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"b65ba3e0\", content, true);\n\n/***/ }),\n\n/***/ \"I0YE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_element_ui__ = __webpack_require__(\"zL8q\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_element_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_fetch__ = __webpack_require__(\"Vo7i\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_helper__ = __webpack_require__(\"VSB1\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_auth__ = __webpack_require__(\"TIfe\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'addDevice',\n    computed: {},\n    created: function created() {},\n    mounted: function mounted() {\n        this.getDeviceSelect();\n        this.getDeviceSelectAddtype();\n    },\n    data: function data() {\n        return {\n            lists: '',\n            typeid: this.$route.query.id,\n            token: Object(__WEBPACK_IMPORTED_MODULE_3__utils_auth__[\"a\" /* getToken */])(),\n            product: {},\n            type: {},\n            business: {},\n            brand: {},\n            model: {},\n            form: {\n                type: '',\n                id_type: '', //设备类型,1:品牌类型，2：产品类型'\n                business: '',\n                brand: '',\n                id: '',\n                base_des: '',\n                add_type: '', //设备添加方式\n                base_img: {\n                    type: 23,\n                    token: Object(__WEBPACK_IMPORTED_MODULE_3__utils_auth__[\"a\" /* getToken */])()\n                },\n                add1_tips: '',\n                add1_button: '',\n                add1_img: {\n                    'type': '24',\n                    'token': Object(__WEBPACK_IMPORTED_MODULE_3__utils_auth__[\"a\" /* getToken */])(),\n                    'filename': ''\n                },\n                add2_img: {\n                    'type': '24',\n                    'token': Object(__WEBPACK_IMPORTED_MODULE_3__utils_auth__[\"a\" /* getToken */])(),\n                    'filename': ''\n                },\n                add2_tips: '',\n                reset_img: {\n                    'type': '25',\n                    'token': Object(__WEBPACK_IMPORTED_MODULE_3__utils_auth__[\"a\" /* getToken */])(),\n                    'filename': ''\n                },\n                reset_tips: ''\n\n            },\n            rules: {\n                type: [{ required: true, message: '请选择产品品类', trigger: 'change' }],\n                add_type: [{ required: true, message: '请选择设备添加方式', trigger: 'change' }],\n                'add1_img.filename': [{\n                    validator: function validator(rule, value, callback, source, options) {\n                        var errors = [];\n                        if (!value) {\n                            callback('添加方式的图片不能为空');\n                        }\n                        callback(errors);\n                    }\n                }],\n                add1_tips: [{ required: true, message: '请输入提示文字', trigger: 'blur' }, { max: 64, message: '提示文字不能超过64个字符', trigger: 'blur' }],\n                add1_button: [{ required: true, message: '请输入按钮文字', trigger: 'blur' }, { max: 8, message: '按钮文字不能超过8个字符', trigger: 'blur' }],\n                'add2_img.filename': [{\n                    validator: function validator(rule, value, callback, source, options) {\n                        var errors = [];\n                        if (!value) {\n                            callback('添加方式的图片不能为空');\n                        }\n                        callback(errors);\n                    }\n                }],\n                add2_tips: [{ required: true, message: '请输入提示文字', trigger: 'blur' }, { max: 64, message: '提示文字不能超过64个字符', trigger: 'blur' }],\n                'reset_img.filename': [{\n                    validator: function validator(rule, value, callback, source, options) {\n                        var errors = [];\n                        if (!value) {\n                            callback('重置方式的图片不能为空');\n                        }\n                        callback(errors);\n                    }\n                }],\n                reset_tips: [{ required: true, message: '请输入重置提示文字', trigger: 'blur' }, { max: 64, message: '重置提示文字不能超过64个字符', trigger: 'blur' }]\n            },\n            deviceAddTypeList: []\n        };\n    },\n\n    methods: {\n        changeType: function changeType(val) {\n            console.log(val);\n            this.business = this.lists.find(function (x) {\n                return x.type_id === val;\n            }).business;\n            this.form.business = '';\n            this.form.brand = '';\n            this.form.id = '';\n            console.log(this.business);\n        },\n        changeBusiness: function changeBusiness(val) {\n            this.brand = this.business.find(function (x) {\n                return x.business_id === val;\n            }).brand;\n            this.form.brand = '';\n            this.form.id = '';\n            console.log(this.brand);\n        },\n        changeBrand: function changeBrand(val) {\n            this.model = this.brand[0].model;\n            this.form.id = '';\n            console.log(this.model);\n        },\n        handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n            var data = res.result;\n            switch (data.type) {\n                case 23:\n                    this.form.base_img = data;this.form.base_img.token = this.token;break;\n                case 25:\n                    this.form.reset_img = data;this.form.reset_img.token = this.token;break;\n            }\n            this.$message({\n                type: 'success',\n                message: '上传成功！'\n            });\n        },\n        handleAddImg1Success: function handleAddImg1Success(res, file) {\n            this.form.add1_img = res.result;\n            this.form.add1_img.token = this.token;\n            this.$message({\n                type: 'success',\n                message: '上传成功！'\n            });\n        },\n        handleAddImg2Success: function handleAddImg2Success(res, file) {\n            this.form.add2_img = res.result;\n            this.form.add2_img.token = this.token;\n            this.$message({\n                type: 'success',\n                message: '上传成功！'\n            });\n        },\n        beforeAvatarUpload: function beforeAvatarUpload(file) {\n            console.log(file);\n            var isFormat = file.type === 'image/jpeg' || 'image/jpg' || 'image/png';\n            var isLt5M = file.size / 1024 / 1024 < 5;\n\n            if (!isFormat) {\n                this.$message.error('请上传5M大小内JEPG、JPG、PNG格式的文件');\n                return false;\n            }\n            if (!isLt5M) {\n                this.$message.error('请上传5M大小内JEPG、JPG、PNG格式的文件');\n                return false;\n            }\n            //                return filter && isLt5M;\n        },\n\n        //获取下拉选择列表\n        getDeviceSelect: function getDeviceSelect() {\n            var _this = this;\n\n            Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n                url: '/device/deviceSelect',\n                method: 'post',\n                data: {\n                    'token': this.token\n                }\n            }).then(function (res) {\n                _this.type = res;\n                _this.lists = res;\n            });\n        },\n\n        //获取设备添加方式\n        getDeviceSelectAddtype: function getDeviceSelectAddtype() {\n            var _this2 = this;\n\n            Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n                url: '/device/deviceAddtype',\n                method: 'post',\n                data: {\n                    'token': this.token\n                }\n            }).then(function (res) {\n                _this2.deviceAddTypeList = res;\n            });\n        },\n\n\n        //处理返回事件\n        handleBackEvent: function handleBackEvent() {\n            this.$router.push({ path: '/typeManagement/deviceManager' });\n        },\n        confirmDevice: function confirmDevice() {\n            var _this3 = this;\n\n            this.$refs['ruleForm'].validate(function (valid) {\n                console.log(valid);\n                if (valid) {\n                    _this3.form.id_type = _this3.form.id ? 2 : 1;\n                    _this3.form.id = _this3.form.id ? _this3.form.id : _this3.form.type;\n                    console.log(_this3.form.id_type);\n                    Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n                        url: '/device/deviceAdd',\n                        method: 'post',\n                        data: _this3.form\n                    }).then(function (res) {\n                        _this3.$message({\n                            type: 'success',\n                            message: '新增设备成功！'\n                        });\n                        setTimeout(function () {\n                            _this3.$router.push({ path: '/typeManagement/deviceManager' });\n                        }, 2000);\n                    }).catch(function (error) {\n                        _this3.$message({\n                            type: 'error',\n                            message: error.msg\n                        });\n                        _this3.form.id = '';\n                    });\n                } else {\n                    _this3.$message({\n                        type: 'error',\n                        message: '请完整填写表单再提交！'\n                    });\n                }\n            });\n        }\n    },\n    components: {}\n});\n\n/***/ }),\n\n/***/ \"VSB1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(\"pFYg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n\n\n/**\r\n * 帮助类方法\r\n * @author maobingbing@evergrande.cn\r\n * @date 2017/5/22.\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    hasClass: function hasClass(obj, cls) {\n        return obj.className && obj.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'));\n    },\n    addClass: function addClass(obj, cls) {\n        if (!this.hasClass(obj, cls)) {\n            obj.className = (obj.className + \" \" + cls).replace('  ', ' ').trim();\n        }\n    },\n    removeClass: function removeClass(obj, cls) {\n        if (this.hasClass(obj, cls)) {\n            var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n            obj.className = obj.className.replace(reg, ' ').replace('  ', ' ').trim();\n        }\n    },\n    toggleClass: function toggleClass(obj, cls) {\n        if (this.hasClass(obj, cls)) {\n            this.removeClass(obj, cls);\n        } else {\n            this.addClass(obj, cls);\n        }\n    },\n\n    /**\r\n     * 解析search参数成obj\r\n     */\n    getSearches: function getSearches() {\n        var result = {},\n            params = location.search.replace(/^\\?/, '').split('&');\n        params.forEach(function (p) {\n            var kv = p.split('=');\n            result[kv[0]] = decodeURIComponent(kv[1]);\n        });\n        return result;\n    },\n\n\n    /**\r\n     * 拿到单项search参数\r\n     */\n    getSearch: function getSearch(key) {\n        return this.getSearches()[key];\n    },\n\n\n    /**\r\n     * URL参数序列化\r\n     */\n    serialize: function serialize(obj) {\n        var res = [];\n        if ((typeof obj === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(obj)) !== \"object\") {\n            return \"\";\n        }\n        for (var k in obj) {\n            res.push(k + \"=\" + encodeURIComponent(obj[k]));\n        }\n        return res.join(\"&\");\n    },\n\n    /**\r\n     * 字符串反序列化\r\n     */\n    unserialize: function unserialize(str) {\n        var res = {};\n        if (!str) {\n            return res;\n        }\n        var arr = str.split(\"&\");\n        for (var i = 0, l = arr.length; i < l; i++) {\n            var item = arr[i];\n            var o = item.split(\"=\");\n            res[o[0]] = !isNaN(o[1]) ? o[1] : decodeURIComponent(o[1]);\n        }\n        return res;\n    },\n    getElementByClassName: function getElementByClassName(classnames) {\n        var objArray = new Array(); //定义返回对象数组\n        var tags = document.getElementsByTagName(\"*\"); //获取页面所有元素\n        var index = 0;\n        for (var i in tags) {\n            if (tags[i].nodeType == 1) {\n                if (tags[i].getAttribute(\"class\") == classnames) {\n                    //如果某元素的class值为所需要\n                    objArray[index] = tags[i];\n                    index++;\n                }\n            }\n        }\n        return objArray;\n    },\n\n\n    validateString: function validateString(name, value, required, pattern) {\n        var validity = true;\n        var msg = '';\n\n        if (!value || value.trim().length == 0) {\n            //值为空\n            if (required) {\n                //必填\n                validity = false;\n                msg = \"请输入\" + name;\n            }\n        } else {\n            //值不为空\n            //如果定义了正则表达式，则进行校验\n            /*var p;\r\n            if (pattern && (p = pattern.trim()).length > 0) {\r\n                try {\r\n                    var r = new RegExp(p);\r\n                    if (!r.test(value)) {\r\n                        validity = false;\r\n                        msg = name + '格式错误';\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    validity = false;\r\n                    msg = '校验规则错误';\r\n                }\r\n            }*/\n            if (pattern instanceof RegExp) {\n                if (!pattern.test(value)) {\n                    validity = false;\n                    msg = name + '格式错误';\n                }\n            }\n        }\n        return {\n            validity: validity,\n            msg: msg\n        };\n    },\n\n    /**\r\n     * 合并行解析数据方法\r\n     */\n    spanAnalyseData: function spanAnalyseData(item, targetList, targetMap) {\n        var secCount = 0;\n        targetMap[item.nodeid] = {\n            index: targetList.length,\n            children: {}\n        };\n        item.list.forEach(function (v) {\n            var thirdCount = 0;\n            if (v.key_type != '3') {\n                secCount++;\n                targetList.push(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({\n                    nodeid: item.nodeid,\n                    attr_id: item.attr_id\n                }, v));\n            } else {\n                v.remark.forEach(function (em, idx) {\n                    secCount++;\n                    thirdCount++;\n                    targetList.push({\n                        nodeid: item.nodeid,\n                        attr_id: item.attr_id,\n                        method_string: v.method_string,\n                        key: v.key,\n                        type: v.type,\n                        value_list: v.value_list[idx].value_list,\n                        remark: em.remark\n                    });\n                });\n            }\n        });\n        targetMap[item.nodeid].len = secCount;\n    },\n\n\n    /**\r\n     * 合并行方法\r\n     */\n    spanMethod: function spanMethod(pt, columnIndex, rowIndex) {\n        if (columnIndex == 0) {\n            if (pt) {\n                if (pt.index == rowIndex) {\n                    return [pt.len, 1];\n                } else {\n                    return [0, 0];\n                }\n            } else {\n                return [1, 1];\n            }\n        } else {\n            return [1, 1];\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"aSrj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_addDevice_vue__ = __webpack_require__(\"I0YE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5dd1e635_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_addDevice_vue__ = __webpack_require__(\"q6wD\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"ALge\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_addDevice_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5dd1e635_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_addDevice_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"q6wD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container addDevice\"},[_c('el-row',{attrs:{\"gutter\":30}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handleBackEvent}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDevice}},[_vm._v(\"确认并添加该设备\")])],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"margin\":\"20px 0px\",\"padding-bottom\":\"40px\"},attrs:{\"span\":24}},[_c('el-form',{ref:\"ruleForm\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"80px\",\"size\":\"large\",\"label-position\":\"left\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品类\",\"label-width\":\"120px\",\"prop\":\"type\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择产品品类\"},on:{\"change\":_vm.changeType},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.type),function(item){return _c('el-option',{key:item.type_id,attrs:{\"label\":item.type_name,\"value\":item.type_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"厂商\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择厂商\"},on:{\"change\":_vm.changeBusiness},model:{value:(_vm.form.business),callback:function ($$v) {_vm.$set(_vm.form, \"business\", $$v)},expression:\"form.business\"}},_vm._l((_vm.business),function(item){return _c('el-option',{key:item.business_id,attrs:{\"label\":item.business_name,\"value\":item.business_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择品牌\"},on:{\"change\":_vm.changeBrand},model:{value:(_vm.form.brand),callback:function ($$v) {_vm.$set(_vm.form, \"brand\", $$v)},expression:\"form.brand\"}},_vm._l((_vm.brand),function(item){return _c('el-option',{key:item.brand_id,attrs:{\"label\":item.brand_name,\"value\":item.brand_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"型号\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择型号\"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}},_vm._l((_vm.model),function(item){return _c('el-option',{key:item.product_id,attrs:{\"label\":item.model,\"value\":item.product_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产品图片\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.base_img.filename),callback:function ($$v) {_vm.$set(_vm.form.base_img, \"filename\", $$v)},expression:\"form.base_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.base_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"其他说明\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"请输入其他说明\"},model:{value:(_vm.form.base_des),callback:function ($$v) {_vm.$set(_vm.form, \"base_des\", $$v)},expression:\"form.base_des\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"添加方式\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备添加方式\",\"label-width\":\"120px\",\"prop\":\"add_type\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择添加方式\"},model:{value:(_vm.form.add_type),callback:function ($$v) {_vm.$set(_vm.form, \"add_type\", $$v)},expression:\"form.add_type\"}},_vm._l((_vm.deviceAddTypeList),function(item){return _c('el-option',{key:item.type_id,attrs:{\"label\":item.type_name,\"value\":item.type_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"第一步\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"label-width\":\"80px\",\"prop\":\"add1_img.filename\"}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.add1_img.filename),callback:function ($$v) {_vm.$set(_vm.form.add1_img, \"filename\", $$v)},expression:\"form.add1_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAddImg1Success,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.add1_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"marT20\"},[_c('el-form-item',{attrs:{\"label\":\"提示文字\",\"label-width\":\"80px\",\"prop\":\"add1_tips\"}},[_c('el-input',{staticClass:\"add1TextArea\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"文字限制64个字符内\",\"maxlength\":64},model:{value:(_vm.form.add1_tips),callback:function ($$v) {_vm.$set(_vm.form, \"add1_tips\", $$v)},expression:\"form.add1_tips\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"marT20 flex\"},[_c('el-form-item',{attrs:{\"label\":\"按钮文字\",\"label-width\":\"80px\",\"prop\":\"add1_button\"}},[_c('el-input',{attrs:{\"placeholder\":\"文字最好控制在8个字内\",\"maxlength\":8},model:{value:(_vm.form.add1_button),callback:function ($$v) {_vm.$set(_vm.form, \"add1_button\", $$v)},expression:\"form.add1_button\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"第二步\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"label-width\":\"80px\",\"prop\":\"add2_img.filename\"}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.add2_img.filename),callback:function ($$v) {_vm.$set(_vm.form.add2_img, \"filename\", $$v)},expression:\"form.add2_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAddImg2Success,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.add2_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"marT20\"},[_c('el-form-item',{attrs:{\"label\":\"提示文字\",\"label-width\":\"80px\",\"prop\":\"add2_tips\"}},[_c('el-input',{staticClass:\"add1TextArea\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"文字限制64个字符内\",\"maxlength\":64},model:{value:(_vm.form.add2_tips),callback:function ($$v) {_vm.$set(_vm.form, \"add2_tips\", $$v)},expression:\"form.add2_tips\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"重置方式\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"label-width\":\"120px\",\"prop\":\"reset_img.filename\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.reset_img.filename),callback:function ($$v) {_vm.$set(_vm.form.reset_img, \"filename\", $$v)},expression:\"form.reset_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.reset_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提示文字\",\"label-width\":\"120px\",\"prop\":\"reset_tips\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"文字限制64个字符内\",\"maxlength\":64},model:{value:(_vm.form.reset_tips),callback:function ($$v) {_vm.$set(_vm.form, \"reset_tips\", $$v)},expression:\"form.reset_tips\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/17.5e2974bcf8746bc1f3ef.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".addDevice .el-form-item__error{padding:5px 15px!important}.addDevice .title{height:30px;border-bottom:1px solid #ededed;width:80%;margin-bottom:30px}.addDevice .upload-container{float:right;margin-left:20px}.addDevice .flex{display:-webkit-box;display:-ms-flexbox;display:flex}.addDevice .desTitle{display:inline-block;padding-right:15px;color:#5a5e66;min-width:81px}.addDevice .add1TextArea{display:inline-block;vertical-align:bottom;margin-top:0}.addDevice .marT20{margin-top:20px}.app-container{padding:20px 40px}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/PomeloHomeOpen_Sys/src/views/typeManagement/addDevice.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,0BAA6B,CAC9B,AACD,kBACE,YAAa,AACb,gCAAiC,AACjC,UAAW,AACX,kBAAoB,CACrB,AACD,6BACE,YAAa,AACb,gBAAkB,CACnB,AACD,iBACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,qBACE,qBAAsB,AACtB,mBAAoB,AACpB,cAAe,AACf,cAAgB,CACjB,AACD,yBACE,qBAAsB,AACtB,sBAAuB,AACvB,YAAgB,CACjB,AACD,mBACE,eAAiB,CAClB,AACD,eACE,iBAAmB,CACpB\",\"file\":\"addDevice.vue\",\"sourcesContent\":[\"\\n.addDevice .el-form-item__error {\\n  padding: 5px 15px !important;\\n}\\n.addDevice .title {\\n  height: 30px;\\n  border-bottom: 1px #ededed solid;\\n  width: 80%;\\n  margin-bottom: 30px;\\n}\\n.addDevice .upload-container {\\n  float: right;\\n  margin-left: 20px;\\n}\\n.addDevice .flex {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.addDevice .desTitle {\\n  display: inline-block;\\n  padding-right: 15px;\\n  color: #5a5e66;\\n  min-width: 81px;\\n}\\n.addDevice .add1TextArea {\\n  display: inline-block;\\n  vertical-align: bottom;\\n  margin-top: 0px;\\n}\\n.addDevice .marT20 {\\n  margin-top: 20px;\\n}\\n.app-container {\\n  padding: 20px 40px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5dd1e635\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/typeManagement/addDevice.vue\n// module id = 7/K4\n// module chunks = 17","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dd1e635\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./addDevice.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"b65ba3e0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5dd1e635\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/typeManagement/addDevice.vue\n// module id = ALge\n// module chunks = 17","<template>\r\n    <div class=\"app-container calendar-list-container addDevice\">\r\n        <el-row :gutter=\"30\">\r\n            <el-col :span=\"24\">\r\n                <el-button type=\"ghost\" @click=\"handleBackEvent\">返回</el-button>\r\n                <el-button type=\"primary\" @click=\"confirmDevice\">确认并添加该设备</el-button>\r\n            </el-col>\r\n            <el-col :span=\"24\" style=\"margin: 20px 0px;padding-bottom: 40px;\">\r\n                <el-form ref=\"ruleForm\" :rules=\"rules\" :model=\"form\" label-width=\"80px\" style=\"margin-top: 20px;\" size=\"large\" label-position=\"left\">\r\n                    <div class=\"title\">基本信息</div>\r\n                    <el-form-item label=\"品类\" label-width=\"120px\" prop=\"type\">\r\n                        <el-col :span=\"12\">\r\n                            <el-select v-model=\"form.type\" placeholder=\"请选择产品品类\" style=\"width: 100%;\" @change=\"changeType\">\r\n                                <el-option\r\n                                        v-for=\"item in type\"\r\n                                        :key=\"item.type_id\"\r\n                                        :label=\"item.type_name\"\r\n                                        :value=\"item.type_id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"厂商\" label-width=\"120px\">\r\n                        <el-col :span=\"12\">\r\n                            <el-select v-model=\"form.business\" placeholder=\"请选择厂商\" style=\"width: 100%;\" @change=\"changeBusiness\">\r\n                                <el-option\r\n                                        v-for=\"item in business\"\r\n                                        :key=\"item.business_id\"\r\n                                        :label=\"item.business_name\"\r\n                                        :value=\"item.business_id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"品牌\" label-width=\"120px\">\r\n                        <el-col :span=\"12\">\r\n                            <el-select v-model=\"form.brand\" placeholder=\"请选择品牌\" style=\"width: 100%;\" @change=\"changeBrand\">\r\n                                <el-option\r\n                                        v-for=\"item in brand\"\r\n                                        :key=\"item.brand_id\"\r\n                                        :label=\"item.brand_name\"\r\n                                        :value=\"item.brand_id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"型号\" label-width=\"120px\">\r\n                        <el-col :span=\"12\">\r\n                            <el-select v-model=\"form.id\" placeholder=\"请选择型号\" style=\"width: 100%;\">\r\n                                <el-option\r\n                                        v-for=\"item in model\"\r\n                                        :key=\"item.product_id\"\r\n                                        :label=\"item.model\"\r\n                                        :value=\"item.product_id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"产品图片\" label-width=\"120px\">\r\n                        <el-col :span=\"12\">\r\n                            <div class=\"flex\">\r\n                                <el-input v-model=\"form.base_img.filename\" readonly placeholder=\"图片支持jpeg、jpg、png格式，大小5M内\"></el-input>\r\n                                <el-upload\r\n                                        class=\"upload-container\"\r\n                                        action=\"/api/index.php/files/save\"\r\n                                        :show-file-list=\"false\"\r\n                                        :on-success=\"handleAvatarSuccess\"\r\n                                        :before-upload=\"beforeAvatarUpload\"\r\n                                        accept=\"image/png,image/jpeg,image/jpg\"\r\n                                        :data=\"form.base_img\">\r\n                                    <el-button size=\"middle\" type=\"primary\">选择文件</el-button>\r\n                                </el-upload>\r\n                            </div>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"其他说明\" label-width=\"120px\">\r\n                        <el-col :span=\"12\">\r\n                            <el-input\r\n                                    type=\"textarea\"\r\n                                    :autosize=\"{ minRows: 3, maxRows: 3}\"\r\n                                    placeholder=\"请输入其他说明\"\r\n                                    v-model=\"form.base_des\">\r\n                            </el-input>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <div class=\"title\">添加方式</div>\r\n                    <el-form-item label=\"设备添加方式\" label-width=\"120px\" prop=\"add_type\">\r\n                        <el-col :span=\"12\">\r\n                            <el-select v-model=\"form.add_type\" placeholder=\"请选择添加方式\" style=\"width: 100%;\">\r\n                                <el-option\r\n                                        v-for=\"item in deviceAddTypeList\"\r\n                                        :key=\"item.type_id\"\r\n                                        :label=\"item.type_name\"\r\n                                        :value=\"item.type_id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"第一步\" label-width=\"120px\">\r\n                        <el-col :span=\"12\">\r\n                                <el-form-item label=\"上传图片\" label-width=\"80px\" prop=\"add1_img.filename\">\r\n                                    <!--<div class=\"desTitle\">上传图片</div>-->\r\n                                    <div class=\"flex\">\r\n                                        <el-input v-model=\"form.add1_img.filename\" readonly placeholder=\"图片支持jpeg、jpg、png格式，大小5M内\"></el-input>\r\n                                        <el-upload\r\n                                                class=\"upload-container\"\r\n                                                action=\"/api/index.php/files/save\"\r\n                                                :show-file-list=\"false\"\r\n                                                :on-success=\"handleAddImg1Success\"\r\n                                                :before-upload=\"beforeAvatarUpload\"\r\n                                                accept=\"image/png,image/jpeg,image/jpg\"\r\n                                                :data=\"form.add1_img\">\r\n                                            <el-button size=\"middle\" type=\"primary\">选择文件</el-button>\r\n                                        </el-upload>\r\n                                    </div>\r\n                                </el-form-item>\r\n                            <div class=\"marT20\">\r\n                                <!--<div class=\"desTitle\" style=\"vertical-align: top;\">提示文字</div>-->\r\n                                <el-form-item label=\"提示文字\" label-width=\"80px\" prop=\"add1_tips\">\r\n                                    <el-input\r\n                                            type=\"textarea\"\r\n                                            :autosize=\"{ minRows: 3, maxRows: 3}\"\r\n                                            placeholder=\"文字限制64个字符内\"\r\n                                            v-model=\"form.add1_tips\"\r\n                                            class=\"add1TextArea\"\r\n                                            :maxlength=\"64\">\r\n                                    </el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"marT20 flex\">\r\n                                <el-form-item label=\"按钮文字\" label-width=\"80px\" prop=\"add1_button\">\r\n                                <!--<div class=\"desTitle\">按钮文字</div>-->\r\n                                    <el-input v-model=\"form.add1_button\" placeholder=\"文字最好控制在8个字内\" :maxlength=\"8\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"第二步\" label-width=\"120px\">\r\n                        <el-col :span=\"12\">\r\n                            <el-form-item label=\"上传图片\" label-width=\"80px\" prop=\"add2_img.filename\">\r\n                                <div class=\"flex\">\r\n                                    <!--<div class=\"desTitle\">上传图片</div>-->\r\n                                    <el-input v-model=\"form.add2_img.filename\" readonly placeholder=\"图片支持jpeg、jpg、png格式，大小5M内\"></el-input>\r\n                                    <el-upload\r\n                                            class=\"upload-container\"\r\n                                            action=\"/api/index.php/files/save\"\r\n                                            :show-file-list=\"false\"\r\n                                            :on-success=\"handleAddImg2Success\"\r\n                                            :before-upload=\"beforeAvatarUpload\"\r\n                                            accept=\"image/png,image/jpeg,image/jpg\"\r\n                                            :data=\"form.add2_img\">\r\n                                        <el-button size=\"middle\" type=\"primary\">选择文件</el-button>\r\n                                    </el-upload>\r\n                                </div>\r\n                            </el-form-item>\r\n                            <div class=\"marT20\">\r\n                                <!--<div class=\"desTitle\" style=\"vertical-align: top;\">提示文字</div>-->\r\n                                <el-form-item label=\"提示文字\" label-width=\"80px\" prop=\"add2_tips\">\r\n                                    <el-input\r\n                                            type=\"textarea\"\r\n                                            :autosize=\"{ minRows: 3, maxRows: 3}\"\r\n                                            placeholder=\"文字限制64个字符内\"\r\n                                            v-model=\"form.add2_tips\"\r\n                                            class=\"add1TextArea\" :maxlength=\"64\">\r\n                                    </el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <div class=\"title\">重置方式</div>\r\n                    <el-form-item label=\"上传图片\" label-width=\"120px\" prop=\"reset_img.filename\">\r\n                        <el-col :span=\"12\">\r\n                            <div class=\"flex\">\r\n                                <el-input v-model=\"form.reset_img.filename\" readonly placeholder=\"图片支持jpeg、jpg、png格式，大小5M内\"></el-input>\r\n                                <el-upload\r\n                                        class=\"upload-container\"\r\n                                        action=\"/api/index.php/files/save\"\r\n                                        :show-file-list=\"false\"\r\n                                        :on-success=\"handleAvatarSuccess\"\r\n                                        :before-upload=\"beforeAvatarUpload\"\r\n                                        accept=\"image/png,image/jpeg,image/jpg\"\r\n                                        :data=\"form.reset_img\">\r\n                                    <el-button size=\"middle\" type=\"primary\">选择文件</el-button>\r\n                                </el-upload>\r\n                            </div>\r\n\r\n                        </el-col>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"提示文字\" label-width=\"120px\" prop=\"reset_tips\">\r\n                        <el-col :span=\"12\">\r\n                            <el-input\r\n                                    type=\"textarea\"\r\n                                    :autosize=\"{ minRows: 3, maxRows: 3}\"\r\n                                    placeholder=\"文字限制64个字符内\"\r\n                                    v-model=\"form.reset_tips\" :maxlength=\"64\">\r\n                            </el-input>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<style lang=\"scss\">\r\n    .addDevice{\r\n        .el-form-item__error{\r\n            padding: 5px 15px!important;\r\n        }\r\n        .title{\r\n            height: 30px;\r\n            border-bottom: 1px #ededed solid;\r\n            width: 80%;\r\n            margin-bottom: 30px;\r\n        }\r\n        .upload-container{\r\n            float: right;\r\n            margin-left: 20px;\r\n        }\r\n        .flex{\r\n            display: flex;\r\n        }\r\n\r\n        .desTitle{\r\n            display: inline-block;\r\n            padding-right: 15px;\r\n            color: #5a5e66;\r\n            min-width: 81px;\r\n        }\r\n        .add1TextArea{\r\n            display: inline-block;\r\n            vertical-align: bottom;\r\n            margin-top: 0px;\r\n        }\r\n        .marT20{\r\n            margin-top: 20px;\r\n        }\r\n\r\n    }\r\n    .app-container{\r\n        padding: 20px 40px;\r\n    }\r\n</style>\r\n\r\n<script>\r\n    import { Loading } from 'element-ui';\r\n    import fetch from '@/utils/fetch';\r\n    import helper from '@/utils/helper';\r\n    import {getToken} from '@/utils/auth';\r\n    export default {\r\n        name: 'addDevice',\r\n        computed: {\r\n        },\r\n        created() {\r\n        },\r\n        mounted() {\r\n            this.getDeviceSelect();\r\n            this.getDeviceSelectAddtype();\r\n        },\r\n        data() {\r\n            return {\r\n                lists : '',\r\n                typeid : this.$route.query.id,\r\n                token : getToken(),\r\n                product : {},\r\n                type : {},\r\n                business:{},\r\n                brand : {},\r\n                model : {},\r\n                form:{\r\n                    type : '',\r\n                    id_type : '',   //设备类型,1:品牌类型，2：产品类型'\r\n                    business : '',\r\n                    brand : '',\r\n                    id : '',\r\n                    base_des :'',\r\n                    add_type : '', //设备添加方式\r\n                    base_img : {\r\n                        type : 23,\r\n                        token : getToken()\r\n                    },\r\n                    add1_tips : '',\r\n                    add1_button : '',\r\n                    add1_img : {\r\n                        'type' : '24',\r\n                        'token' : getToken(),\r\n                        'filename' : ''\r\n                    },\r\n                    add2_img : {\r\n                        'type' : '24',\r\n                        'token' : getToken(),\r\n                        'filename' : ''\r\n                    },\r\n                    add2_tips : '',\r\n                    reset_img : {\r\n                        'type' : '25',\r\n                        'token' : getToken(),\r\n                        'filename' : ''\r\n                    },\r\n                    reset_tips :''\r\n\r\n\r\n                },\r\n                rules: {\r\n                    type: [\r\n                        { required: true, message: '请选择产品品类', trigger: 'change' }\r\n                    ],\r\n                    add_type: [\r\n                        { required: true, message: '请选择设备添加方式', trigger: 'change' }\r\n                    ],\r\n                    'add1_img.filename': [\r\n                        {validator(rule, value, callback, source, options) {\r\n                            var errors = [];\r\n                            if (!value) {\r\n                                callback('添加方式的图片不能为空');\r\n                            }\r\n                            callback(errors);\r\n                        }}\r\n                    ],\r\n                    add1_tips: [\r\n                        { required: true, message: '请输入提示文字', trigger: 'blur' },\r\n                        { max: 64, message: '提示文字不能超过64个字符', trigger: 'blur' },\r\n                    ],\r\n                    add1_button: [\r\n                        { required: true, message: '请输入按钮文字', trigger: 'blur' },\r\n                        { max: 8, message: '按钮文字不能超过8个字符', trigger: 'blur' },\r\n                    ],\r\n                    'add2_img.filename': [\r\n                        {validator(rule, value, callback, source, options) {\r\n                            var errors = [];\r\n                            if (!value) {\r\n                                callback('添加方式的图片不能为空');\r\n                            }\r\n                            callback(errors);\r\n                        }}\r\n                    ],\r\n                    add2_tips: [\r\n                        { required: true, message: '请输入提示文字', trigger: 'blur' },\r\n                        { max: 64, message: '提示文字不能超过64个字符', trigger: 'blur' },\r\n                    ],\r\n                    'reset_img.filename': [\r\n                        {validator(rule, value, callback, source, options) {\r\n                            var errors = [];\r\n                            if (!value) {\r\n                                callback('重置方式的图片不能为空');\r\n                            }\r\n                            callback(errors);\r\n                        }}\r\n                    ],\r\n                    reset_tips: [\r\n                        { required: true, message: '请输入重置提示文字', trigger: 'blur' },\r\n                        { max: 64, message: '重置提示文字不能超过64个字符', trigger: 'blur' },\r\n                    ],\r\n                },\r\n                deviceAddTypeList : []\r\n            }\r\n        },\r\n        methods: {\r\n            changeType(val){\r\n                console.log(val);\r\n                this.business = this.lists.find((x) => x.type_id === val).business;\r\n                this.form.business = '';\r\n                this.form.brand = '';\r\n                this.form.id = '';\r\n                console.log(this.business);\r\n            },\r\n            changeBusiness(val){\r\n                this.brand = this.business.find((x) => x.business_id === val).brand;\r\n                this.form.brand = '';\r\n                this.form.id = '';\r\n                console.log(this.brand);\r\n            },\r\n            changeBrand(val){\r\n                this.model = this.brand[0].model;\r\n                this.form.id = '';\r\n                console.log(this.model);\r\n            },\r\n            handleAvatarSuccess(res, file) {\r\n                let data = res.result;\r\n                switch (data.type){\r\n                    case 23 : this.form.base_img = data;this.form.base_img.token = this.token;break;\r\n                    case 25 : this.form.reset_img = data;this.form.reset_img.token = this.token;break;\r\n                }\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '上传成功！'\r\n                });\r\n            },\r\n            handleAddImg1Success(res,file){\r\n                this.form.add1_img = res.result;\r\n                this.form.add1_img.token = this.token;\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '上传成功！'\r\n                });\r\n            },\r\n            handleAddImg2Success(res,file){\r\n                this.form.add2_img = res.result;\r\n                this.form.add2_img.token = this.token;\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '上传成功！'\r\n                });\r\n            },\r\n            beforeAvatarUpload(file) {\r\n                console.log(file);\r\n                const isFormat = file.type === 'image/jpeg' || 'image/jpg' || 'image/png';\r\n                const isLt5M = file.size / 1024 / 1024 < 5;\r\n\r\n                if (!isFormat) {\r\n                    this.$message.error('请上传5M大小内JEPG、JPG、PNG格式的文件');\r\n                    return false;\r\n                }\r\n                if (!isLt5M) {\r\n                    this.$message.error('请上传5M大小内JEPG、JPG、PNG格式的文件');\r\n                    return false;\r\n                }\r\n//                return filter && isLt5M;\r\n            },\r\n            //获取下拉选择列表\r\n            getDeviceSelect(){\r\n                fetch({\r\n                    url: '/device/deviceSelect',\r\n                    method: 'post',\r\n                    data: {\r\n                        'token' :  this.token\r\n                    }\r\n                }).then(res=>{\r\n                    this.type = res;\r\n                    this.lists = res;\r\n                })\r\n            },\r\n            //获取设备添加方式\r\n            getDeviceSelectAddtype(){\r\n                fetch({\r\n                    url: '/device/deviceAddtype',\r\n                    method: 'post',\r\n                    data: {\r\n                        'token' :  this.token\r\n                    }\r\n                }).then(res=>{\r\n                    this.deviceAddTypeList = res;\r\n                })\r\n            },\r\n\r\n            //处理返回事件\r\n            handleBackEvent(){\r\n                this.$router.push({path: '/typeManagement/deviceManager'});\r\n            },\r\n            confirmDevice(){\r\n                this.$refs['ruleForm'].validate((valid) => {\r\n                        console.log(valid);\r\n                        if (valid) {\r\n                            this.form.id_type = this.form.id ? 2 : 1;\r\n                            this.form.id = this.form.id ? this.form.id : this.form.type;\r\n                            console.log(this.form.id_type);\r\n                            fetch({\r\n                                url: '/device/deviceAdd',\r\n                                method: 'post',\r\n                                data: this.form\r\n                            }).then(res=>{\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    message: '新增设备成功！'\r\n                                });\r\n                                setTimeout(()=>{\r\n                                    this.$router.push({path: '/typeManagement/deviceManager'});\r\n                                },2000);\r\n                            }).catch(error=>{\r\n                                this.$message({\r\n                                    type: 'error',\r\n                                    message: error.msg\r\n                                });\r\n                                this.form.id = '';\r\n                            })\r\n                        }else{\r\n                            this.$message({\r\n                                type: 'error',\r\n                                message: '请完整填写表单再提交！'\r\n                            });\r\n                        }\r\n                });\r\n\r\n            }\r\n        },\r\n        components:{\r\n\r\n        }\r\n    }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/typeManagement/addDevice.vue","/**\r\n * 帮助类方法\r\n * @author maobingbing@evergrande.cn\r\n * @date 2017/5/22.\r\n */\r\nexport default {\r\n    hasClass: function (obj, cls) {\r\n        return obj.className && obj.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'));\r\n    },\r\n    addClass: function(obj, cls) {\r\n        if (!this.hasClass(obj, cls)) {\r\n            obj.className = (obj.className + \" \" + cls).replace('  ', ' ').trim();\r\n        }\r\n    },\r\n    removeClass: function(obj, cls) {\r\n        if (this.hasClass(obj, cls)) {\r\n            var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\r\n            obj.className = obj.className.replace(reg, ' ').replace('  ', ' ').trim();\r\n        }\r\n    },\r\n    toggleClass: function(obj,cls) {\r\n        if (this.hasClass(obj, cls)) {\r\n            this.removeClass(obj, cls);\r\n        } else {\r\n            this.addClass(obj, cls);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 解析search参数成obj\r\n     */\r\n    getSearches (){\r\n        let result = {},\r\n            params = location.search.replace(/^\\?/, '').split('&');\r\n        params.forEach(p=>{\r\n            let kv = p.split('=');\r\n            result[kv[0]] = decodeURIComponent(kv[1]);\r\n        });\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * 拿到单项search参数\r\n     */\r\n    getSearch (key){\r\n        return this.getSearches()[key];\r\n    },\r\n\r\n    /**\r\n     * URL参数序列化\r\n     */\r\n    serialize (obj){\r\n        var res = [];\r\n        if(typeof obj !== \"object\"){\r\n            return \"\";\r\n        }\r\n        for(var k in obj){\r\n            res.push(k+\"=\"+encodeURIComponent(obj[k]));\r\n        }\r\n        return res.join(\"&\");\r\n    },\r\n    /**\r\n     * 字符串反序列化\r\n     */\r\n    unserialize (str){\r\n        var res = {};\r\n        if(!str){\r\n            return res;\r\n        }\r\n        var arr = str.split(\"&\");\r\n        for(var i=0,l=arr.length;i<l;i++){\r\n            var item = arr[i];\r\n            var o = item.split(\"=\");\r\n            res[o[0]] = (!isNaN(o[1])) ? o[1] : decodeURIComponent(o[1]);\r\n        }\r\n        return res;\r\n    },\r\n    getElementByClassName(classnames){\r\n        var objArray= new Array();//定义返回对象数组\r\n        var tags=document.getElementsByTagName(\"*\");//获取页面所有元素\r\n        var index = 0;\r\n        for(var i in tags){\r\n            if(tags[i].nodeType==1){\r\n                if(tags[i].getAttribute(\"class\") == classnames){ //如果某元素的class值为所需要\r\n                    objArray[index]=tags[i];\r\n                    index++;\r\n                }\r\n            }\r\n        }\r\n        return objArray;\r\n    },\r\n\r\n    validateString: function (name, value, required, pattern) {\r\n        var validity = true;\r\n        var msg = '';\r\n\r\n        if (!value || value.trim().length == 0) {//值为空\r\n            if (required) {//必填\r\n                validity = false;\r\n                msg = \"请输入\" + name;\r\n            }\r\n        }\r\n        else {//值不为空\r\n            //如果定义了正则表达式，则进行校验\r\n            /*var p;\r\n            if (pattern && (p = pattern.trim()).length > 0) {\r\n                try {\r\n                    var r = new RegExp(p);\r\n                    if (!r.test(value)) {\r\n                        validity = false;\r\n                        msg = name + '格式错误';\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    validity = false;\r\n                    msg = '校验规则错误';\r\n                }\r\n            }*/\r\n            if(pattern instanceof RegExp){\r\n                if(!pattern.test(value)){\r\n                    validity = false;\r\n                    msg = name + '格式错误';\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            validity: validity,\r\n            msg: msg\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 合并行解析数据方法\r\n     */\r\n    spanAnalyseData(item,targetList,targetMap){\r\n        let secCount=0;\r\n        targetMap[item.nodeid]={\r\n            index:targetList.length,\r\n            children:{}\r\n        }\r\n        item.list.forEach(function (v) {\r\n            let thirdCount=0;\r\n            if(v.key_type!='3'){\r\n                secCount++;\r\n                targetList.push(Object.assign({\r\n                    nodeid:item.nodeid,\r\n                    attr_id:item.attr_id\r\n                },v));\r\n            }\r\n            else{\r\n                v.remark.forEach(function (em,idx) {\r\n                    secCount++;\r\n                    thirdCount++;\r\n                    targetList.push({\r\n                        nodeid:item.nodeid,\r\n                        attr_id:item.attr_id,\r\n                        method_string:v.method_string,\r\n                        key:v.key,\r\n                        type:v.type,\r\n                        value_list:v.value_list[idx].value_list,\r\n                        remark:em.remark\r\n                    });\r\n                })\r\n            }\r\n        })\r\n        targetMap[item.nodeid].len = secCount;\r\n    },\r\n\r\n    /**\r\n     * 合并行方法\r\n     */\r\n    spanMethod(pt,columnIndex,rowIndex){\r\n        if(columnIndex==0){\r\n            if(pt){\r\n                if(pt.index==rowIndex){\r\n                    return [pt.len,1]\r\n                }\r\n                else{\r\n                    return [0,0]\r\n                }\r\n            }else{\r\n                return [1,1]\r\n            }\r\n        }\r\n        else{\r\n            return [1,1]\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/helper.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dd1e635\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addDevice.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addDevice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dd1e635\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addDevice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/typeManagement/addDevice.vue\n// module id = aSrj\n// module chunks = 17","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container addDevice\"},[_c('el-row',{attrs:{\"gutter\":30}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handleBackEvent}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmDevice}},[_vm._v(\"确认并添加该设备\")])],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"margin\":\"20px 0px\",\"padding-bottom\":\"40px\"},attrs:{\"span\":24}},[_c('el-form',{ref:\"ruleForm\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"80px\",\"size\":\"large\",\"label-position\":\"left\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品类\",\"label-width\":\"120px\",\"prop\":\"type\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择产品品类\"},on:{\"change\":_vm.changeType},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.type),function(item){return _c('el-option',{key:item.type_id,attrs:{\"label\":item.type_name,\"value\":item.type_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"厂商\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择厂商\"},on:{\"change\":_vm.changeBusiness},model:{value:(_vm.form.business),callback:function ($$v) {_vm.$set(_vm.form, \"business\", $$v)},expression:\"form.business\"}},_vm._l((_vm.business),function(item){return _c('el-option',{key:item.business_id,attrs:{\"label\":item.business_name,\"value\":item.business_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择品牌\"},on:{\"change\":_vm.changeBrand},model:{value:(_vm.form.brand),callback:function ($$v) {_vm.$set(_vm.form, \"brand\", $$v)},expression:\"form.brand\"}},_vm._l((_vm.brand),function(item){return _c('el-option',{key:item.brand_id,attrs:{\"label\":item.brand_name,\"value\":item.brand_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"型号\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择型号\"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}},_vm._l((_vm.model),function(item){return _c('el-option',{key:item.product_id,attrs:{\"label\":item.model,\"value\":item.product_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产品图片\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.base_img.filename),callback:function ($$v) {_vm.$set(_vm.form.base_img, \"filename\", $$v)},expression:\"form.base_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.base_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"其他说明\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"请输入其他说明\"},model:{value:(_vm.form.base_des),callback:function ($$v) {_vm.$set(_vm.form, \"base_des\", $$v)},expression:\"form.base_des\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"添加方式\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备添加方式\",\"label-width\":\"120px\",\"prop\":\"add_type\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择添加方式\"},model:{value:(_vm.form.add_type),callback:function ($$v) {_vm.$set(_vm.form, \"add_type\", $$v)},expression:\"form.add_type\"}},_vm._l((_vm.deviceAddTypeList),function(item){return _c('el-option',{key:item.type_id,attrs:{\"label\":item.type_name,\"value\":item.type_id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"第一步\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"label-width\":\"80px\",\"prop\":\"add1_img.filename\"}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.add1_img.filename),callback:function ($$v) {_vm.$set(_vm.form.add1_img, \"filename\", $$v)},expression:\"form.add1_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAddImg1Success,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.add1_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"marT20\"},[_c('el-form-item',{attrs:{\"label\":\"提示文字\",\"label-width\":\"80px\",\"prop\":\"add1_tips\"}},[_c('el-input',{staticClass:\"add1TextArea\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"文字限制64个字符内\",\"maxlength\":64},model:{value:(_vm.form.add1_tips),callback:function ($$v) {_vm.$set(_vm.form, \"add1_tips\", $$v)},expression:\"form.add1_tips\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"marT20 flex\"},[_c('el-form-item',{attrs:{\"label\":\"按钮文字\",\"label-width\":\"80px\",\"prop\":\"add1_button\"}},[_c('el-input',{attrs:{\"placeholder\":\"文字最好控制在8个字内\",\"maxlength\":8},model:{value:(_vm.form.add1_button),callback:function ($$v) {_vm.$set(_vm.form, \"add1_button\", $$v)},expression:\"form.add1_button\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"第二步\",\"label-width\":\"120px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"label-width\":\"80px\",\"prop\":\"add2_img.filename\"}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.add2_img.filename),callback:function ($$v) {_vm.$set(_vm.form.add2_img, \"filename\", $$v)},expression:\"form.add2_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAddImg2Success,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.add2_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"marT20\"},[_c('el-form-item',{attrs:{\"label\":\"提示文字\",\"label-width\":\"80px\",\"prop\":\"add2_tips\"}},[_c('el-input',{staticClass:\"add1TextArea\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"文字限制64个字符内\",\"maxlength\":64},model:{value:(_vm.form.add2_tips),callback:function ($$v) {_vm.$set(_vm.form, \"add2_tips\", $$v)},expression:\"form.add2_tips\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"重置方式\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"label-width\":\"120px\",\"prop\":\"reset_img.filename\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"图片支持jpeg、jpg、png格式，大小5M内\"},model:{value:(_vm.form.reset_img.filename),callback:function ($$v) {_vm.$set(_vm.form.reset_img, \"filename\", $$v)},expression:\"form.reset_img.filename\"}}),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-container\",attrs:{\"action\":\"/api/index.php/files/save\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"accept\":\"image/png,image/jpeg,image/jpg\",\"data\":_vm.form.reset_img}},[_c('el-button',{attrs:{\"size\":\"middle\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提示文字\",\"label-width\":\"120px\",\"prop\":\"reset_tips\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 3},\"placeholder\":\"文字限制64个字符内\",\"maxlength\":64},model:{value:(_vm.form.reset_tips),callback:function ($$v) {_vm.$set(_vm.form, \"reset_tips\", $$v)},expression:\"form.reset_tips\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dd1e635\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/typeManagement/addDevice.vue\n// module id = q6wD\n// module chunks = 17"],"sourceRoot":""}