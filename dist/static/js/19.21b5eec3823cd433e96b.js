webpackJsonp([19],{"1evw":function(n,e,a){e=n.exports=a("FZ+f")(!0),e.push([n.i,".card-img-tec[data-v-e19072e4]{width:300px;height:200px}","",{version:3,sources:["/code/evergrande/PomeloHomeOpen_Sys/src/views/goLiveCheck/goLiveCheckDetail.vue"],names:[],mappings:"AA6PA,+BACE,YAAa,AACb,YAAa,CACd",file:"goLiveCheckDetail.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*.el-form-item__content {*/\n  /*width: 80%;*/\n/*}*/\n.card-img-tec[data-v-e19072e4] {\n  width: 300px;\n  height: 200px\n}\n"],sourceRoot:""}])},"7akC":function(n,e,a){"use strict";function t(n){a("FUcQ")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("v0X7"),s=a("qdWI"),r=a("VU/8"),i=t,l=r(o.a,s.a,i,"data-v-e19072e4",null);e.default=l.exports},FUcQ:function(n,e,a){var t=a("1evw");"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);a("rjj0")("315a2f95",t,!0)},qdWI:function(n,e,a){"use strict";var t=function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"card-row"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[n._v("版本号")]),n._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:2}},[n._v(n._s(n.checkDetail.version_no))])],1),n._v(" "),a("el-row",{staticClass:"card-row"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[n._v("版本说明")]),n._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:2}},[n._v("\n        "+n._s(n.checkDetail.des)+"\n        "),a("div",{staticStyle:{"padding-top":"30px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-radio-group",{on:{change:function(e){n.generateReason("版本信息未审核通过",n.versionCheck.action_type,n.versionCheck.unapproved_reason)}},model:{value:n.versionCheck.action_type,callback:function(e){n.versionCheck.action_type=e},expression:"versionCheck.action_type"}},[a("el-radio",{attrs:{label:1}},[n._v("审核通过")]),n._v(" "),a("el-radio",{attrs:{label:2}},[n._v("审核不通过")])],1)],1)],1),n._v(" "),2==n.versionCheck.action_type?a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"审核结果："}},[a("el-input",{on:{blur:function(e){n.modifyReason("版本信息未审核通过",n.versionCheck.unapproved_reason)}},model:{value:n.versionCheck.unapproved_reason,callback:function(e){n.versionCheck.unapproved_reason=e},expression:"versionCheck.unapproved_reason"}})],1)],1):n._e()],1)],1)],1)])],1),n._v(" "),n._l(n.checkDetail.file_list,function(e){return a("el-row",{key:e.id,staticClass:"card-row"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[n._v("手机端控制页")]),n._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:2}},[a("a",{attrs:{href:e.url}},[n._v(n._s(e.filename))]),n._v(" "),a("div",[n._v(n._s(e.size))]),n._v(" "),a("div",{staticStyle:{"padding-top":"30px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-radio-group",{on:{change:function(a){n.generateReason(e.filename+"未审核通过",e.action_type,e.unapproved_reason)}},model:{value:e.action_type,callback:function(n){e.action_type=n},expression:"item.action_type"}},[a("el-radio",{attrs:{label:1}},[n._v("审核通过")]),n._v(" "),a("el-radio",{attrs:{label:2}},[n._v("审核不通过")])],1)],1)],1),n._v(" "),2==n.baseInfoCheck.action_type?a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"审核结果："}},[a("el-input",{on:{blur:function(a){n.modifyReason(e.filename+"未审核通过",e.unapproved_reason)}},model:{value:e.unapproved_reason,callback:function(n){e.unapproved_reason=n},expression:"item.unapproved_reason"}})],1)],1):n._e()],1)],1)],1)])],1)}),n._v(" "),n._l(n.checkDetail.release_file_list,function(e){return a("el-row",{key:e.id,staticClass:"card-row"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[n._v("手机端控制页")]),n._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:2}},[a("a",{attrs:{href:e.url}},[n._v(n._s(e.filename))]),n._v(" "),a("div",[n._v(n._s(e.size))]),n._v(" "),a("div",{staticStyle:{"padding-top":"30px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-radio-group",{on:{change:function(a){n.generateReason(e.filename+"未审核通过",e.action_type,e.unapproved_reason)}},model:{value:e.action_type,callback:function(n){e.action_type=n},expression:"item.action_type"}},[a("el-radio",{attrs:{label:1}},[n._v("审核通过")]),n._v(" "),a("el-radio",{attrs:{label:2}},[n._v("审核不通过")])],1)],1)],1),n._v(" "),2==n.baseInfoCheck.action_type?a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"审核结果："}},[a("el-input",{on:{blur:function(a){n.modifyReason(e.filename+"未审核通过",e.unapproved_reason)}},model:{value:e.unapproved_reason,callback:function(n){e.unapproved_reason=n},expression:"item.unapproved_reason"}})],1)],1):n._e()],1)],1)],1)])],1)})],2),n._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"30px 0"}},[a("p",[n._v("审核不通过：")]),n._v(" "),n._l(n.unapproved_reason_list,function(e,t){return a("p",[n._v(n._s(t+1)+". "+n._s(e.reason)+"；")])}),n._v(" "),a("div",{staticStyle:{padding:"30px 0"}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:n.commitCheck}},[n._v("提交")])],1),n._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",[n._v("取消")])],1)],1)],2)],1)},o=[],s={render:t,staticRenderFns:o};e.a=s},sQkU:function(n,e,a){"use strict";function t(n){return a.i(i.a)({url:"/admin/review_lists?page="+n.page,method:"post",data:n})}function o(){return a.i(i.a)({url:"/product/type_lists",method:"post",data:{}})}function s(n){return a.i(i.a)({url:"/admin/review_info",method:"post",data:n})}function r(n){return a.i(i.a)({url:"/admin/review_approve",method:"post",data:n})}e.b=t,e.c=o,e.a=s,e.d=r;var i=a("Vo7i")},v0X7:function(n,e,a){"use strict";var t=a("sQkU");e.a={name:"goLiveCheckDetail",data:function(){return{versionCheck:{action_type:1,unapproved_reason:"版本信息未审核通过"},unapproved_reason_list:[],record_id:"",checkDetail:"",action_type:null,approved_reason:""}},created:function(){console.log("页面传参",this.$route.query),this.record_id=this.$route.query.record_id},mounted:function(){this.getReviewInfo()},methods:{getReviewInfo:function(){var n=this,e=this,o={record_id:e.record_id};a.i(t.a)(o).then(function(a){console.log("产品审核详情",a),n.checkDetail=a,e.checkDetail.file_list.length>0&&e.checkDetail.file_list.forEach(function(n){e.$set(n,"action_type",1),e.$set(n,"unapproved_reason",n.filename+"未审核通过")}),e.checkDetail.release_file_list.length>0&&e.checkDetail.release_file_list.forEach(function(n){e.$set(n,"action_type",1),e.$set(n,"unapproved_reason",n.filename+"未审核通过")})})},generateReason:function(n,e,a,t){console.log("入参",n,e,a,t);var o=this;if(2===e)this.unapproved_reason_list.push({checkProp:n,reason:a});else if(1===e)for(var s=0;s<o.unapproved_reason_list.length;s++)o.unapproved_reason_list[s].checkProp===n&&o.unapproved_reason_list.splice(s,1)},modifyReason:function(n,e){for(var a=this,t=0;t<a.unapproved_reason_list.length;t++)console.log(a.unapproved_reason_list[t].checkProp),a.unapproved_reason_list[t].checkProp===n&&(""!=e.trim()?a.unapproved_reason_list[t].reason=e:""===e.trim()&&(a.unapproved_reason_list[t].reason=n))},commitCheck:function(){var n=this;if(this.unapproved_reason_list.length>0){this.action_type=2,n.approved_reason="";for(var e=0;e<n.unapproved_reason_list.length;e++)n.approved_reason=n.approved_reason+(e+1)+"."+n.unapproved_reason_list[e]+" ";console.log(n.approved_reason)}else this.action_type=1;var o={record_id:this.record_id,action_type:this.action_type,approved_reason:n.approved_reason};a.i(t.d)(o).then(function(n){n.res&&console.log("提交成功")})}}}}});
//# sourceMappingURL=19.21b5eec3823cd433e96b.js.map