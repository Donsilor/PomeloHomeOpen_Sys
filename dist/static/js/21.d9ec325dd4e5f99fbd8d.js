webpackJsonp([21],{"8iVR":function(e,t,a){var s=a("CzGo");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("3bb40309",s,!0)},CzGo:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"productCheckDetail.vue",sourceRoot:""}])},N1pW:function(e,t,a){"use strict";var s=a("sQkU"),o=a("zL8q");a.n(o);t.a={name:"productCheckDetail",data:function(){return{baseInfoCheck:{action_type:1,unapproved_reason:"产品基本信息未审核通过"},tecTypeCheck:{action_type:1,unapproved_reason:"接入方式未审核通过"},funcCheck_default:{action_type:1,unapproved_reason:"必选功能点设置未审核通过"},funcCheck_optional:{action_type:1,unapproved_reason:"可选功能点设置未审核通过"},unapproved_reason_list:[],record_id:"",checkDetail:"",action_type:null,approved_reason:""}},computed:{attr_list_default:function(){if(this.checkDetail.attr_list)return this.checkDetail.attr_list.filter(function(e){return 1===e.is_enable&&1===e.is_default})},attr_list_optional:function(){if(this.checkDetail.attr_list)return this.checkDetail.attr_list.filter(function(e){return 1===e.is_enable&&0===e.is_default})}},created:function(){console.log("页面传参",this.$route.query),this.record_id=this.$route.query.record_id},mounted:function(){this.getReviewInfo()},methods:{getReviewInfo:function(){var e=this,t=this,a={record_id:t.record_id};Object(s.e)(a).then(function(t){console.log("产品审核详情",t),e.checkDetail=t})},generateReason:function(e,t,a,s){console.log("入参",e,t,a,s);var o=this;if(2===t)this.unapproved_reason_list.push({checkProp:e,reason:a});else if(1===t)for(var r=0;r<o.unapproved_reason_list.length;r++)o.unapproved_reason_list[r].checkProp===e&&o.unapproved_reason_list.splice(r,1)},modifyReason:function(e,t){for(var a=this,s=0;s<a.unapproved_reason_list.length;s++)console.log(a.unapproved_reason_list[s].checkProp),a.unapproved_reason_list[s].checkProp===e&&(""!=t.trim()?a.unapproved_reason_list[s].reason=t:""===t.trim()&&(a.unapproved_reason_list[s].reason=e))},commitCheck:function(){var e=this,t=this;if(this.unapproved_reason_list.length>0){this.action_type=2,t.approved_reason="";for(var a=0;a<t.unapproved_reason_list.length;a++)t.approved_reason=0===a?t.unapproved_reason_list[a].reason:t.approved_reason+"|"+t.unapproved_reason_list[a].reason;console.log(t.approved_reason.split("|"))}else this.action_type=1;var r={record_id:this.record_id,action_type:this.action_type,approved_reason:t.approved_reason};Object(s.a)(r).then(function(t){t.res&&(console.log("提交成功"),Object(o.Message)({message:"审核成功",type:"success",duration:2e3}),e.$router.go(-1))})},cancelCheck:function(){var e=this;this.$confirm("确认取消？").then(function(t){console.log("取消"),e.$router.go(-1)}).catch(function(e){console.log("留在本页面")})}},deactivated:function(){this.$destroy()}}},bKbi:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h3",[e._v("产品基本信息")]),e._v(" "),a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("产品品类")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[e._v(e._s(e.checkDetail.type_name))])],1),e._v(" "),a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("产品品牌")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[e._v(e._s(e.checkDetail.brand_name))])],1),e._v(" "),a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("产品名称")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[e._v(e._s(e.checkDetail.name))])],1),e._v(" "),a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("外观图片（六视图）")]),e._v(" "),e._l(e.checkDetail.images,function(e,t){return a("el-col",{key:e,staticClass:"card-hex-vision",attrs:{offset:0===t?1:0,span:3}},[a("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],staticStyle:{width:"100%",height:"100%"},attrs:{src:e}})])})],2),e._v(" "),a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("产品规格书")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[a("a",{attrs:{href:e.checkDetail.spec_url}},[e._v(e._s(e.checkDetail.spec_name))])])],1),e._v(" "),a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("产品使用说明书")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[a("a",{attrs:{href:e.checkDetail.instruct_url}},[e._v(e._s(e.checkDetail.instruct_name))])])],1),e._v(" "),a("div",[a("el-form",{staticClass:"check-form-inline",attrs:{inline:!0}},[a("el-row",[a("el-col",{staticClass:"check-radio",attrs:{span:6}},[a("el-form-item",[a("el-radio-group",{on:{change:function(t){e.generateReason("产品基本信息未审核通过",e.baseInfoCheck.action_type,e.baseInfoCheck.unapproved_reason,"baseInfoCheck.unapproved_reason")}},model:{value:e.baseInfoCheck.action_type,callback:function(t){e.$set(e.baseInfoCheck,"action_type",t)},expression:"baseInfoCheck.action_type"}},[a("el-radio",{attrs:{label:1}},[e._v("审核通过")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("审核不通过")])],1)],1)],1),e._v(" "),2==e.baseInfoCheck.action_type?a("el-col",{staticClass:"check-reason",attrs:{span:18,offset:1}},[a("el-form-item",{attrs:{label:"审核结果："}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:500},on:{blur:function(t){e.modifyReason("产品基本信息未审核通过",e.baseInfoCheck.unapproved_reason)}},model:{value:e.baseInfoCheck.unapproved_reason,callback:function(t){e.$set(e.baseInfoCheck,"unapproved_reason",t)},expression:"baseInfoCheck.unapproved_reason"}})],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("h3",[e._v("接入方式选择")]),e._v(" "),a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("选择技术方案")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[e._v("\r\n        "+e._s(e.checkDetail.type_txt)+"\r\n      ")])],1),e._v(" "),"wifi"===e.checkDetail.type_txt?a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("芯片厂商")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[e._v("\r\n        "+e._s(e.checkDetail.type_vendor)+"\r\n      ")])],1):e._e(),e._v(" "),"wifi"===e.checkDetail.type_txt?a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("芯片型号\r\n      ")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[e._v("\r\n        "+e._s(e.checkDetail.type_model)+"\r\n      ")])],1):e._e(),e._v(" "),"zigbee"===e.checkDetail.type_txt||"bluetooth"===e.checkDetail.type_txt?a("el-row",{staticClass:"card-row",attrs:{slot:"header"},slot:"header"},[a("el-col",{staticClass:"card-span-left",attrs:{span:2}},[e._v("协议\r\n      ")]),e._v(" "),a("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[e._v("\r\n        "+e._s(e.checkDetail.agreement)+"\r\n      ")])],1):e._e(),e._v(" "),a("div",[a("el-form",{staticClass:"check-form-inline",attrs:{inline:!0}},[a("el-row",[a("el-col",{staticClass:"check-radio",attrs:{span:6}},[a("el-form-item",[a("el-radio-group",{on:{change:function(t){e.generateReason("接入方式未审核通过",e.tecTypeCheck.action_type,e.tecTypeCheck.unapproved_reason,"tecTypeCheck.unapproved_reason")}},model:{value:e.tecTypeCheck.action_type,callback:function(t){e.$set(e.tecTypeCheck,"action_type",t)},expression:"tecTypeCheck.action_type"}},[a("el-radio",{attrs:{label:1}},[e._v("审核通过")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("审核不通过")])],1)],1)],1),e._v(" "),2==e.tecTypeCheck.action_type?a("el-col",{staticClass:"check-reason",attrs:{span:18}},[a("el-form-item",{attrs:{label:"审核结果："}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:500},on:{blur:function(t){e.modifyReason("接入方式未审核通过",e.tecTypeCheck.unapproved_reason)}},model:{value:e.tecTypeCheck.unapproved_reason,callback:function(t){e.$set(e.tecTypeCheck,"unapproved_reason",t)},expression:"tecTypeCheck.unapproved_reason"}})],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("h3",[e._v("必选功能点")]),e._v(" "),a("el-card",{staticClass:"box-card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{slot:"header",data:e.attr_list_default,stripe:""},slot:"header"},[a("el-table-column",{attrs:{prop:"attr_id",label:"Stream_ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"参数名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value_list",label:"value"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type||2===t.row.type?a("span",[e._v(e._s(t.row.value_list.join("/")))]):a("span",[e._v(e._s(t.row.value_string))])]}}])})],1),e._v(" "),a("div",[a("el-form",{staticClass:"check-form-inline",attrs:{inline:!0}},[a("el-row",[a("el-col",{staticClass:"check-radio",attrs:{span:6}},[a("el-form-item",[a("el-radio-group",{on:{change:function(t){e.generateReason("必选功能点设置未审核通过",e.funcCheck_default.action_type,e.funcCheck_default.unapproved_reason,"funcCheck_default")}},model:{value:e.funcCheck_default.action_type,callback:function(t){e.$set(e.funcCheck_default,"action_type",t)},expression:"funcCheck_default.action_type"}},[a("el-radio",{attrs:{label:1}},[e._v("审核通过")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("审核不通过")])],1)],1)],1),e._v(" "),2==e.funcCheck_default.action_type?a("el-col",{staticClass:"check-reason",attrs:{span:18}},[a("el-form-item",{attrs:{label:"审核结果："}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:500},on:{blur:function(t){e.modifyReason("必选功能点设置未审核通过",e.funcCheck_default.unapproved_reason)}},model:{value:e.funcCheck_default.unapproved_reason,callback:function(t){e.$set(e.funcCheck_default,"unapproved_reason",t)},expression:"funcCheck_default.unapproved_reason"}})],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("h3",[e._v("可选功能点")]),e._v(" "),a("el-card",{staticClass:"box-card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{slot:"header",data:e.attr_list_optional,stripe:""},slot:"header"},[a("el-table-column",{attrs:{prop:"attr_id",label:"Stream_ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"参数名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value_list",label:"value"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type||2===t.row.type?a("span",[e._v(e._s(t.row.value_list.join("/")))]):a("span",[e._v(e._s(t.row.value_string))])]}}])})],1),e._v(" "),a("div",[a("el-form",{staticClass:"check-form-inline",attrs:{inline:!0}},[a("el-row",[a("el-col",{staticClass:"check-radio",attrs:{span:6}},[a("el-form-item",[a("el-radio-group",{on:{change:function(t){e.generateReason("可选功能点设置未审核通过",e.funcCheck_optional.action_type,e.funcCheck_optional.unapproved_reason,"funcCheck_optional")}},model:{value:e.funcCheck_optional.action_type,callback:function(t){e.$set(e.funcCheck_optional,"action_type",t)},expression:"funcCheck_optional.action_type"}},[a("el-radio",{attrs:{label:1}},[e._v("审核通过")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("审核不通过")])],1)],1)],1),e._v(" "),2==e.funcCheck_optional.action_type?a("el-col",{staticClass:"check-reason",attrs:{span:18}},[a("el-form-item",{attrs:{label:"审核结果："}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:500},on:{blur:function(t){e.modifyReason("可选功能点设置未审核通过",e.funcCheck_optional.unapproved_reason)}},model:{value:e.funcCheck_optional.unapproved_reason,callback:function(t){e.$set(e.funcCheck_optional,"unapproved_reason",t)},expression:"funcCheck_optional.unapproved_reason"}})],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"30px 0"}},[e.unapproved_reason_list.length?a("p",[e._v("审核不通过：")]):e._e(),e._v(" "),e._l(e.unapproved_reason_list,function(t,s){return a("p",[e._v(e._s(s+1)+". "+e._s(t.reason)+"；")])}),e._v(" "),a("div",{staticStyle:{padding:"30px 0"}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.commitCheck}},[e._v("提交")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{on:{click:e.cancelCheck}},[e._v("取消")])],1)],1)],2)],1)},o=[],r={render:s,staticRenderFns:o};t.a=r},cBOl:function(e,t,a){"use strict";function s(e){a("8iVR")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("N1pW"),r=a("bKbi"),n=a("VU/8"),c=s,l=n(o.a,r.a,!1,c,"data-v-04d802d0",null);t.default=l.exports},sQkU:function(e,t,a){"use strict";function s(e){return Object(p.a)({url:"/admin/review_lists?page="+e.page,method:"post",data:e})}function o(){return Object(p.a)({url:"/product/type_lists",method:"post",data:{}})}function r(e){return Object(p.a)({url:"/admin/review_info",method:"post",data:e})}function n(e){return Object(p.a)({url:"/admin/review_approve",method:"post",data:e})}function c(e){return Object(p.a)({url:"/admin/product_lists",method:"post",data:e})}function l(e){return Object(p.a)({url:"/admin/product_info",method:"post",data:e})}function i(e){return Object(p.a)({url:"/admin/product_unshelve",method:"post",data:e})}t.f=s,t.d=o,t.e=r,t.a=n,t.c=c,t.b=l,t.g=i;var p=a("Vo7i")}});
//# sourceMappingURL=21.d9ec325dd4e5f99fbd8d.js.map