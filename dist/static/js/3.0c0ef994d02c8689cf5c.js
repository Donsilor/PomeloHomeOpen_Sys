webpackJsonp([3,48,51],{"0jZE":function(e,t,a){"use strict";var l=a("mvHQ"),i=a.n(l),r=a("zL8q"),o=(a.n(r),a("Vo7i")),s=(a("VSB1"),a("TIfe"));a("bFNI"),a("i224");t.a={name:"existedCategory",computed:{},created:function(){},mounted:function(){this.getParentType()},data:function(){var e=function(e,t,a){if(!t)return a(new Error("请输入子品类ID"));t<=5e3?a(new Error("ID必须大于5000")):a()};return{isLoadedTechnical:!1,typeid:this.$route.query.id,token:Object(s.a)(),isLoadData:!1,editText:"编辑品类信息",form:{id:"",name:"",name_e:"",parent_type_id:"",parent_name:"",parent_name_e:"",icon_list:{high_light:{file_id:"",file_url:"",file_name:""},normal:{file_id:"",file_url:"",file_name:""},normal_s:{file_id:"",file_url:"",file_name:""},disabled:{file_id:"",file_url:"",file_name:""}},parent_icon_list:{high_light:{file_id:"",file_url:"",file_name:""},normal:{file_id:"",file_url:"",file_name:""},normal_s:{file_id:"",file_url:"",file_name:""},disabled:{file_id:"",file_url:"",file_name:""}},show_in_select_list:0},rules:{id:[{validator:e,trigger:"blur"}],name:[{required:!0,message:"请输入子品类名称",trigger:"blur"},{max:32,message:"子品类名称不能超过32个字符",trigger:"blur"}],name_e:[{required:!0,message:"请输入子品类英文名称",trigger:"blur"},{max:32,message:"子品类英文名称不能超过32个字符",trigger:"blur"}],parent_type_id:[{required:!0,message:"请选择所属品类",trigger:"change"}]},technical_wifi:[],technical_bluetooth:[],technical_zigbee:[],parentList:[],high_light_data:{token:Object(s.a)(),file_id:"",attribute:"high_light"},normal_s_data:{token:Object(s.a)(),file_id:"",attribute:"normal_s"},normal_data:{token:Object(s.a)(),file_id:"",attribute:"normal"},disabled_data:{token:Object(s.a)(),file_id:"",attribute:"disabled"},parent_high_light_data:{token:Object(s.a)(),file_id:"",attribute:"parent_high_light"},parent_normal_s_data:{token:Object(s.a)(),file_id:"",attribute:"parent_normal_s"},parent_normal_data:{token:Object(s.a)(),file_id:"",attribute:"parent_normal"},parent_disabled_data:{token:Object(s.a)(),file_id:"",attribute:"parent_disabled"}}},methods:{getParentType:function(){var e=this;Object(o.a)({url:"/product/parenttype_lists",method:"post",data:{}}).then(function(t){e.parentList=t.list})},handleAvatarSuccess:function(e,t){if(200!==e.code)return void this.$message.error("上传出错，请重新上传");var a=e.result;switch(e.result.type){case"high_light":this.form.icon_list.high_light=a.high_light,this.high_light_data.file_id=a.high_light.file_id;break;case"normal_s":this.form.icon_list.normal_s=a.normal_s,this.normal_s_data.file_id=a.normal_s.file_id;break;case"normal":this.form.icon_list.normal=a.normal,this.normal_data.file_id=a.normal.file_id;break;case"disabled":this.form.icon_list.disabled=a.disabled,this.disabled_data.file_id=a.disabled.file_id;break;case"parent_high_light":this.form.parent_icon_list.high_light=a.parent_high_light,this.parent_high_light_data.file_id=a.parent_high_light.file_id;break;case"parent_normal_s":this.form.parent_icon_list.normal_s=a.parent_normal_s,this.parent_normal_s_data.file_id=a.parent_normal_s.file_id;break;case"parent_normal":this.form.parent_icon_list.normal=a.parent_normal,this.parent_normal_data.file_id=a.parent_normal.file_id;break;case"parent_disabled":this.form.parent_icon_list.disabled=a.parent_disabled,this.parent_disabled_data.file_id=a.parent_disabled.file_id}},beforeAvatarUpload:function(e){var t="image/png"===e.type,a=e.size/1024/1024<5;return t||this.$message.error("请上传5M大小内PNG格式的文件"),a||this.$message.error("请上传5M大小内PNG格式的文件"),t&&a},addGory:function(){var e=this;this.$confirm("是否确定添加该品类？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.addGoryEvent()}).catch(function(){})},addGoryEvent:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return e.$message({type:"error",message:"添加品类失败!"}),!1;var a=JSON.parse(i()(e.form));Object(o.a)({url:"/producttype/add",method:"post",data:a}).then(function(t){e.$message({type:"success",message:"保存成功!"}),setTimeout(function(){e.$router.push({path:"/typeManagement/existedCategory"})},2e3)}).catch(function(t){e.$message({type:"error",message:t.msg})})})},handleBackEvent:function(){this.$router.push({path:"/typeManagement/existedCategory"})}},components:{}}},CAgH:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container addCategoryPage"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"ghost"},on:{click:e.handleBackEvent}},[e._v("返回")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addGory}},[e._v("确定并添加该品类")])],1),e._v(" "),a("el-col",{staticStyle:{margin:"20px 0px","padding-bottom":"40px"},attrs:{span:24}},[a("div",{staticClass:"desTitleTop"},[e._v("基本信息")]),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form",{ref:"ruleForm",staticStyle:{"margin-top":"20px"},attrs:{rules:e.rules,model:e.form,"label-width":"125px",size:"large"}},[a("el-form-item",{attrs:{label:"子品类ID",prop:"id"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{span:6,placeholder:"请输入子品类ID"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"子品类名称",prop:"name"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{span:6,placeholder:"请输入子品类名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"子品类英文名",prop:"name_e"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{span:6,placeholder:"请输入子品类英文"},model:{value:e.form.name_e,callback:function(t){e.$set(e.form,"name_e",t)},expression:"form.name_e"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"padding-bottom":"30px"},attrs:{label:"品类图标"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"fileuploadItem gavin"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,accept:"image/png",data:e.high_light_data}},[""!=e.high_light_data.file_id?a("img",{staticClass:"avatar",attrs:{src:e.form.icon_list.high_light.file_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("span",{staticClass:"file_upload_img_des"},[e._v("高亮状态")])],1),e._v(" "),a("div",{staticClass:"fileuploadItem gavin"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,accept:"image/png",data:e.normal_s_data}},[""!=e.normal_s_data.file_id?a("img",{staticClass:"avatar",attrs:{src:e.form.icon_list.normal_s.file_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("span",{staticClass:"file_upload_img_des"},[e._v("默认状态小尺寸")])],1),e._v(" "),a("div",{staticClass:"fileuploadItem gavin"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,accept:"image/png",data:e.normal_data}},[""!=e.normal_data.file_id?a("img",{staticClass:"avatar",attrs:{src:e.form.icon_list.normal.file_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("span",{staticClass:"file_upload_img_des"},[e._v("默认状态大尺寸")])],1),e._v(" "),a("div",{staticClass:"fileuploadItem gavin"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,accept:"image/png",data:e.disabled_data}},[""!=e.disabled_data.file_id?a("img",{staticClass:"avatar",attrs:{src:e.form.icon_list.disabled.file_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("span",{staticClass:"file_upload_img_des"},[e._v("不可用状态")])],1)])],1),e._v(" "),a("el-form-item",{attrs:{label:"所属大品类",prop:"parent_type_id"}},[a("el-col",{attrs:{span:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"所属品类"},model:{value:e.form.parent_type_id,callback:function(t){e.$set(e.form,"parent_type_id",t)},expression:"form.parent_type_id"}},e._l(e.parentList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1)],1)],1)],1)],1)},i=[],r={render:l,staticRenderFns:i};t.a=r},"ER+V":function(e,t,a){"use strict";var l=[{technology_type:"",index:0,vendor:"",model:"",agreement:""},{technology_type:"",index:1,vendor:"",model:"",agreement:""}];t.a={computed:{},created:function(){},mounted:function(){},data:function(){return{dialogFormVisible:!1,form:{technology_list:[{technology_type:"",index:0,vendor:"",model:"",agreement:""},{technology_type:"",index:1,vendor:"",model:"",agreement:""}]}}},methods:{addTechnicalList:function(){this.form.technology_list.push({technology_type:"",vendor:"",model:"",agreement:""})},removeTechnicalList:function(e){this.form.technology_list.splice(e,1)},confirmTechnical:function(){var e=this;this.$refs.techniForm.validate(function(t){if(t){var a=[],i={};e.form.technology_list.forEach(function(e,t){console.log(e.technology_type),""!=e.technology_type&&(1==e.technology_type?a.push({technology_type:e.technology_type,vendor:e.vendor,model:e.model}):a.push({technology_type:e.technology_type,agreement:e.agreement}))}),i={technology_list:a},e.$emit("get-data",i),e.dialogFormVisible=!1,e.form.technology_list=l}})}}}},PJiV:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".addParams[data-v-15d1ac78]{margin-top:15px}.addAttr[data-v-15d1ac78]{margin-left:140px;color:#409eff}.w100p[data-v-15d1ac78]{width:100%}.w50p[data-v-15d1ac78]{width:50%}.input-width[data-v-15d1ac78]{width:285px}.addbtn[data-v-15d1ac78]{font-size:12px;color:#409eff}.first-item[data-v-15d1ac78],.sec-item[data-v-15d1ac78]{border:1px dashed #d2d2d2;padding-top:15px}.sec-item[data-v-15d1ac78]{width:98%}.mt0[data-v-15d1ac78]{margin-bottom:0}.pl8 .el-form-item__label[data-v-15d1ac78]{padding-left:10px}","",{version:3,sources:["d:/work/PomeloHomeOpen_Sys/src/views/typeManagement/addAttribute.vue"],names:[],mappings:"AACA,4BACI,eAAiB,CACpB,AACD,0BACI,kBAAmB,AACnB,aAAe,CAClB,AACD,wBACI,UAAY,CACf,AACD,uBACI,SAAW,CACd,AACD,8BACI,WAAa,CAChB,AACD,yBACI,eAAgB,AAChB,aAAc,CACjB,AAKD,wDAHI,0BAA2B,AAC3B,gBAAkB,CAMrB,AAJD,2BAGI,SAAW,CACd,AACD,sBACI,eAAiB,CACpB,AACD,2CACI,iBAAmB,CACtB",file:"addAttribute.vue",sourcesContent:["\n.addParams[data-v-15d1ac78]{\n    margin-top: 15px;\n}\n.addAttr[data-v-15d1ac78]{\n    margin-left: 140px;\n    color: #409EFF;\n}\n.w100p[data-v-15d1ac78]{\n    width: 100%;\n}\n.w50p[data-v-15d1ac78]{\n    width: 50%;\n}\n.input-width[data-v-15d1ac78]{\n    width: 285px;\n}\n.addbtn[data-v-15d1ac78]{\n    font-size: 12px;\n    color:#409EFF;\n}\n.first-item[data-v-15d1ac78]{\n    border: 1px dashed #d2d2d2;\n    padding-top: 15px;\n}\n.sec-item[data-v-15d1ac78]{\n    border: 1px dashed #d2d2d2;\n    padding-top: 15px;\n    width: 98%;\n}\n.mt0[data-v-15d1ac78]{\n    margin-bottom: 0;\n}\n.pl8 .el-form-item__label[data-v-15d1ac78]{\n    padding-left: 10px;\n}\n"],sourceRoot:""}])},UgB1:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".addbtn[data-v-15eb2cf1]{font-size:12px;color:#999}.addTechDialog .el-dialog__body[data-v-15eb2cf1]{overflow-y:auto;max-height:400px;padding-top:10px}.addTechDialog .el-form-item__label[data-v-15eb2cf1]{padding-bottom:0;line-height:30px}.remove-item[data-v-15eb2cf1]{font-size:24px;cursor:pointer;color:#409eff;position:relative;top:30px}","",{version:3,sources:["d:/work/PomeloHomeOpen_Sys/src/views/typeManagement/addTechnical.vue"],names:[],mappings:"AACA,yBACI,eAAgB,AAChB,UAAY,CACf,AACD,iDACI,gBAAiB,AACjB,iBAAkB,AAClB,gBAAkB,CACrB,AACD,qDACI,iBAAoB,AACpB,gBAAkB,CACrB,AACD,8BACI,eAAgB,AAChB,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,QAAU,CACb",file:"addTechnical.vue",sourcesContent:["\n.addbtn[data-v-15eb2cf1]{\n    font-size: 12px;\n    color: #999;\n}\n.addTechDialog .el-dialog__body[data-v-15eb2cf1]{\n    overflow-y: auto;\n    max-height: 400px;\n    padding-top: 10px;\n}\n.addTechDialog .el-form-item__label[data-v-15eb2cf1]{\n    padding-bottom: 0px;\n    line-height: 30px;\n}\n.remove-item[data-v-15eb2cf1]{\n    font-size: 24px;\n    cursor: pointer;\n    color: #409EFF;\n    position: relative;\n    top: 30px;\n}\n"],sourceRoot:""}])},a10I:function(e,t,a){var l=a("tD9m");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("03d94e30",l,!0)},atKs:function(e,t,a){"use strict";function l(e){a("a10I")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0jZE"),r=a("CAgH"),o=a("VU/8"),s=l,n=o(i.a,r.a,!1,s,null,null);t.default=n.exports},bFNI:function(e,t,a){"use strict";function l(e){a("hOKv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ER+V"),r=a("nUaf"),o=a("VU/8"),s=l,n=o(i.a,r.a,!1,s,"data-v-15eb2cf1",null);t.default=n.exports},hOKv:function(e,t,a){var l=a("UgB1");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("4e98d3ee",l,!0)},i224:function(e,t,a){"use strict";function l(e){a("qu1P")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qQ+c"),r=a("mekC"),o=a("VU/8"),s=l,n=o(i.a,r.a,!1,s,"data-v-15d1ac78",null);t.default=n.exports},mekC:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"attDialog"},[a("el-dialog",{attrs:{"before-close":e.closeDialog,top:e.top,center:!0,title:e.dialogTitle,visible:e.visible,width:"1000px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"attForm",attrs:{inline:!0,rules:e.rules,model:e.form,"label-position":"left","label-width":"140px"}},[a("el-row",[a("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:2}},[e._v("\n          属性信息\n        ")]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"w100p",attrs:{label:"属性名称(node_ID)",prop:"nodeid"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:e.form.nodeid,callback:function(t){e.$set(e.form,"nodeid",t)},expression:"form.nodeid"}})],1),e._v(" "),a("el-form-item",{staticClass:"w100p pl8",attrs:{label:"  是否为必选"}},[a("el-radio-group",{model:{value:e.form.is_default,callback:function(t){e.$set(e.form,"is_default",t)},expression:"form.is_default"}},[a("el-radio",{attrs:{label:1}},[e._v("必选")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("非必选")])],1)],1)],1)],1),e._v(" "),e._l(e.form.value_list,function(t,l){return a("el-row",{key:l,staticClass:"first-item"},[a("div",[a("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:2}},[e._v("\n            参数信息\n          ")]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{prop:"value_list."+l+".key",rules:[{required:!0,message:"参数名称不能为空"},{min:1,max:32,message:"参数名称最多32个字符"},{validator:e.letterAndUnderscode}],label:"参数名称(key)"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"paramKey.key"}})],1),e._v(" "),a("el-form-item",{attrs:{inline:!0,prop:"value_list."+l+".remark",rules:[{required:!0,message:"参数含义不能为空"}],label:"参数含义","label-width":"100px"}},[a("el-input",{staticClass:"input-width",model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"paramKey.remark"}})],1),e._v(" "),a("el-form-item",{staticClass:"w50p pl8",attrs:{prop:"value_list."+l+".unit",rules:[{validator:e.lengthLimit.bind(null,16)}],label:"单位"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"支持中英文、特殊字符，最多16个字符"},model:{value:t.unit,callback:function(a){e.$set(t,"unit",a)},expression:"paramKey.unit"}})],1),e._v(" "),a("el-form-item",{staticClass:"w100p",attrs:{prop:"value_list."+l+".method",rules:[{required:!0,message:"参数可控不能为空"}],label:"参数可控"}},[a("el-checkbox-group",{model:{value:t.method,callback:function(a){e.$set(t,"method",a)},expression:"paramKey.method"}},[a("el-checkbox",{attrs:{label:"set"}},[e._v("set")]),e._v(" "),a("el-checkbox",{attrs:{label:"get"}},[e._v("get")]),e._v(" "),a("el-checkbox",{attrs:{label:"report"}},[e._v("report")]),e._v(" "),a("el-checkbox",{attrs:{label:"alarm"}},[e._v("alarm")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值类型"}},[a("el-radio-group",{on:{change:function(a){e.changeTypeValue(a,t)}},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"paramKey.type"}},[a("el-radio",{attrs:{label:"string"}},[e._v("string")]),e._v(" "),a("el-radio",{attrs:{label:"int"}},[e._v("int")]),e._v(" "),a("el-radio",{attrs:{label:"object"}},[e._v("object")]),e._v(" "),a("el-radio",{attrs:{label:"float"}},[e._v("float")]),e._v(" "),a("el-radio",{attrs:{label:"array"}},[e._v("array")]),e._v(" "),a("el-radio",{attrs:{label:"bool"}},[e._v("bool")]),e._v(" "),a("el-radio",{attrs:{label:"otc"}},[e._v("otc")])],1)],1),e._v(" "),["string","float","array","bool"].indexOf(t.type)>=0?a("el-form-item",{staticClass:"w100p pl8",attrs:{label:"复选/单选"}},[a("el-radio-group",{model:{value:t.is_checkbox,callback:function(a){e.$set(t,"is_checkbox",a)},expression:"paramKey.is_checkbox"}},[a("el-radio",{attrs:{label:"1"}},[e._v("复选")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("单选")])],1)],1):e._e(),e._v(" "),"otc"==t.type?a("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"数据说明"},model:{value:t.value_list[0].value_des,callback:function(a){e.$set(t.value_list[0],"value_des",a)},expression:"paramKey.value_list[0].value_des"}}),e._v(" "),a("span",[e._v("数据由厂商端输入")])],1):e._e(),e._v(" "),1==t.key_type?[a("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"枚举参数值"}},[a("el-form-item",{attrs:{label:"数据说明","label-width":"290px"}}),e._v(" "),a("el-form-item",{attrs:{label:"传送数据","label-width":"290px"}}),e._v(" "),a("el-form-item",{attrs:{label:"操作","label-width":"85px"}})],1),e._v(" "),e._l(t.value_list,function(i,r){return a("el-form-item",{key:r,staticClass:"w100p mt0",attrs:{label:" "}},[a("el-form-item",{attrs:{prop:"value_list."+l+".value_list."+r+".value_des",rules:[{validator:e.lengthLimit.bind(null,64)}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"最多64个字符"},model:{value:i.value_des,callback:function(t){e.$set(i,"value_des",t)},expression:"valueItem.value_des"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"value_list."+l+".value_list."+r+".value",rules:[{validator:e.lengthLimit.bind(null,32)},{validator:e.unCN}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"字母数字符号，最多32个字符"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"valueItem.value"}})],1),e._v(" "),r>0?a("el-form-item",{staticStyle:{"padding-left":"25px"},attrs:{label:""}},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){e.delEnumerateItem(r,t)}}})]):e._e()],1)}),e._v(" "),a("el-form-item",{staticClass:"w100p",attrs:{label:" "},scopedSlots:e._u([{key:"default",fn:function(l){return[a("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:function(a){e.addEnumerateItem(t)}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加更多参数值\n                  ")])]}}])})]:e._e(),e._v(" "),2==t.key_type?a("div",[a("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"参数范围值"}},[t.value_list[1]?a("el-form-item",{attrs:{prop:"value_list."+l+".value_list.1.value",rules:[{required:!0,message:"最小值不能为空"},{type:"number",message:"最小值为数字"}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最小值"},model:{value:t.value_list[1].value,callback:function(a){e.$set(t.value_list[1],"value",e._n(a))},expression:"paramKey.value_list[1].value"}})],1):e._e(),e._v(" "),t.value_list[2]?a("el-form-item",{attrs:{prop:"value_list."+l+".value_list.2.value",rules:[{required:!0,message:"最大值不能为空"},{type:"number",message:"最大值为数字"}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最大值"},model:{value:t.value_list[2].value,callback:function(a){e.$set(t.value_list[2],"value",e._n(a))},expression:"paramKey.value_list[2].value"}})],1):e._e()],1)],1):e._e(),e._v(" "),3==t.key_type?[e._l(t.list,function(i,r){return a("div",{key:r,staticClass:"sec-item"},[a("el-form-item",{attrs:{prop:"value_list."+l+".list."+r+".key",rules:[{required:!0,message:"参数名称不能为空"},{min:1,max:32,message:"参数名称最多32个字符"},{validator:e.letterAndUnderscode}],label:"参数名称(key)"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:i.key,callback:function(t){e.$set(i,"key",t)},expression:"em.key"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"value_list."+l+".list."+r+".remark",rules:[{required:!0,message:"参数含义不能为空"}],label:"参数含义","label-width":"100px"}},[a("el-input",{staticClass:"input-width",model:{value:i.remark,callback:function(t){e.$set(i,"remark",t)},expression:"em.remark"}})],1),e._v(" "),a("el-form-item",{staticClass:"pl8",attrs:{prop:"value_list."+l+".list."+r+".unit",rules:[{validator:e.lengthLimit.bind(null,16)}],label:"单位"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"支持中英文、特殊字符，最多16个字符"},model:{value:i.unit,callback:function(t){e.$set(i,"unit",t)},expression:"em.unit"}})],1),e._v(" "),a("el-form-item",{staticClass:"w100p",attrs:{prop:"value_list."+l+".list."+r+".method",rules:[{required:!0,message:"参数可控不能为空"}],label:"参数可控"}},[a("el-checkbox-group",{model:{value:i.method,callback:function(t){e.$set(i,"method",t)},expression:"em.method"}},[a("el-checkbox",{attrs:{label:"set"}},[e._v("set")]),e._v(" "),a("el-checkbox",{attrs:{label:"get"}},[e._v("get")]),e._v(" "),a("el-checkbox",{attrs:{label:"report"}},[e._v("report")]),e._v(" "),a("el-checkbox",{attrs:{label:"alarm"}},[e._v("alarm")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值类型"}},[a("el-radio-group",{on:{change:function(t){e.changeTypeValue(t,i)}},model:{value:i.type,callback:function(t){e.$set(i,"type",t)},expression:"em.type"}},[a("el-radio",{attrs:{label:"string"}},[e._v("string")]),e._v(" "),a("el-radio",{attrs:{label:"int"}},[e._v("int")]),e._v(" "),a("el-radio",{attrs:{label:"float"}},[e._v("float")]),e._v(" "),a("el-radio",{attrs:{label:"array"}},[e._v("array")]),e._v(" "),a("el-radio",{attrs:{label:"bool"}},[e._v("bool")]),e._v(" "),a("el-radio",{attrs:{label:"otc"}},[e._v("otc")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"w100p pl8",attrs:{label:"复选/单选"}},[["string","float","array","bool"].indexOf(i.type)>=0?a("el-radio-group",{model:{value:i.is_checkbox,callback:function(t){e.$set(i,"is_checkbox",t)},expression:"em.is_checkbox"}},[a("el-radio",{attrs:{label:"1"}},[e._v("复选")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("单选")])],1):e._e()],1),e._v(" "),"otc"==i.type?a("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值"}},[a("el-input",{staticStyle:{width:"50%"},model:{value:i.value_list[0].value_des,callback:function(t){e.$set(i.value_list[0],"value_des",t)},expression:"em.value_list[0].value_des"}}),e._v(" "),a("span",[e._v("数据由厂商端输入")])],1):e._e(),e._v(" "),1==i.key_type?[a("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"枚举参数值"}},[a("el-form-item",{attrs:{label:"参数名称(key)","label-width":"290px"}}),e._v(" "),a("el-form-item",{attrs:{label:"传送数据","label-width":"290px"}}),e._v(" "),a("el-form-item",{attrs:{label:"操作","label-width":"60px"}})],1),e._v(" "),e._l(i.value_list,function(t,o){return a("el-form-item",{key:o,staticClass:"w100p mt0",attrs:{label:" "}},[a("el-form-item",{attrs:{prop:"value_list."+l+".list."+r+".value_list."+o+".value_des",rules:[{validator:e.lengthLimit.bind(null,64)}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"最多64个字符"},model:{value:t.value_des,callback:function(a){e.$set(t,"value_des",a)},expression:"vi.value_des"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"value_list."+l+".list."+r+".value_list."+o+".value",rules:[{validator:e.lengthLimit.bind(null,32)},{validator:e.unCN}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"字母数字符号，最多32个字符"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"vi.value"}})],1),e._v(" "),o>0?a("el-form-item",{staticStyle:{"padding-left":"25px"},attrs:{label:""}},[a("i",{staticClass:"el-icon-delete",on:{click:function(t){e.delEnumerateItem(o,i)}}})]):e._e()],1)}),e._v(" "),a("el-form-item",{staticClass:"w100p",attrs:{label:" "},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:function(t){e.addEnumerateItem(i)}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加更多参数值\n                      ")])]}}])})]:e._e(),e._v(" "),2==i.key_type?a("div",[a("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"参数范围值"}},[i.value_list[1]?a("el-form-item",{attrs:{prop:"value_list."+l+".list."+r+".value_list.1.value",rules:[{required:!0,message:"最小值不能为空"},{type:"number",message:"最小值为数字"}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最小值"},model:{value:i.value_list[1].value,callback:function(t){e.$set(i.value_list[1],"value",e._n(t))},expression:"em.value_list[1].value"}})],1):e._e(),e._v(" "),i.value_list[2]?a("el-form-item",{attrs:{prop:"value_list."+l+".list."+r+".value_list.2.value",rules:[{required:!0,message:"最大值不能为空"},{type:"number",message:"最大值为数字"}],label:""}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最大值"},model:{value:i.value_list[2].value,callback:function(t){e.$set(i.value_list[2],"value",e._n(t))},expression:"em.value_list[2].value"}})],1):e._e()],1)],1):e._e(),e._v(" "),r>0?a("div",{staticStyle:{"text-align":"right"}},[a("span",{staticClass:"el-icon-delete",attrs:{title:"删除参数"},on:{click:function(a){e.deleteAttr(t,r)}}})]):e._e()],2)}),e._v(" "),a("a",{staticClass:"addAttr",attrs:{href:"javascript:void(0);"},on:{click:function(a){e.addAttribute(t)}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新增属性")])]:e._e()],2),e._v(" "),l>0?a("div",{staticStyle:{"text-align":"right"}},[a("span",{staticClass:"el-icon-delete",attrs:{title:"删除参数"},on:{click:function(t){e.deleteParams(l)}}})]):e._e()],1)])}),e._v(" "),a("div",{staticClass:"buttonPos"},[a("el-button",{staticClass:"addParams",attrs:{type:"ghost"},on:{click:e.addParams}},[e._v("新增参数")])],1)],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmTechnical}},[e._v("添 加")])],1)],1)],1)},i=[],r={render:l,staticRenderFns:i};t.a=r},nUaf:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("el-dialog",{attrs:{title:"增加技术方案",visible:e.dialogFormVisible,width:"50%","custom-class":"addTechDialog"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"techniForm",attrs:{model:e.form,inline:!0,"label-position":"top"}},e._l(e.form.technology_list,function(t,l){return a("el-row",{key:t.value,attrs:{span:24}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"技术方案",prop:"technology_list."+l+".technology_type",rules:[{required:!0,message:"技术方案不能为空",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择技术方案"},model:{value:t.technology_type,callback:function(a){e.$set(t,"technology_type",a)},expression:"item.technology_type"}},[a("el-option",{attrs:{label:"Wi-Fi方案",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"ZigBee方案",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"蓝牙方案",value:"3"}})],1)],1)],1),e._v(" "),1==t.technology_type?a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"模组/芯片厂家",prop:"technology_list."+l+".vendor",rules:[{required:!0,message:"模组/芯片厂家不能为空",trigger:"blur"}]}},[a("el-input",{model:{value:t.vendor,callback:function(a){e.$set(t,"vendor",a)},expression:"item.vendor"}})],1)],1):e._e(),e._v(" "),1==t.technology_type?a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"模组/芯片型号",prop:"technology_list."+l+".model",rules:[{required:!0,message:"模组/芯片型号不能为空",trigger:"blur"}]}},[a("el-input",{model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}})],1)],1):e._e(),e._v(" "),2==t.technology_type||3==t.technology_type?a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"协议",prop:"technology_list."+l+".agreement",rules:[{required:!0,message:"协议不能为空",trigger:"blur"}]}},[a("el-input",{model:{value:t.agreement,callback:function(a){e.$set(t,"agreement",a)},expression:"item.agreement"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:" "}},[e.form.technology_list.length>1?a("i",{staticClass:"el-icon-circle-close remove-item",on:{click:function(t){e.removeTechnicalList(l)}}}):e._e()])],1)],1)})),e._v(" "),a("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:e.addTechnicalList}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加更多技术方案")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmTechnical}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{staticStyle:{"margin-right":"15px"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加技术方案")])],1)},i=[],r={render:l,staticRenderFns:i};t.a=r},"qQ+c":function(e,t,a){"use strict";var l=a("mvHQ"),i=a.n(l),r=a("Vo7i"),o=(a("TIfe"),{method:[],key:"",type:"string",key_type:1,unit:"",is_checkbox:"1",value_list:[{value:"",value_des:""}],remark:""}),s={method:[],key:"",type:"string",key_type:1,remark:"",unit:"",is_checkbox:"1",value_list:[{value:"",value_des:""}],list:[o]};t.a={props:["typeid","token","visible","attrid"],data:function(){var e=i()(s);return{top:window.innerHeight-660>0?(window.innerHeight-660)/2+"px":"0px",dialogTitle:"新建属性参数",hulian_value:!0,isChooseObject:!1,form_string:e,form:{token:this.token,type_id:this.typeid,nodeid:"",is_default:1,value_list:[JSON.parse(e)]},rules:{nodeid:[{required:!0,message:"属性名称不能为空"},{min:1,max:32,message:"属性名称最多32个字符"},{validator:this.letterAndUnderscode}]}}},computed:{},watch:{attrid:function(e){e?(this.getAttr(e),this.dialogTitle="编辑属性参数"):this.dialogTitle="新建属性参数"}},created:function(){},mounted:function(){},methods:{getAttr:function(e){var t=this;Object(r.a)({url:"/attribute/info",method:"post",data:{attr_id:e}}).then(function(e){t.form.nodeid=e.ret.nodeid,t.form.is_default=e.ret.is_default,e.ret.value_list.forEach(function(e){e.list||(e.list=[JSON.parse(i()(o))]),e.value_list||(e.value_list=[{value:"",value_des:""}])}),t.form.value_list=e.ret.value_list})},addParams:function(){this.form.value_list.push(JSON.parse(this.form_string))},deleteParams:function(e){this.form.value_list.splice(e,1)},addAttribute:function(e){var t=i()(o);e.list.push(JSON.parse(t))},deleteAttr:function(e,t){e.list.splice(t,1)},changeTypeValue:function(e,t){var a=[{value:1,value_des:"类型"},{value:"",value_des:"最小值"},{value:"",value_des:"最大值"}],l=[{value:"",value_des:""}];"int"==e?(t.key_type=2,t.value_list=a):"object"==e?t.key_type=3:"otc"==e?(t.key_type=4,t.value_list=[{value:"",value_des:""}]):(t.key_type=1,t.value_list=l)},addEnumerateItem:function(e){e.value_list.push({value:"",value_des:""})},delEnumerateItem:function(e,t){t.value_list.splice(e,1)},closeDialog:function(){this.$refs.attForm.resetFields(),this.form.value_list=[JSON.parse(this.form_string)],this.$emit("close-dialog")},confirmTechnical:function(){var e=this;this.$refs.attForm.validate(function(t){if(t){var a=i()(e.form),l=JSON.parse(a);l.value_list.forEach(function(e){"3"==e.key_type?(delete e.value_list,delete e.is_checkbox,e.list.forEach(function(e){"1"!=e.key_type&&delete e.is_checkbox})):(delete e.list,"1"!=e.key_type&&delete e.is_checkbox)}),e.attrid&&(l.attr_id=e.attrid),Object(r.a)({url:e.attrid?"/attribute/edit":"/attribute/add",method:"post",data:l}).then(function(t){e.$emit("fresh-list"),e.closeDialog()})}})},letterAndUnderscode:function(e,t,a){var l=!0;if(!t)return void a();for(var i=0;i<t.length;i++){var r=t.charCodeAt(i);if(!(r>=65&&r<=90||r>=97&&r<=122||95==r||r>=33&&r<=46||r>=48&&r<=57)){l=!1,a("只能是字母下划线");break}}l&&a()},unCN:function(e,t,a){/[\u4e00-\u9fa5]+/g.test(t)?a("不支持中文汉字"):a()},lengthLimit:function(e,t,a,l){a&&a.length>e?l("长度不能超过"+e+"字符"):l()}}}},qu1P:function(e,t,a){var l=a("PJiV");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("f4d71b74",l,!0)},tD9m:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".addCategoryPage .el-form-item__error{padding:5px 15px!important}.addCategoryPage .desTitle,.addCategoryPage .desTitleTop{border-bottom:1px solid #ddd;line-height:30px;height:30px}.addCategoryPage .desTitleTop{width:100%}.addCategoryPage .gavin .avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden;width:110px;height:110px}.addCategoryPage .gavin .avatar-uploader .el-upload:hover{border-color:#409eff}.addCategoryPage .avatar-uploader-icon{font-size:22px;color:#8c939d;width:110px;height:110px;line-height:110px;text-align:center}.addCategoryPage .avatar-uploader{display:inline-block;margin-right:15px}.addCategoryPage .avatar-uploader:last-child{margin-right:0}.addCategoryPage .avatar{width:110px;height:110px;display:block}.addCategoryPage .line25 .el-form-item__label{line-height:25px}.addCategoryPage .el-icon-delete{cursor:pointer}.addCategoryPage .fileuploadItem{display:table-cell;position:relative}.addCategoryPage .fileuploadItem .disabled .el-upload{background-color:#f5f7fa;cursor:not-allowed}.addCategoryPage .fileuploadItem:last-child .avatar-uploader{margin-right:0!important}.addCategoryPage .fileuploadItem .file_upload_img_des{position:absolute;top:109px;text-align:center;color:#999;font-size:12px;left:57px;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:110px}.addCategoryPage .el-tooltip__popper{max-width:300px}","",{version:3,sources:["d:/work/PomeloHomeOpen_Sys/src/views/typeManagement/addCategoryDetail.vue"],names:[],mappings:"AACA,sCACE,0BAA6B,CAC9B,AAMD,yDAJE,6BAA8B,AAC9B,iBAAkB,AAClB,WAAa,CAOd,AALD,8BAIE,UAAY,CACb,AACD,oDACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,gBAAiB,AACjB,YAAa,AACb,YAAc,CACf,AACD,0DACE,oBAAsB,CACvB,AACD,uCACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,kCACE,qBAAsB,AACtB,iBAAmB,CACpB,AACD,6CACE,cAAkB,CACnB,AACD,yBACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB,AACD,8CACE,gBAAkB,CACnB,AACD,iCACE,cAAgB,CACjB,AACD,iCACE,mBAAoB,AACpB,iBAAmB,CACpB,AACD,sDACE,yBAA0B,AAC1B,kBAAoB,CACrB,AACD,6DACE,wBAA6B,CAC9B,AACD,sDACE,kBAAmB,AACnB,UAAW,AACX,kBAAmB,AACnB,WAAY,AACZ,eAAgB,AAChB,UAAW,AACX,mCAAoC,AAC5B,2BAA4B,AACpC,WAAa,CACd,AACD,qCACE,eAAiB,CAClB",file:"addCategoryDetail.vue",sourcesContent:["\n.addCategoryPage .el-form-item__error {\n  padding: 5px 15px !important;\n}\n.addCategoryPage .desTitle {\n  border-bottom: 1px #ddd solid;\n  line-height: 30px;\n  height: 30px;\n}\n.addCategoryPage .desTitleTop {\n  border-bottom: 1px #ddd solid;\n  line-height: 30px;\n  height: 30px;\n  width: 100%;\n}\n.addCategoryPage .gavin .avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  width: 110px;\n  height: 110px;\n}\n.addCategoryPage .gavin .avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n.addCategoryPage .avatar-uploader-icon {\n  font-size: 22px;\n  color: #8c939d;\n  width: 110px;\n  height: 110px;\n  line-height: 110px;\n  text-align: center;\n}\n.addCategoryPage .avatar-uploader {\n  display: inline-block;\n  margin-right: 15px;\n}\n.addCategoryPage .avatar-uploader:last-child {\n  margin-right: 0px;\n}\n.addCategoryPage .avatar {\n  width: 110px;\n  height: 110px;\n  display: block;\n}\n.addCategoryPage .line25 .el-form-item__label {\n  line-height: 25px;\n}\n.addCategoryPage .el-icon-delete {\n  cursor: pointer;\n}\n.addCategoryPage .fileuploadItem {\n  display: table-cell;\n  position: relative;\n}\n.addCategoryPage .fileuploadItem .disabled .el-upload {\n  background-color: #f5f7fa;\n  cursor: not-allowed;\n}\n.addCategoryPage .fileuploadItem:last-child .avatar-uploader {\n  margin-right: 0px !important;\n}\n.addCategoryPage .fileuploadItem .file_upload_img_des {\n  position: absolute;\n  top: 109px;\n  text-align: center;\n  color: #999;\n  font-size: 12px;\n  left: 57px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  width: 110px;\n}\n.addCategoryPage .el-tooltip__popper {\n  max-width: 300px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=3.0c0ef994d02c8689cf5c.js.map