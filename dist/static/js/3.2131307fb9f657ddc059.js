webpackJsonp([3],{"+ssv":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),d=a.n(i),r=a("mvHQ"),o=a.n(r),n=a("Xxa5"),s=a.n(n),l=a("exGp"),c=a.n(l),p=a("Dd8w"),u=a.n(p),m=a("sQkU"),f=(a("UyAJ"),a("VSB1")),g=a("TIfe"),h=a("Vo7i"),_=a("zL8q"),v=a("r8sI"),A=a("lbHh"),b=a.n(A),C={components:{uploadComponent:a("p+uC").a},name:"OnlineProductDetail",data:function(){return{accessType:[{value:0,label:"中控接入"},{value:1,label:"云云对接"},{value:2,label:"APP对接"},{value:3,label:"云中控接入"}],controlMode:[{value:0,label:"暂未选择"},{value:1,label:"嵌入式中控"},{value:2,label:"面板直连中控"}],controlModeType:"",tagMode:[],tagVal:"",gtag_id:"",value:"",token:Object(g.b)(),product_id:"",productDetail:{},copyProductDetail:{},must_fps:[],opt_fps:[],spanMap:{},activeName:"basic",edit:!1,networkList:[],agreement_list:[],module_list:[],model_list:[],modifyData:{images:[]},attr_map:{},version_list:[],h5version_list:[],rules:{vendor_phone:[{required:!0,message:"请输入客服电话",trigger:"blur"},{validator:function(t,e,a){if(!/^[0-9\-]{3,20}$/.test(e))return a(new Error("请输入正确的手机号"));a()}}],version_no:[{required:!0,message:"请输入0.0.0格式版本号",trigger:"blur"}],"file_list.filename":[{required:!0,message:"请选择配置文件",trigger:"change"}]},configFile:{},configList:[],addFormVisiable:!1,checkDialog:!1,editDialog:!1,delectDialog:!1,addForm:{version_no:"",des:"",file_list:{}},checkForm:{version_no:"",des:"",created_at_txt:"",file_list:{}},editForm:{version_no:"",des:"",file_list:{}},ruleForm:{},lineStatus:"",adminSuper:"",nameRules:{nameValidate:[{validator:function(t,e,a){if(e){if(!/^[\u4e00-\u9fa50-9]+$/.test(e))return a(new Error("产品名称仅能汉字数字组合，且中间不能存在空格！"));a()}else a()}}]},dialogImageUrl:"",dialogVisible:!1,operateImages:{},cardData:null}},computed:u()({},Object(v.mapGetters)(["isSuperAdmin"])),created:function(){this.adminSuper=JSON.parse(b.a.get("ISSUPERADMIN")),this.product_id=this.$route.query.product_id,this.lineStatus=this.$route.query.lineStatus},mounted:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getReviewInfo(),e.getConfigList(),e.getTagList(),e.getProductTag();case 4:case"end":return t.stop()}},t,e)}))()},deactivated:function(){this.$destroy()},methods:{getTagList:function(){var i=this;Object(m.d)().then(function(t){for(var e=0;e<t.data.length;e++){var a={};a.value=t.data[e].gtag_id,a.label=t.data[e].gtag_name,i.tagMode.push(a)}})},getProductTag:function(){var t={product_id:this.product_id},e=this;Object(m.g)(t).then(function(t){t.data?(e.cardData=t.data,e.tagVal=t.data.gtag_id):e.tagVal=""})},changeTag:function(){var t=this.tagVal?{product_id:this.product_id,gtag_id:this.tagVal,images:this.operateImages}:{product_id:this.product_id,gtag_id:0,images:this.operateImages};Object(m.b)(t).then(function(t){})},productNameValidate:function(){if(!this.productDetail.name)return!0;return/^[\u4e00-\u9fa50-9]+$/.test(this.productDetail.name)},productAliaNameValidate:function(){if(!this.productDetail.display_name)return!0;return/^[\u4e00-\u9fa50-9]+$/.test(this.productDetail.display_name)},submitForm:function(i){var e,r=this;this.$refs[i].validate((e=c()(s.a.mark(function t(e){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&("editForm"==i?(a="",a=r.configFile.filename?o()(r.configFile):o()(r.editForm.file_list),Object(h.a)({url:"/product_agreement/versionedit",method:"post",data:{id:r.editForm.id,product_id:r.product_id,version_no:r.editForm.version_no,des:r.editForm.des,file:a}}).then(function(t){r.getConfigList(),r.editDialog=!1,r.$refs.editForm.resetFields()})):"addForm"==i&&Object(h.a)({url:"/product_agreement/versionadd",method:"post",data:{product_id:r.product_id,version_no:r.addForm.version_no,des:r.addForm.des,file:o()(r.configFile)}}).then(function(t){r.getConfigList(),r.addFormVisiable=!1,r.$refs.addForm.resetFields()}));case 1:case"end":return t.stop()}},t,r)})),function(t){return e.apply(this,arguments)}))},handleCheck:function(t,e){this.checkForm=e,this.checkDialog=!0},handleEdit:function(t,e){this.configFile={},this.editDialog=!0,this.editForm=e},handleDelect:function(e){var a=this;this.$confirm("你确定删除配置此文件吗？ 删除后可能会导致部分设备配置出错","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功"});case 2:case"end":return t.stop()}},t,a)}))).catch(function(){a.$message({type:"info",message:"取消成功"})})},beforeAvatarUpload:function(t){var e=-1<t.name.indexOf(".lua"),a=t.size/1024/1024<2;return e||this.$message.error("请上传2M大小内lua格式的文件"),a||this.$message.error("请上传2M大小内lua格式的文件"),e&&a},handleUploadSuccess:function(t){if(200===t.code){this.editDialog?this.editForm=d()(this.editForm,{file_list:{filename:t.result.filename}}):this.addFormVisiable&&(this.addForm=d()(this.addForm,{file_list:{filename:t.result.filename}}));var e=d()({},t.result);e.url=e.file_url,this.configFile=e}else this.$message.error(t.msg)},uploadFiles:function(){this.configFile?Object(h.a)({url:"/admin/product_edit",method:"post",data:{id:this.product_id,agreement_file:this.configFile}}).then(function(t){}):this.$message.error("请先选择配置文件")},getReviewInfo:function(){var i=this,r=this,t={product_id:this.product_id};Object(m.e)(t).then(function(t){i.productDetail=t,i.value=i.productDetail.device_access_type,i.controlModeType=t.middle_control;var e=[];for(var a in t.images_new)e.push({id:a,file_url:t.images_new[a]});i.productDetail.images=e,i.modifyData.images=e.map(function(t){return{id:t.id}}),0==i.productDetail.network_id&&(i.productDetail.network_id=""),i.productDetail.compat_ext&&0!=i.productDetail.compat_ext.length?i.productDetail.compat_ext=i.productDetail.compat_ext.map(function(t){return u()({},t,{brand:t.brand,compat:t.compat,name:t.name,icon_url:t.icon_url||""})}):(i.productDetail.compat_ext=[],i.addCompat()),i.copyProductDetail=JSON.parse(o()(t)),t.attr_list.forEach(function(t){var e=t.is_default?"must_fps":"opt_fps";t.list?f.a.spanAnalyseDataElse(t,r[e],r.spanMap):r[e].push(t)}),t.version_list.list.forEach(function(t){1==t.type?i.version_list.push(t):i.h5version_list.push(t)})})},getConfigList:function(){var e=this;Object(h.a)({url:"/product_agreement/versionlists",method:"post",data:{product_id:this.product_id}}).then(function(t){e.configList=t.list})},imgPreview:function(t){fancyBox(t.target,this.productDetail.images)},productUnshelve:function(){var e=this,t={product_id:this.product_id};this.$confirm("下架后，该产品将无法继续使用，同时相应产品开发资料将全部作废，确认请继续","下架该产品").then(function(){Object(m.k)(t).then(function(t){t&&(Object(_.Message)({message:"下架成功",type:"success",duration:2e3}),e.$router.go(-1))})})},statusMap:function(t){return{1:"开发中",2:"已发布"}[t.status]},arrayToString:function(t){return t.value_list.join("/")},spanMethod:function(t){var e=t.row,a=(t.column,t.rowIndex),i=t.columnIndex,r=this.spanMap[e.nodeid];return f.a.spanMethod(r,i,a)},toEdit:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.edit)return t.next=3,e.changeTag();t.next=5;break;case 3:return e.modify(),t.abrupt("return");case 5:e.edit=!0,e.productDetail.distributor_id&&e.getNetworkList(e.productDetail.distributor_id),e.productDetail.type&&e.getAgreementList(e.productDetail.type);case 8:case"end":return t.stop()}},t,e)}))()},beforeImgUpload:function(t){var e=t.size/1024/1024<5;return e||this.$message.error("请上传5M大小内图片文件"),e},beforeDocUpload:function(t){var e=t.size/1024/1024<50;return e||this.$message.error("请上传50M大小内文件"),e},handleImgSuccess:function(t){if(200===t.code){var e=void 0;26==t.result.type?(this.productDetail.icon=t.result.file_url,this.productDetail.icon_id?(e=d()({id:this.productDetail.icon_id},t.result),this.modifyData.icon=e):this.modifyData.icon=t.result):10==t.result.type?(this.productDetail.spec_url=t.result.file_url,this.productDetail.spec_name=t.result.filename,e=d()({id:this.productDetail.spec_id},t.result),this.modifyData.spec=e):11==t.result.type&&(this.productDetail.instruct_url=t.result.file_url,this.productDetail.instruct_name=t.result.filename,e=d()({id:this.productDetail.instruct_id},t.result),this.modifyData.instruct=e)}else this.$message.error("上传出错，请重新上传")},addSixImg:function(t){200===t.code?(this.productDetail.images.push({id:"add",file_url:t.result.file_url}),this.modifyData.images.push(t.result)):this.$message.error("上传出错，请重新上传")},handleImgElseSuccess:function(s,l){var c=this;return function(t,e,a,i,r){var o=3<arguments.length&&void 0!==i?i:s,n=4<arguments.length&&void 0!==r?r:l;200===t.code?(c.productDetail.images[n].file_url=t.result.file_url,"add"==o?c.modifyData.images.splice(n,1,t.result):c.modifyData.images.splice(n,1,d()({id:o},t.result))):c.$message.error("上传出错，请重新上传")}},getNetworkList:function(t){var e=this;Object(h.a)({url:"/admin/distribution/get",method:"post",data:{distributors_id:t}}).then(function(t){e.networkList=t})},chooseAccess:function(t){if(!this.edit)return!1;this.productDetail.type=t,this.productDetail.type_key="",this.getAgreementList(t)},getAgreementList:function(t){3==t||2==t?this.getAgreementData(t):0===this.module_list.length&&this.getWiFiList()},getWiFiList:function(){var e=this;Object(h.a)({url:"/admin/wifimodule/lists",method:"post",data:{type_id:this.productDetail.type_id}}).then(function(t){e.module_list=t.list,e.productDetail.type_vendor&&e.module_list.forEach(function(t){t.vendor==e.productDetail.type_vendor&&(e.model_list=t.modellist)})}).catch(function(t){e.module_list=[],e.$message.error(t.msg)})},getAgreementData:function(t){var e=this;Object(h.a)({url:"/admin/agreement/lists",method:"post",data:{type_id:this.productDetail.type_id,agreement_type:t}}).then(function(t){e.agreement_list=t.list}).catch(function(t){e.agreement_list=[],e.$message.error(t.msg)})},changeModel:function(e){var a=this;this.productDetail.type_key="",this.module_list.forEach(function(t){t.vendor==e&&(a.model_list=t.modellist)})},modify:function(){var e=this;if(this.modifyData.device_access_type=this.productDetail.device_access_type,!this.productDetail.name)return this.$message.error("产品名称不能为空！");if(!this.productDetail.vendor_phone)return this.$message.error("客服电话不能为空！");if(!this.productDetail.model)return this.$message.error("产品型号不能为空！");if(!this.productNameValidate()||!this.productAliaNameValidate())return this.$message.error("产品名称仅能汉字数字组合，且中间不能存在空格！");if(this.productDetail.model!=this.copyProductDetail.model&&(this.modifyData.model=this.productDetail.model),this.productDetail.name!=this.copyProductDetail.name&&(this.modifyData.name=this.productDetail.name),this.productDetail.vendor_phone!=this.copyProductDetail.vendor_phone&&(this.modifyData.vendor_phone=this.productDetail.vendor_phone),this.productDetail.compat!=this.copyProductDetail.compat&&(this.modifyData.compat=this.productDetail.compat),this.productDetail.compat_ext!=this.copyProductDetail.compat_ext&&(this.modifyData.compat_ext=this.productDetail.compat_ext),""!=this.productDetail.offline_hint.replace(/\s/g,"")){this.productDetail.offline_hint!=this.copyProductDetail.offline_hint&&(this.modifyData.offline_hint=this.productDetail.offline_hint),this.productDetail.network_id!=this.copyProductDetail.network_id&&(this.modifyData.network_id=this.productDetail.network_id),this.productDetail.type!=this.copyProductDetail.type&&(this.modifyData.type=this.productDetail.type),this.productDetail.type_key!=this.copyProductDetail.type_key&&(1==this.productDetail.type?this.modifyData.module_id=this.productDetail.type_key:this.modifyData.agreement_id=this.productDetail.type_key),this.modifyData.attr_list=this.calAttr(),this.modifyData.id=this.productDetail.id;var t=JSON.parse(o()(this.modifyData));t.icon&&(t.icon=o()(t.icon)),t.images&&(t.images=o()(t.images)),t.spec&&(t.spec=o()(t.spec)),t.instruct&&(t.instruct=o()(t.instruct)),t.attr_list&&(t.attr_list=o()(t.attr_list)),t.display_name=this.productDetail.display_name,t.middle_control=this.controlModeType;for(var a=!0,i=0;i<this.$refs.productNameValid.length;i++){if(this.$refs.productNameValid[i].validate(function(t){t||(a=!1)}),!a)break}a&&Object(h.a)({url:"/admin/product_edit",method:"post",data:t}).then(function(t){e.$message.info("保存成功"),e.$router.go(-1)}).catch(function(t){e.$message.error(t.msg)})}else this.$message.error("离线提示语不能为空")},setEnable:function(t,e){if("1"==t.key_type){var a=t.value_list.indexOf(e);0<=a?t.value_list.splice(a,1):(t.is_checkbox+""=="1"||(t.value_list.length=0),t.value_list.push(e))}else t.value_list=0<t.value_list.length?[]:t.origin_value_list},validCompat:function(t,e,a){e&&(/^[a-zA-Z0-9,$%&*./\-_#!~|<>^+=]*$/.test(e)||a("请输入字母/数字/特殊符号组成的机型，以英文逗号隔开；")),a()},validModel:function(t,e,a){e&&/[\u4e00-\u9fa5]/.test(e)?a(new Error("不能输入汉字")):a()},calAttr:function(){var t=[],e={};for(var a in this.opt_fps.forEach(function(t){e[t.attr_id]||(e[t.attr_id]=[]),1==t.level?t.value_list.length&&(e[t.attr_id][t.index]={value_list:"1"==t.key_type?t.value_list:t.origin_value_list,key:t.key,key_type:t.key_type,is_checkbox:t.is_checkbox,value_string:t.value_string}):2==t.level&&t.value_list.length&&(e[t.attr_id][t.index]||(e[t.attr_id][t.index]={value_list:[],key:t.p_key,key_type:t.p_key_type}),e[t.attr_id][t.index].value_list.push({value_list:"1"==t.key_type?t.value_list:t.origin_value_list,key:t.key,key_type:t.key_type,is_checkbox:t.is_checkbox,value_string:t.value_string}))}),e)e[a].length&&t.push({attr_id:a,is_default:0,list:e[a]});return t},addCompat:function(){this.productDetail.compat_ext.push({brand:"",compat:"",name:"",icon_url:"",icon:""})},removeCompat:function(t){this.productDetail.compat_ext.splice(t,1)},removeProduct:function(){var e=this;this.$confirm("确认删除该产品？","重新上架").then(function(){Object(h.a)({url:"product/admin_del",method:"post",data:{product_id:e.product_id}}).then(function(t){e.$router.push("/productManagement/offlineProducts")})})},reStocking:function(){var e=this;this.$confirm("确认重新上架该产品？","重新上架").then(function(){Object(h.a)({url:"admin/product_reschedule",method:"post",data:{product_id:e.product_id}}).then(function(t){e.$router.push("/productManagement/offlineProducts")})})},handleSuccess:function(t,e){200===t.code&&(this.productDetail.compat_ext[e].icon_url=t.result.file_url,this.productDetail.compat_ext[e].icon=t.result)}}},y={render:function(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"app-container"},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){i.$router.go(-1)}}},[i._v("返回")]),i._v(" "),"offline"===i.lineStatus&&i.adminSuper?r("el-button",{attrs:{type:"danger",size:"medium"},on:{click:i.removeProduct}},[i._v("删除该产品")]):i._e(),i._v(" "),"offline"!==i.lineStatus?r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:i.productUnshelve}},[i._v("下架该产品")]):i._e(),i._v(" "),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:i.toEdit}},[i._v(i._s(i.edit?"保存":"编辑")+"产品信息")]),i._v(" "),"offline"===i.lineStatus?r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:i.reStocking}},[i._v("重新上架")]):i._e(),i._v(" "),r("h3",[i._v(i._s(i.productDetail.brand_name+i.productDetail.type_name+i.productDetail.model))]),i._v(" "),r("el-tabs",{staticStyle:{"padding-bottom":"30px"},attrs:{type:"card"},model:{value:i.activeName,callback:function(t){i.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[r("el-row",{},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("产品品类")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.type_name))])],1),i._v(" "),r("el-row",{staticClass:"card-row",staticStyle:{"line-height":"40px"}},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("接入类型")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-select",{attrs:{readonly:!i.edit,disabled:!i.edit,placeholder:"请选择"},model:{value:i.productDetail.device_access_type,callback:function(t){i.$set(i.productDetail,"device_access_type",t)},expression:"productDetail.device_access_type"}},i._l(i.accessType,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),i._v(" "),r("el-row",{staticClass:"card-row",staticStyle:{"line-height":"40px"}},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("中控方式")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-select",{attrs:{readonly:!i.edit,disabled:!i.edit,placeholder:"请选择"},model:{value:i.controlModeType,callback:function(t){i.controlModeType=t},expression:"controlModeType"}},i._l(i.controlMode,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),i._v(" "),r("el-row",{staticClass:"card-row gg"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("合作品牌\n          ")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[r("div",{staticClass:"brand-box"},[r("el-row",[r("span",[i._v("品牌中文："+i._s(i.productDetail.brand_name))])]),i._v(" "),r("el-row",{staticStyle:{margin:"10px auto"}},[r("span",[i._v("品牌英文："+i._s(i.productDetail.manufacturer_name))])]),i._v(" "),r("el-row",[i.productDetail.brand_logo?r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],attrs:{src:i.productDetail.brand_logo,alt:"品牌logo"}}):i._e(),i._v(" "),i.productDetail.brand_certs?r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],attrs:{src:i.productDetail.brand_certs,alt:"资格证书"}}):i._e()])],1)])],1),i._v(" "),r("el-row",{staticClass:"card-row",staticStyle:{"line-height":"40px"}},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("编组tag")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-select",{attrs:{readonly:!i.edit,disabled:!i.edit,clearable:"",placeholder:"请选择"},model:{value:i.tagVal,callback:function(t){i.tagVal=t},expression:"tagVal"}},i._l(i.tagMode,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("面板设备卡片大小")]),i._v(" "),r("el-col",{attrs:{span:21}},[r("uploadComponent",{attrs:{operateImages:i.operateImages,cardData:i.cardData,edit:i.edit}})],1)],1),i._v(" "),r("el-dialog",{attrs:{visible:i.dialogVisible},on:{"update:visible":function(t){i.dialogVisible=t}}},[r("img",{attrs:{src:i.dialogImageUrl,width:"100%",alt:""}})]),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("产品名称")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.name,callback:function(t){i.$set(i.productDetail,"name","string"==typeof t?t.trim():t)},expression:"productDetail.name"}})],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("产品别名")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.display_name,callback:function(t){i.$set(i.productDetail,"display_name","string"==typeof t?t.trim():t)},expression:"productDetail.display_name"}})],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("产品型号")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-input",{class:{"no-border":!i.edit||!i.productDetail.distributor_pid},attrs:{readonly:!i.edit||!i.productDetail.distributor_pid},model:{value:i.productDetail.model,callback:function(t){i.$set(i.productDetail,"model",t)},expression:"productDetail.model"}})],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("兼容机型")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-form",{attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{rules:[{validator:i.validCompat}],prop:"compat"}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.compat,callback:function(t){i.$set(i.productDetail,"compat",t)},expression:"productDetail.compat"}})],1)],1)],1)],1),i._v(" "),i._l(i.productDetail.compat_ext,function(e,a){return r("el-row",{key:a,staticClass:"card-row"},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v(i._s("兼容机型"+(a+2)))]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:2,offset:1}},[r("el-form",{attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{prop:"compat"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{readonly:!i.edit,placeholder:"子品牌"},model:{value:e.brand,callback:function(t){i.$set(e,"brand",t)},expression:"it.brand"}})],1)],1)],1),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:2,offset:1}},[r("el-form",{ref:"productNameValid",refInFor:!0,attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{prop:"compat_ext."+a+".name",rules:i.nameRules.nameValidate}},[r("el-input",{staticStyle:{width:"150px"},attrs:{readonly:!i.edit,placeholder:"产品名"},model:{value:e.name,callback:function(t){i.$set(e,"name","string"==typeof t?t.trim():t)},expression:"it.name"}})],1)],1)],1),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:2,offset:1}},[r("el-form",{attrs:{model:e}},[r("el-form-item",{attrs:{rules:[{validator:i.validModel}],prop:"compat"}},[r("el-input",{staticStyle:{width:"150px","margin-right":"30px"},attrs:{readonly:!i.edit,placeholder:"型号"},model:{value:e.compat,callback:function(t){i.$set(e,"compat",t)},expression:"it.compat"}})],1)],1)],1),i._v(" "),i.edit?r("el-col",{attrs:{span:9}},[r("el-form",{attrs:{inline:""}},[r("el-form-item",{staticClass:"upload-img",staticStyle:{"margin-right":"30px","margin-left":"50px",width:"300px",display:"inline-block"},attrs:{"label-width":"70",label:"上传图片"}},[r("el-input",{attrs:{readonly:!i.edit,placeholder:"图片支持jpeg,jpg,png"},model:{value:e.icon_url,callback:function(t){i.$set(e,"icon_url",t)},expression:"it.icon_url"}})],1),i._v(" "),r("el-form-item",[r("el-upload",{attrs:{data:{type:26,token:i.token},"show-file-list":!1,"before-upload":i.beforeImgUpload,"on-success":function(t){return i.handleSuccess(t,a)},accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp",action:"/api/index.php/files/save"}},[r("el-button",{attrs:{type:"primary"}},[i._v("选择文件")])],1)],1)],1)],1):i._e(),i._v(" "),0==a&&i.edit?r("el-button",{attrs:{disabled:!i.edit,type:"primary",icon:"el-icon-plus"},on:{click:i.addCompat}},[i._v("添加")]):i._e(),i._v(" "),0!=a&&i.edit?r("el-button",{attrs:{disabled:!i.edit,type:"primary",icon:"el-icon-minus"},on:{click:function(t){i.removeCompat(a)}}},[i._v("删除")]):i._e()],1),i._v(" "),i.edit?i._e():r("div",[r("el-form",[r("el-form-item",[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}}),i._v(" "),r("img",{staticStyle:{"margin-left":"50px"},attrs:{src:e.icon_url,width:"80",alt:""}})],1)],1)],1)],1)],1)}),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("渠道商")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.distributor))])],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("渠道商ID")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.distributor_pid))])],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("配网方式")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.network_name))]),i._v(" "),i.edit&&i.productDetail.distributor_id?r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:i.productDetail.network_id,callback:function(t){i.$set(i.productDetail,"network_id",t)},expression:"productDetail.network_id"}},i._l(i.networkList,function(t){return r("el-option",{key:t.id,attrs:{label:t.network_name,value:t.id}})})):i._e()],1)],1),i._v(" "),i.edit?i._e():r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("配网方式描述")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.network_des))])],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("产品小图")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[r("p",{staticStyle:{"margin-top":"5px","font-size":"13px",color:"darkgrey"}},[i._v("用户添加设备时看到的列表图片，支持JPEG、JPG、PNG、BMP、GIF格式，大小5M以内")]),i._v(" "),i.productDetail.icon?r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],staticStyle:{"max-height":"120px"},attrs:{src:i.productDetail.icon,alt:"图片加载失败"}}):i._e(),i._v(" "),i.edit&&i.productDetail.icon?r("el-upload",{attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeImgUpload,data:{type:26,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("上传图片")])],1):i._e(),i._v(" "),i.edit&&!i.productDetail.icon?r("el-upload",{staticStyle:{display:"inline-block",border:"1px solid #d8dce5",padding:"20px"},attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeImgUpload,data:{type:26,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"60px",color:"#d8dce5"}})]):i._e()],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("产品图片（六观图）")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[r("p",{staticStyle:{"margin-top":"5px","font-size":"13px",color:"darkgrey"}},[i._v("支持JPEG、JPG、PNG、BMP、GIF格式，大小5M以内")]),i._v(" "),i._l(i.productDetail.images,function(t,e){return r("div",{key:e,staticClass:"six-img"},[r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],attrs:{src:t.file_url,alt:"图片加载失败"}}),i._v(" "),i.edit?r("el-upload",{attrs:{"show-file-list":!1,"on-success":i.handleImgElseSuccess(t.id,e),"before-upload":i.beforeImgUpload,data:{type:12,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("上传图片")])],1):i._e()],1)}),i._v(" "),i.edit&&i.productDetail.images.length<6?r("el-upload",{staticStyle:{display:"inline-block",border:"1px solid #d8dce5",padding:"20px"},attrs:{"show-file-list":!1,"on-success":i.addSixImg,"before-upload":i.beforeImgUpload,data:{type:12,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"60px",color:"#d8dce5"}})]):i._e()],2)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",staticStyle:{"line-height":"32px"},attrs:{span:3}},[i._v("产品规格书")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("a",{staticClass:"is-link",attrs:{href:i.productDetail.spec_url,target:"_blank",download:""}},[i._v(i._s(i.productDetail.spec_name))]),i._v(" "),!i.edit&&i.productDetail.spec_url?r("a",{staticStyle:{"margin-left":"30px"},attrs:{href:i.productDetail.spec_url,target:"_blank",download:""}},[r("el-button",{attrs:{type:"primary",size:"small"}},[i._v("下载")])],1):i._e(),i._v(" "),i.edit?r("el-upload",{staticClass:"p30",attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeDocUpload,data:{type:10,token:i.token},action:"/api/index.php/files/save",accept:".doc,.docx,.pdf,.rar"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("更换文档")])],1):i._e()],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",staticStyle:{"line-height":"32px"},attrs:{span:3}},[i._v("产品使用说明书")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("a",{staticClass:"is-link",attrs:{href:i.productDetail.instruct_url,target:"_blank",download:""}},[i._v(i._s(i.productDetail.instruct_name))]),i._v(" "),!i.edit&&i.productDetail.instruct_url?r("a",{staticStyle:{"margin-left":"30px"},attrs:{href:i.productDetail.instruct_url,target:"_blank",download:""}},[r("el-button",{attrs:{type:"primary",size:"small"}},[i._v("下载")])],1):i._e(),i._v(" "),i.edit?r("el-upload",{staticClass:"p30",attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeDocUpload,data:{type:11,token:i.token},action:"/api/index.php/files/save",accept:".doc,.docx,.pdf,.rar"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("更换文档")])],1):i._e()],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[r("span",{staticClass:"red"},[i._v("*")]),i._v("客服电话")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-form",{attrs:{model:i.productDetail,rules:i.rules}},[r("el-form-item",{attrs:{prop:"vendor_phone"}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.vendor_phone,callback:function(t){i.$set(i.productDetail,"vendor_phone",t)},expression:"productDetail.vendor_phone"}})],1)],1)],1)],1)],2)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"技术方案",name:"tech"}},[r("el-row",{},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("选择技术方案")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("div",{staticClass:"accessProgram",class:{active:1==i.productDetail.type,dis:!i.edit},on:{click:function(t){i.chooseAccess(1)}}},[r("i",{staticClass:"el-icon-circle-check"}),i._v(" "),r("div",{staticClass:"c-icon wifi"}),i._v(" "),r("p",{staticClass:"cname"},[i._v("Wi-Fi方案")]),i._v(" "),r("p",{staticClass:"cdes"},[i._v("适合空调、空气净化器、洗衣机等")])]),i._v(" "),r("div",{staticClass:"accessProgram",class:{active:3==i.productDetail.type,dis:!i.edit},on:{click:function(t){i.chooseAccess(3)}}},[r("div",{staticClass:"c-icon bluetooth"}),i._v(" "),r("i",{staticClass:"el-icon-circle-check"}),i._v(" "),r("p",{staticClass:"cname"},[i._v("蓝牙方案")]),i._v(" "),r("p",{staticClass:"cdes"},[i._v("适合音箱、健康监护设备等…")])]),i._v(" "),r("div",{staticClass:"accessProgram",class:{active:2==i.productDetail.type,dis:!i.edit},on:{click:function(t){i.chooseAccess(2)}}},[r("div",{staticClass:"c-icon zigbee"}),i._v(" "),r("i",{staticClass:"el-icon-circle-check"}),i._v(" "),r("p",{staticClass:"cname"},[i._v("ZigBee方案")]),i._v(" "),r("p",{staticClass:"cdes"},[i._v("适合门锁、报警器等…")])])])],1),i._v(" "),r("el-row",{directives:[{name:"show",rawName:"v-show",value:1==i.productDetail.type,expression:"productDetail.type==1"}],staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("模组/芯片信息")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.type_vendor))]),i._v(" "),i.edit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:i.changeModel},model:{value:i.productDetail.type_vendor,callback:function(t){i.$set(i.productDetail,"type_vendor",t)},expression:"productDetail.type_vendor"}},i._l(i.module_list,function(t){return r("el-option",{key:t.vendor,attrs:{label:t.vendor,value:t.vendor}})})):i._e()],1)],1),i._v(" "),r("el-row",{directives:[{name:"show",rawName:"v-show",value:1==i.productDetail.type,expression:"productDetail.type==1"}],staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("型号")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.type_model))]),i._v(" "),i.edit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:i.productDetail.type_key,callback:function(t){i.$set(i.productDetail,"type_key",t)},expression:"productDetail.type_key"}},i._l(i.model_list,function(t){return r("el-option",{key:t.module_id,attrs:{label:t.model,value:t.module_id}})})):i._e()],1)],1),i._v(" "),r("el-row",{directives:[{name:"show",rawName:"v-show",value:2==i.productDetail.type||3==i.productDetail.type,expression:"productDetail.type==2 || productDetail.type==3"}],staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("协议")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.agreement))]),i._v(" "),i.edit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:i.productDetail.type_key,callback:function(t){i.$set(i.productDetail,"type_key",t)},expression:"productDetail.type_key"}},i._l(i.agreement_list,function(t){return r("el-option",{key:t.agreement_id,attrs:{label:t.agreement,value:t.agreement_id}})})):i._e()],1)],1)],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"功能点设置",name:"fps"}},[r("h5",[i._v("必选功能点")]),i._v(" "),r("el-table",{staticClass:"attr-table",staticStyle:{width:"100%"},attrs:{data:i.must_fps,"span-method":i.spanMethod,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{align:"center",label:"node_ID",prop:"nodeid"}}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"参数名称",prop:"remark"}}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"value",prop:"origin_value_string"},scopedSlots:i._u([{key:"default",fn:function(t){return["1"==t.row.key_type?r("div",i._l(t.row.origin_value_list,function(t){return r("div",{key:t,staticClass:"gavin-attr"},[i._v("\n                "+i._s(t)+"\n              ")])})):r("div",[i._v("\n              "+i._s(t.row.origin_value_string)+"\n            ")])]}}])}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"是否开启"},scopedSlots:i._u([{key:"default",fn:function(t){return["1"==t.row.key_type?r("div",i._l(t.row.origin_value_list,function(t){return r("div",{key:t,staticClass:"gavin-attr"},[r("el-switch",{attrs:{value:!0,disabled:""}})],1)})):r("div",[r("el-switch",{attrs:{value:!0,disabled:""}})],1)]}}])})],1),i._v(" "),r("h5",[i._v("可选功能点")]),i._v(" "),r("el-table",{staticClass:"attr-table",staticStyle:{width:"100%"},attrs:{data:i.opt_fps,"span-method":i.spanMethod,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{align:"center",label:"node_ID",prop:"nodeid"}}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"参数名称",prop:"remark"}}),i._v(" "),r("el-table-column",{staticClass:"gavin-attr-box",attrs:{align:"center",label:"value",prop:"origin_value_string"},scopedSlots:i._u([{key:"default",fn:function(e){return["1"==e.row.key_type?r("div",i._l(e.row.origin_value_list,function(t){return r("div",{key:t,staticClass:"gavin-attr"},[i._v("\n                "+i._s(t)+"\n              ")])})):r("div",[i.edit?r("div",["2"==e.row.key_type?r("div",[r("el-input",{staticStyle:{width:"35%"},model:{value:e.row.origin_value_list[1],callback:function(t){i.$set(e.row.origin_value_list,1,t)},expression:"scope.row.origin_value_list[1]"}}),i._v(" "),r("span",{staticStyle:{margin:"0 5px"}},[i._v("-")]),i._v(" "),r("el-input",{staticStyle:{width:"35%"},model:{value:e.row.origin_value_list[2],callback:function(t){i.$set(e.row.origin_value_list,2,t)},expression:"scope.row.origin_value_list[2]"}}),i._v(" "),r("span",[i._v(i._s(e.row.unit))])],1):i._e(),i._v(" "),"4"==e.row.key_type?r("div",[r("el-input",{staticStyle:{width:"70%"},model:{value:e.row.origin_value_list[0],callback:function(t){i.$set(e.row.origin_value_list,0,t)},expression:"scope.row.origin_value_list[0]"}}),i._v(" "),r("span",[i._v(i._s(e.row.unit))])],1):i._e()]):r("div",[i._v("\n                "+i._s(e.row.origin_value_string)+"\n              ")])])]}}])}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"是否开启",prop:"is_enable"},scopedSlots:i._u([{key:"default",fn:function(a){return["1"==a.row.key_type?r("div",i._l(a.row.origin_value_list,function(e){return r("div",{key:e,staticClass:"gavin-attr"},[r("el-switch",{attrs:{value:0<=a.row.value_list.indexOf(e),disabled:!i.edit},on:{change:function(t){i.setEnable(a.row,e)}}})],1)})):r("div",[r("el-switch",{attrs:{value:!!a.row.value_list.length,disabled:!i.edit},on:{change:function(t){i.setEnable(a.row)}}})],1)]}}])})],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"版本信息",name:"version"}},[r("h5",[i._v("客户端H5控制页")]),i._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:i.h5version_list,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{label:"版本号",prop:"version_no"}}),i._v(" "),r("el-table-column",{attrs:{label:"版本描述",prop:"des"}}),i._v(" "),r("el-table-column",{attrs:{formatter:i.statusMap,label:"状态",prop:"status"}}),i._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"created_at_txt"}})],1),i._v(" "),r("h5",[i._v("固件")]),i._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:i.version_list,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{label:"版本号",prop:"version_no"}}),i._v(" "),r("el-table-column",{attrs:{label:"版本描述",prop:"des"}}),i._v(" "),r("el-table-column",{attrs:{formatter:i.statusMap,label:"状态",prop:"status"}}),i._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"created_at_txt"}})],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"离线提示语",name:"offline_hint"}},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("离线提示语")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-form",{attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{prop:"offline_hint"}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit,rows:5,maxlength:1e3,type:"textarea"},model:{value:i.productDetail.offline_hint,callback:function(t){i.$set(i.productDetail,"offline_hint",t)},expression:"productDetail.offline_hint"}})],1)],1)],1)],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"配置文件",name:"config_file"}},[r("el-row",[r("el-col",{staticClass:"filebd",attrs:{span:16}})],1),i._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:i.configList,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"version_no",label:"版本号"}}),i._v(" "),r("el-table-column",{attrs:{prop:"des",label:"版本说明"}}),i._v(" "),r("el-table-column",{attrs:{prop:"created_at_txt",label:"创建时间"}}),i._v(" "),r("el-table-column",{attrs:{label:"操  作"},scopedSlots:i._u([{key:"header",fn:function(t){return[r("span",{staticClass:"handle"},[i._v("操作")]),i._v(" "),r("el-button",{staticClass:"addbtn",attrs:{type:"primary",size:"small"},on:{click:function(t){i.addFormVisiable=!0}}},[i._v("添加配置文件")])]}},{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(t){i.handleCheck(e.$index,e.row)}}},[i._v("查看")]),i._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(t){i.handleEdit(e.$index,e.row)}}},[i._v("编辑")])]}}])})],1),i._v(" "),r("el-dialog",{attrs:{visible:i.addFormVisiable,title:"添加配置文件"},on:{"update:visible":function(t){i.addFormVisiable=t}}},[r("el-form",{ref:"addForm",staticClass:"demo-ruleForm",attrs:{model:i.addForm,rules:i.rules,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"版本号",prop:"version_no"}},[r("el-input",{model:{value:i.addForm.version_no,callback:function(t){i.$set(i.addForm,"version_no",t)},expression:"addForm.version_no"}})],1),i._v(" "),r("el-form-item",{attrs:{label:"版本说明",prop:"des"}},[r("el-input",{staticClass:"introduce",model:{value:i.addForm.des,callback:function(t){i.$set(i.addForm,"des",t)},expression:"addForm.des"}})],1),i._v(" "),r("el-form-item",{staticClass:"formfile",attrs:{label:"配置文件",prop:"file_list.filename"}},[r("el-input",{staticClass:"uploadName",attrs:{readonly:!0},model:{value:i.addForm.file_list.filename,callback:function(t){i.$set(i.addForm.file_list,"filename",t)},expression:"addForm.file_list.filename"}}),i._v(" "),r("el-upload",{staticClass:"upload-demo",staticStyle:{display:"inline-block"},attrs:{"before-upload":i.beforeAvatarUpload,"on-success":i.handleUploadSuccess,"show-file-list":!1,data:{type:33,token:i.token},action:"/api/index.php/files/save",accept:".lua"}},[r("el-button",[i._v("预览")])],1)],1),i._v(" "),r("el-form-item",[r("el-button",{staticClass:"submitForm",attrs:{type:"primary"},on:{click:function(t){i.submitForm("addForm")}}},[i._v("提交")]),i._v(" "),r("el-button",{staticClass:"cancelForm",on:{click:function(t){i.addFormVisiable=!1}}},[i._v("取消")])],1)],1)],1),i._v(" "),r("el-dialog",{attrs:{visible:i.checkDialog,title:"查看配置文件"},on:{"update:visible":function(t){i.checkDialog=t}}},[r("el-form",{staticClass:"check-dialog",attrs:{model:i.checkForm,rules:i.rules,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"版本号",prop:"version_no"}},[r("span",[i._v(i._s(i.checkForm.version_no))])]),i._v(" "),r("el-form-item",{attrs:{label:"版本说明",prop:"des"}},[r("span",[i._v(i._s(i.checkForm.des))])]),i._v(" "),r("el-form-item",{attrs:{label:"创建时间",prop:"time"}},[r("span",[i._v(i._s(i.checkForm.created_at_txt))])]),i._v(" "),r("el-form-item",{attrs:{label:"配置文件",prop:"file_list.filename"}},[r("span",[i._v(i._s(i.checkForm.file_list.filename))]),i._v(" "),r("a",{attrs:{href:i.checkForm.file_list.file_url,target:"_blank",download:""}},[i._v("点击可下载")])]),i._v(" "),r("el-form-item",[r("el-button",{staticClass:"closeForm",attrs:{type:"primary"},on:{click:function(t){i.checkDialog=!1}}},[i._v("关闭")])],1)],1)],1),i._v(" "),r("el-dialog",{attrs:{visible:i.editDialog,title:"编辑配置文件"},on:{"update:visible":function(t){i.editDialog=t}}},[r("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:i.editForm,rules:i.rules,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"版本号",prop:"version_no"}},[r("el-input",{model:{value:i.editForm.version_no,callback:function(t){i.$set(i.editForm,"version_no",t)},expression:"editForm.version_no"}})],1),i._v(" "),r("el-form-item",{attrs:{label:"版本说明",prop:"des"}},[r("el-input",{staticClass:"introduce",model:{value:i.editForm.des,callback:function(t){i.$set(i.editForm,"des",t)},expression:"editForm.des"}})],1),i._v(" "),r("el-form-item",{staticClass:"formfile",attrs:{label:"配置文件",prop:"file_list.filename"}},[r("el-input",{staticClass:"uploadName",attrs:{readonly:!0},model:{value:i.editForm.file_list.filename,callback:function(t){i.$set(i.editForm.file_list,"filename",t)},expression:"editForm.file_list.filename"}}),i._v(" "),r("el-upload",{staticClass:"upload-demo",staticStyle:{display:"inline-block"},attrs:{"before-upload":i.beforeAvatarUpload,"on-success":i.handleUploadSuccess,"show-file-list":!1,data:{type:33,token:i.token},action:"/api/index.php/files/save",accept:".lua"}},[r("el-button",[i._v("预览")])],1)],1),i._v(" "),r("el-form-item",[r("el-button",{staticClass:"submitForm",attrs:{type:"primary"},on:{click:function(t){i.submitForm("editForm")}}},[i._v("提交")]),i._v(" "),r("el-button",{staticClass:"cancelForm",on:{click:function(t){i.editDialog=!1}}},[i._v("取消")])],1)],1)],1),i._v(" "),r("el-dialog",{staticClass:"delect",attrs:{visible:i.delectDialog,title:"删除配置文件",width:"25%"},on:{"update:visible":function(t){i.delectDialog=t}}},[r("i",{staticClass:"el-icon-info"}),i._v(" "),r("div",[r("span",[i._v("你确定删除配置此文件吗？")]),i._v(" "),r("p",[i._v("删除后可能回导致部分设备配置出错")])]),i._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:i.submitForm}},[i._v("确 定")]),i._v(" "),r("el-button",{on:{click:function(t){i.delectDialog=!1}}},[i._v("取 消")])],1)])],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(C,y,!1,function(t){a("2rLy")},null,null);e.default=x.exports},"1H6C":function(t,e,a){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&0<=Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime"),o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=a("HhN8"),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},"2rLy":function(t,e,a){var i=a("5Ph6");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("e760e498",i,!0)},"5Ph6":function(t,e,a){(t.exports=a("FZ+f")(!0)).push([t.i,".six-img{margin-right:15px;float:left}.six-img img{height:100px}.edit-label{height:40px;line-height:40px}.no-border .el-input__inner{border:none;padding-left:0;font-size:15px;color:#000}.no-border .el-textarea__inner{border:none;font-size:15px;color:#000;resize:none;padding-top:10px}.p30{display:inline-block;margin-left:15px}.accessProgram{width:224px;height:224px;border:1px solid #ddd;margin:0 48px 20px 0;float:left;text-align:center;cursor:pointer;position:relative}.accessProgram.active{border:1px solid #15a05d;background:#f8f9fc}.accessProgram.active .el-icon-circle-check{color:#15a05d}.accessProgram.dis{cursor:not-allowed}.accessProgram:last-child{margin-right:0}.accessProgram .el-icon-circle-check{position:absolute;right:10px;top:10px;font-size:20px;color:#f1f1f1}.accessProgram .c-icon{width:224px;height:42px;margin:75px 0 45px}.accessProgram .c-icon.wifi{background:url("+a("oXfz")+");height:38px;margin:75px 0 45px}.accessProgram .c-icon.bluetooth{background:url("+a("vV06")+")}.accessProgram .c-icon.zigbee{background:url("+a("JgEn")+") 0 -1px}.accessProgram p.cdes{font-size:12px;color:#999}.accessProgram p.cname{font-size:14px;color:#333;margin-bottom:8px;font-weight:700}.gg .brand-box{padding:0}.gg .brand-box img{max-height:120px;margin-right:15px}.gavin-attr{padding:12px 0;border-bottom:1px solid #e6ebf5}.attr-table.el-table .cell{padding:0}.attr-table .gavin-attr:last-child{border-bottom:none;padding-bottom:0}.attr-table .gavin-attr:first-child{padding-top:0}.red{color:red}.filebd{height:1px;width:100%;background-color:#ccc;margin:30px 0}.handle{margin-right:4px}.addbtn{padding:8px 4px}.el-dialog{width:610px;padding-right:80px}.el-dialog .el-form-item__label{text-align:left;padding-left:15px}.el-dialog .uploadName{width:80%;margin-right:4px}.el-dialog .introduce .el-input__inner{height:75px}.el-dialog .formfile{margin-bottom:60px}.el-dialog .submitForm{margin-right:100px;width:135px;margin-right:105px}.el-dialog .cancelForm{width:135px}.el-dialog .el-icon-close{font-size:24px}.el-dialog .check-dialog .el-form-item__content{padding-left:30px}.el-dialog .check-dialog .el-form-item__content .download{margin-left:30px}.delect{height:400px}.delect .el-dialog__body{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.delect .el-dialog__body .el-icon-info{font-size:40px;color:orange;margin-left:20px}.delect .el-dialog__body>div div{margin-top:20px}.delect .el-dialog__footer .el-button{width:100px;margin-right:20px}","",{version:3,sources:["/Users/eric/PomeloHomeOpen_Sys/src/views/productManagement/onlineProductDetail.vue"],names:[],mappings:"AACA,SACE,kBAAmB,AACnB,UAAY,CACb,AACD,aACI,YAAc,CACjB,AACD,YACE,YAAa,AACb,gBAAkB,CACnB,AACD,4BACE,YAAa,AACb,eAAgB,AAChB,eAAgB,AAChB,UAAe,CAChB,AACD,+BACE,YAAa,AACb,eAAgB,AAChB,WAAe,AACf,YAAa,AACb,gBAAkB,CACnB,AACD,KACE,qBAAsB,AACtB,gBAAkB,CACnB,AACD,eACE,YAAa,AACb,aAAc,AACd,sBAAuB,AACvB,qBAAwB,AACxB,WAAY,AACZ,kBAAmB,AACnB,eAAgB,AAChB,iBAAmB,CACpB,AACD,sBACI,yBAA0B,AAC1B,kBAAoB,CACvB,AACD,4CACM,aAAe,CACpB,AACD,mBACI,kBAAoB,CACvB,AACD,0BACI,cAAkB,CACrB,AACD,qCACI,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,eAAgB,AAChB,aAAe,CAClB,AACD,uBACI,YAAa,AACb,YAAa,AACb,kBAAsB,CACzB,AACD,4BACM,yCAAyC,AACzC,YAAa,AACb,kBAAsB,CAC3B,AACD,iCACM,wCAA8C,CACnD,AACD,8BACM,+CAAmD,CACxD,AACD,sBACI,eAAgB,AAChB,UAAY,CACf,AACD,uBACI,eAAgB,AAChB,WAAY,AACZ,kBAAmB,AACnB,eAAkB,CACrB,AACD,eACE,SAAW,CACZ,AACD,mBACI,iBAAkB,AAClB,iBAAmB,CACtB,AACD,YACE,eAAgB,AAChB,+BAAiC,CAClC,AACD,2BACE,SAAW,CACZ,AACD,mCACE,mBAAoB,AACpB,gBAAkB,CACnB,AACD,oCACE,aAAe,CAChB,AACD,KACE,SAAW,CACZ,AACD,QACE,WAAY,AACZ,WAAY,AACZ,sBAAuB,AACvB,aAAe,CAChB,AACD,QACE,gBAAkB,CACnB,AACD,QACE,eAAiB,CAClB,AACD,WACE,YAAa,AACb,kBAAoB,CACrB,AACD,gCACI,gBAAiB,AACjB,iBAAmB,CACtB,AACD,uBACI,UAAW,AACX,gBAAkB,CACrB,AACD,uCACI,WAAa,CAChB,AACD,qBACI,kBAAoB,CACvB,AACD,uBACI,mBAAoB,AAGpB,YAAa,AACb,kBAAoB,CAHvB,AAKD,uBACI,WAAa,CAChB,AACD,0BACI,cAAgB,CACnB,AACD,gDACI,iBAAmB,CACtB,AACD,0DACM,gBAAkB,CACvB,AACD,QACE,YAAc,CACf,AACD,yBACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,4BAA8B,CACrC,AACD,uCACM,eAAgB,AAChB,aAAc,AACd,gBAAkB,CACvB,AACD,iCACM,eAAiB,CACtB,AACD,sCACI,YAAa,AACb,iBAAmB,CACtB",file:"onlineProductDetail.vue",sourcesContent:['\n.six-img {\n  margin-right: 15px;\n  float: left;\n}\n.six-img img {\n    height: 100px;\n}\n.edit-label {\n  height: 40px;\n  line-height: 40px;\n}\n.no-border .el-input__inner {\n  border: none;\n  padding-left: 0;\n  font-size: 15px;\n  color: #000000;\n}\n.no-border .el-textarea__inner {\n  border: none;\n  font-size: 15px;\n  color: #000000;\n  resize: none;\n  padding-top: 10px;\n}\n.p30 {\n  display: inline-block;\n  margin-left: 15px;\n}\n.accessProgram {\n  width: 224px;\n  height: 224px;\n  border: 1px #ddd solid;\n  margin: 0 48px 20px 0px;\n  float: left;\n  text-align: center;\n  cursor: pointer;\n  position: relative;\n}\n.accessProgram.active {\n    border: 1px solid #15a05d;\n    background: #f8f9fc;\n}\n.accessProgram.active .el-icon-circle-check {\n      color: #15a05d;\n}\n.accessProgram.dis {\n    cursor: not-allowed;\n}\n.accessProgram:last-child {\n    margin-right: 0px;\n}\n.accessProgram .el-icon-circle-check {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    font-size: 20px;\n    color: #f1f1f1;\n}\n.accessProgram .c-icon {\n    width: 224px;\n    height: 42px;\n    margin: 75px 0px 45px;\n}\n.accessProgram .c-icon.wifi {\n      background: url("../../assets/wifi.png");\n      height: 38px;\n      margin: 75px 0px 45px;\n}\n.accessProgram .c-icon.bluetooth {\n      background: url("../../assets/bluetooth.png");\n}\n.accessProgram .c-icon.zigbee {\n      background: url("../../assets/zibee.png") 0px -1px;\n}\n.accessProgram p.cdes {\n    font-size: 12px;\n    color: #999;\n}\n.accessProgram p.cname {\n    font-size: 14px;\n    color: #333;\n    margin-bottom: 8px;\n    font-weight: bold;\n}\n.gg .brand-box {\n  padding: 0;\n}\n.gg .brand-box img {\n    max-height: 120px;\n    margin-right: 15px;\n}\n.gavin-attr {\n  padding: 12px 0;\n  border-bottom: 1px solid #e6ebf5;\n}\n.attr-table.el-table .cell {\n  padding: 0;\n}\n.attr-table .gavin-attr:last-child {\n  border-bottom: none;\n  padding-bottom: 0;\n}\n.attr-table .gavin-attr:first-child {\n  padding-top: 0;\n}\n.red {\n  color: red;\n}\n.filebd {\n  height: 1px;\n  width: 100%;\n  background-color: #ccc;\n  margin: 30px 0;\n}\n.handle {\n  margin-right: 4px;\n}\n.addbtn {\n  padding: 8px 4px;\n}\n.el-dialog {\n  width: 610px;\n  padding-right: 80px;\n}\n.el-dialog .el-form-item__label {\n    text-align: left;\n    padding-left: 15px;\n}\n.el-dialog .uploadName {\n    width: 80%;\n    margin-right: 4px;\n}\n.el-dialog .introduce .el-input__inner {\n    height: 75px;\n}\n.el-dialog .formfile {\n    margin-bottom: 60px;\n}\n.el-dialog .submitForm {\n    margin-right: 100px;\n}\n.el-dialog .submitForm {\n    width: 135px;\n    margin-right: 105px;\n}\n.el-dialog .cancelForm {\n    width: 135px;\n}\n.el-dialog .el-icon-close {\n    font-size: 24px;\n}\n.el-dialog .check-dialog .el-form-item__content {\n    padding-left: 30px;\n}\n.el-dialog .check-dialog .el-form-item__content .download {\n      margin-left: 30px;\n}\n.delect {\n  height: 400px;\n}\n.delect .el-dialog__body {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: distribute;\n        justify-content: space-around;\n}\n.delect .el-dialog__body .el-icon-info {\n      font-size: 40px;\n      color: orange;\n      margin-left: 20px;\n}\n.delect .el-dialog__body > div div {\n      margin-top: 20px;\n}\n.delect .el-dialog__footer .el-button {\n    width: 100px;\n    margin-right: 20px;\n}\n'],sourceRoot:""}])},HhN8:function(j,t){!function(t){"use strict";var l,e=Object.prototype,c=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag",n="object"==typeof j,s=t.regeneratorRuntime;if(s)n&&(j.exports=s);else{(s=t.regeneratorRuntime=n?j.exports:{}).wrap=A;var p="suspendedStart",u="suspendedYield",m="executing",f="completed",g={},d={};d[r]=function(){return this};var h=Object.getPrototypeOf,_=h&&h(h(I([])));_&&_!==e&&c.call(_,r)&&(d=_);var v=x.prototype=C.prototype=Object.create(d);y.prototype=v.constructor=x,x.constructor=y,x[o]=y.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(v),t},s.awrap=function(t){return{__await:t}},D(k.prototype),k.prototype[i]=function(){return this},s.AsyncIterator=k,s.async=function(t,e,a,i){var r=new k(A(t,e,a,i));return s.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},D(v),v[o]="Generator",v[r]=function(){return this},v.toString=function(){return"[object Generator]"},s.keys=function(a){var i=[];for(var t in a)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in a)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=I,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var i=this;function t(t,e){return o.type="throw",o.arg=a,i.next=t,e&&(i.method="next",i.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var n=c.call(r,"catchLoc"),s=c.call(r,"finallyLoc");if(n&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(n){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&c.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),S(a),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var r=i.arg;S(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:I(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=l),g}}}function A(t,e,a,i){var o,n,s,l,r=e&&e.prototype instanceof C?e:C,c=Object.create(r.prototype),d=new F(i||[]);return c._invoke=(o=t,n=a,s=d,l=p,function(t,e){if(l===m)throw new Error("Generator is already running");if(l===f){if("throw"===t)throw e;return O()}for(s.method=t,s.arg=e;;){var a=s.delegate;if(a){var i=w(a,s);if(i){if(i===g)continue;return i}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===p)throw l=f,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=m;var r=b(o,n,s);if("normal"===r.type){if(l=s.done?f:u,r.arg===g)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(l=f,s.method="throw",s.arg=r.arg)}}),c}function b(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}function C(){}function y(){}function x(){}function D(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(l){var e;this._invoke=function(a,i){function t(){return new Promise(function(t,e){!function e(t,a,i,r){var o=b(l[t],l,a);if("throw"!==o.type){var n=o.arg,s=n.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):Promise.resolve(s).then(function(t){n.value=t,i(n)},r)}r(o.arg)}(a,i,t,e)})}return e=e?e.then(t,t):t()}}function w(t,e){var a=t.iterator[e.method];if(a===l){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=l,w(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=b(a,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=l),e.delegate=null,g):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function I(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(c.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=l,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:l,done:!0}}}(function(){return this}()||Function("return this")())},JgEn:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAAApCAMAAAAbFNWvAAAA21BMVEUAAAD4+v3B0NzA09slGhYkGhcjGhkrIRYkGhfL3Ovo6PrG1d8lGxa+1N7E0dvD0d7a4uojGhYkGhjC0dsjGRnS3uYjGRbk6/DI1d/i6fDC0dvC0tvp7vPD0NskGRbD0tvH0eDt8fbC0dvC0dvD0tzC0Nzy9fjM2OLC0dvC0NvC0trC0twoHh7B0dvB0dojGRYjGRbz9frm6/IjGRbV3+jC0dswIyMjGRcjGhYkGRfC0dskGhckHhYzJiAjGhYjGRcjGRYkGRYkGholHRvD1N0jGRcjGRckGRcjGRYQioqTAAAASHRSTlMAmZlFRZM6Fu0PA5loFytNmVBrlDOZ/JmZmYl2mWKDWQqZjm43I5mZe0o+MRmAUuPTmZmlmYUOv455ZmEqCPn18MwxIh2zmm9e2ov4AAACzElEQVRo3u3YaVPaUBTG8ZOHiHJbUJuCNTEmhkUWWSyyg/tyvv8naqLMlIghN2jNkPp7cTP3TWb+k5DDXPoU+4XCLfn8KBS2KTn2mX++CmT+CtwgX4GbbpMCc9WanejARg9OPcmB3jOEKRIbmCvWhbBgxRGY0xFKz9H7lDQ0s2SiEUOgDgk6raPcGhfNeoZcoq45WaHr4vMDASUUQNHdG3imtZ6rcppBJTSSE9jQgJ5pFd1L1SaXhbKtjRMTWNbglMhlm4AhiCgDi4xmYgKbcDL0IgXUyeUUydSSEtjAws+tCJ1cenyBJ3t7eyeK4q6HC5u5k3UCTVQXXlfgnoiETXYmnsADAL8V5RdwqiiHAI68zdzBOoGGb6hrKFE0s23XhFnd9nna2Zm6l/7HBB56TtcLbKLmm7V1WpJNpbK+ddGQV2n3Q+8mE3iuuC6iB9qlWq33KtDcTZUF+aR2d1O+dcHdJa90TC7Ju3mBSqVScdfzSuV8vlk/UNQ0ePyBnmZZOrDLPPoeqMNXZ5ECl60faFcB9AzDKNFfY3fvAEhJvqK3zF0KpjI/xvaKmoBl01vKTaBMUgZ8eUcrPHBh+hEfmSNXxI9Mw3tMAUQTPUESVOYtWmVa4IeYxkQRVQpUBnIkocPXIdPukTkdadDn83lvtufze4py9LK5yM9FGvQ6dimYgxqFmzCPaLWzK76J56+ahjoFq6JFoWZtbs8oxDHzfiyBBiwKJLz8UCPmYTqMesntWRyBFnSbgpSAewqzfc2SnuIIzGrBZ2diXLQo1BbL2unHEEgtoNrIiGUkqdMZqjL2O50JyXDwLRQcilD4phZJKvAxyThj/i57ohdKK0U6A31/4GQwIErf3NwSdQejkMAwIhNKUCSZ3LJspMBjZiL1eZq3uRscuIn+j8A7VSXqp9N9orQ6TWCgX9ICr3ZkXG9uoKRNDRxuSUvTP/MHxWGoCGR7FpkAAAAASUVORK5CYII="},PY9l:function(t,e,a){var i=a("ky/b");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("54217dd8",i,!0)},UyAJ:function(t,e,a){"use strict";e.c=function(t){return Object(i.a)({url:"/api/ext/devcard/template",method:"get",data:t})},e.d=function(t){return Object(i.a)({url:"/api/ext/devcard/template",method:"post",data:t})},e.b=function(){return Object(i.a)({url:"/api/ext/devcard/size",method:"get"})},e.a=function(t){return Object(i.a)({url:"/api/ext/devcard/size",method:"post",data:t})};var i=a("Vo7i")},Xxa5:function(t,e,a){t.exports=a("1H6C")},exGp:function(t,e,a){"use strict";e.__esModule=!0;var i,r=a("//Fk"),l=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){return function(){var s=t.apply(this,arguments);return new l.default(function(o,n){return function e(t,a){try{var i=s[t](a),r=i.value}catch(t){return void n(t)}if(!i.done)return l.default.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}},"ky/b":function(t,e,a){(t.exports=a("FZ+f")(!0)).push([t.i,".el-upload-list__item,.el-upload-list__item:first-child{margin-top:0}","",{version:3,sources:["/Users/eric/PomeloHomeOpen_Sys/src/components/typeManagement/uploadView.vue"],names:[],mappings:"AAIA,wDACE,YAAgB,CACjB",file:"uploadView.vue",sourcesContent:["\n.el-upload-list__item:first-child {\n  margin-top: 0px;\n}\n.el-upload-list__item {\n  margin-top: 0px;\n}\n"],sourceRoot:""}])},oXfz:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAAAmCAMAAADqQmd6AAAA1VBMVEUAAADB0Nz4+v3C0dvC1dvH1d/A09rM3e7k6/C+097D0d7a4urB0NtOVFrS3uZXYWHJ2dxBSk9ASU5BSk5ASU7o7fNBSk9BSlBASk6mpqbt8fbE0+BHT1Xy9fjM2OLC0NpBSk5BSk9CSk9DS1FASU5BSk5ASU5ASk5CTVBETFFFTVTb2/ZBSU/z9frg6O/D0d1BS09BSk9ASU5ASU5ASU9BSk/W4OhASk9CS0/F1N7F0t1BSk/C0dxCSlDD0NtCS1DBzdrB0dxASk9CS0/D0t7R0ehASU60elpSAAAARnRSTlMAmZlwKplFD5kXTZmMC5kGDvr0qcWZjmDZAZkhFZmZiYV6Ti/n4t7QMiggBO+ZmXpI/fi8saOZllYzLJ6VbWY5KYVxQlUL/2h2WAAAAuNJREFUaN7d2GlXolAYwPHnQXM0RWKJRbRY3LU0l9Rcqxm+/0eaC06ipudCNIn+XnC86OHwP/cCHuCnNBRDrFXaPN+u1ERDacAlYcdi2dlTFscsXIblUPioEsqqWvZHwyWcP0vyYnjJGNsseFh7bEi8t1uy4LzVvTxBtDjYw1mi4CXW4XyxoyeSUH1jj3z9ViVfP43O9lqsq+T8KwoHR3FKhfxEPdNJnJPLrGewlEk2euQCnUMQL/e45/4FTkaT3bmxgcp251nWgM7v8wvhZIbktKcsBMBOyU+HQIcILT25obfcPTT05eALtUAs3jHhMw4OMB3eChTYSuCWRCtCIK2PvkC6yu64ORf7quAIVUk0G7BL6UKgQB1ziY0c6hECERmqEIdvGjVnW1W2v3JOSUz4wwQm4xJYlHnHw1dq1Z6zJjYvJZAzBYeoGcuiBgRbNyWvdlS8iMCiW9OTm7s7zTbZqzYuINCukH9jw+aBZUvWart70sBCNpstMAzZPvqDD4VggQ2yPMtLOKSpkvTuKQPTiJhmmCvEu/Xg1huspQPOoOzUmnAYO3AGXPwCH113gQNBYeEYTeEgfoEPDPG8HZhJpTI72wg+H+1/3mRKpRLZPpRKD5vBocDU9XVqZ3uM1ngfd23KrO0f7SfvotEC69Oy42qL3ZgEfusSLYqOr9+IxRI9HJi+JfybTEB1d/b4vmzKA4F8EiyIwX/R6I8Jn0yWpsn67ykGWgwCC/l83n225/NZhrldD57z/xTCBWojqbj1AOxzcZhBmlCH17i9QXiIK+wkNzq4ilPgN0C8meGW2c3FBcJqkdhYrCB2gZwiz9kogbtiF8hJ7tuKYtTACb6+RA7M4RUV5iCcN8c1jRiYQV3HTNTAyQypZhMIR/QC1YiBkw5AYhI1EFq/qFoQ0sgL7EcMbOHvBf752BMrNu8QVoTHhEdfdDLrT3ELhPfaU1WBr3rFT14hbjT4Or2T29PRgeYv0Jd16OfDy9kAAAAASUVORK5CYII="},"p+uC":function(t,e,a){"use strict";var i=a("woOf"),r=a.n(i),o=a("UyAJ"),n=a("TIfe"),s={props:{imageData:{type:Object||null},os:{type:Number},card:{type:Object},imageList:{type:Array||null},edit:{type:Boolean}},data:function(){return{and_base_img:{type:12,token:Object(n.b)()},ios_base_img:{type:12,token:Object(n.b)()},ipad_base_img:{type:12,token:Object(n.b)()}}},created:function(){},computed:{type:function(){return 0===this.os?"安卓：":1===this.os?"IOS：":"面板："}},methods:{handleChange:function(){},uploadSuccess:function(){var a=this;return function(t){var e={x:a.card.x,y:a.card.y,os:a.os,name:t.result.filename,img:t.result.object,op:1};a.$emit("change-image",{file:e,card:a.card,os:a.os})}},removeSuccess:function(){var a=this;return function(t,e){if(t.response){t.response.result.object;a.$emit("del-image",{file:t.response,card:a.card,os:a.os})}else{t.imgid;t.op=3,a.$emit("del-image",{file:t,card:a.card,os:a.os})}}},handleUpload:function(a,i){var r=this;return function(t){var e={x:a.x,y:a.y,os:i,name:t.result.filename,img:t.result.object,op:1};r.addOperateImages[t.result.md5]=e}},handleremove:function(t){var e=t.response.result.md5;delete this.addOperateImages[e]},imageChange:function(){},imageSuccess:function(){},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},returnList:function(){var e=this;return this.imageList?this.imageList.filter(function(t){if(3!==t.op)return t.imgid&&(t.url=t.img,t.op=2,t.os=e.os,t.x=e.card.x,t.y=e.card.y),t}):[]}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-col",{attrs:{span:8}},[a("el-col",{staticClass:"text",attrs:{span:5}},[t._v("\n          "+t._s(t.type)+"\n      ")]),t._v(" "),a("el-col",{attrs:{span:19}},[a("el-upload",{attrs:{disabled:!t.edit,"on-success":t.uploadSuccess(),data:t.and_base_img,"file-list":t.returnList(),"on-remove":t.removeSuccess(t.imageData),action:"/api/index.php/files/save"}},[a("el-button",{staticClass:"imgAddBtn",attrs:{icon:"el-icon-plus",size:"mini"}},[t._v("添加图片")])],1)],1)],1)],1)},staticRenderFns:[]};var c={components:{uploadView:a("VU/8")(s,l,!1,function(t){a("PY9l")},null,null).exports},props:{imageData:{type:Object||null},card:{type:Object},edit:{type:Boolean}},data:function(){return{}},created:function(){},computed:{check:{get:function(){return 1===this.imageData.check},set:function(t){this.imageData.check=t?1:0}}},methods:{getList:function(t){return this.imageData?0===t?this.imageData.android:1===t?this.imageData.ios:this.imageData.panel:[]},changeIamge:function(t){this.$emit("change-image",t)},delImage:function(t){this.$emit("del-image",t)}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"imgContent"},[a("el-col",{staticClass:"checkContent",attrs:{span:2}},[a("el-checkbox",{attrs:{disabled:!e.edit},model:{value:e.check,callback:function(t){e.check=t},expression:"check"}},[e._v(e._s(e.card.x+"*"+e.card.y))])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("uploadView",{attrs:{os:0,edit:e.edit,imageList:e.getList(0),imageData:e.imageData,card:e.card},on:{"change-image":e.changeIamge,"del-image":e.delImage}}),e._v(" "),a("uploadView",{attrs:{os:1,edit:e.edit,imageList:e.getList(1),imageData:e.imageData,card:e.card},on:{"change-image":e.changeIamge,"del-image":e.delImage}}),e._v(" "),a("uploadView",{attrs:{edit:e.edit,os:2,imageList:e.getList(2),imageData:e.imageData,card:e.card},on:{"change-image":e.changeIamge,"del-image":e.delImage}})],1)],1)],1)},staticRenderFns:[]},p={components:{cardImageView:a("VU/8")(c,d,!1,null,null,null).exports},props:{operateImages:{type:Object},cardData:{type:Object||null},edit:{type:Boolean||null,default:!0}},data:function(){return{cardList:[],platform:["android","ios","panel"]}},watch:{cardData:function(){this.initOperateImages()},operateImages:function(){this.initOperateImages()}},created:function(){this.getCardSizeList()},methods:{getCardSizeList:function(){var e=this;Object(o.b)({}).then(function(t){e.cardList=t.data,e.initOperateImages()})},initOperateImages:function(){var a=this;this.cardList.forEach(function(t){var e={check:0,android:[],ios:[],panel:[]};a.cardData&&a.cardData.images&&a.cardData.images[t.x+","+t.y]&&(1===a.cardData.images[t.x+","+t.y].check&&(e.check=1),a.cardData.images[t.x+","+t.y].android&&r()(e.android,a.cardData.images[t.x+","+t.y].android),a.cardData.images[t.x+","+t.y].ios&&r()(e.ios,a.cardData.images[t.x+","+t.y].ios),a.cardData.images[t.x+","+t.y].panel&&r()(e.panel,a.cardData.images[t.x+","+t.y].panel)),a.$set(a.operateImages,t.x+","+t.y,e)})},changeIamge:function(t){t.card.x,t.card.y;var e=t.card.x+","+t.card.y,a=this.platform[t.os];this.operateImages[e][a].push(t.file)},delImage:function(e){e.card.x,e.card.y;var t=e.card.x+","+e.card.y,a=this.platform[e.os];if(e.file.imgid)this.operateImages[t][a].map(function(t){t.img===e.file.img&&r()(t,e.file)});else{var i=this.operateImages[t][a].filter(function(t){if(t.img!==e.file.img)return!0});this.operateImages[t][a]=i}}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[0<Object.keys(e.operateImages).length?[e._l(e.cardList,function(t){return[a("cardImageView",{attrs:{edit:e.edit,card:t,imageData:e.operateImages[t.x+","+t.y]},on:{"change-image":e.changeIamge,"del-image":e.delImage}})]})]:e._e()],2)},staticRenderFns:[]},m=a("VU/8")(p,u,!1,null,null,null);e.a=m.exports},sQkU:function(t,e,a){"use strict";e.j=function(t){return Object(i.a)({url:"/admin/review_lists?page="+t.page,method:"post",data:t})},e.h=function(){return Object(i.a)({url:"/admin/product/type_lists",method:"post",data:{}})},e.i=function(t){return Object(i.a)({url:"/admin/review_info",method:"post",data:t})},e.c=function(t){return Object(i.a)({url:"/admin/review_approve",method:"post",data:t})},e.f=function(t){return Object(i.a)({url:"/admin/product_lists",method:"post",data:t})},e.e=function(t){return Object(i.a)({url:"/admin/product_info",method:"post",data:t})},e.k=function(t){return Object(i.a)({url:"/admin/product_unshelve",method:"post",data:t})},e.g=function(t){return Object(i.a)({url:"/api/ext/devcard/product",method:"get",data:t})},e.b=function(t){return Object(i.a)({url:"/api/ext/devcard/product",method:"post",data:t})},e.d=function(){return Object(i.a)({url:"/api/ext/gtags/global",method:"get"})},e.a=function(t){return Object(i.a)({url:"/api/ext/gtags/global",method:"post",data:t})};var i=a("Vo7i")},vV06:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAAAqCAMAAACdgKcBAAAAzFBMVEUAAADB0Nz4+v3C1dvC0dvA09rM3e7G1d9BSU9pa23D0d68097T3+fB0NvZ4enk6/DI1d/J2dxASU7t7f9BSU7p7vPj6fBFTlNTW1tASU7t8fZFTVNLUVRASk7y9fjM2OLC0NrE0uBASU9ASU5BSk5ASU5ASU5ASU7z9frm6/LD0d1BSk9BS09CS1BASU5BSk5CSlBETFFBSU7e5u3C0dxASU5BSU9BSk9ASk7D0NtBSlBBSk5CS0/F093BzdrI0uDB0dxFTFPD0d9ASU5e2lfTAAAAQ3RSTlMAmZkqcEUPmZIFTReZjJmZmQ25AtaZmRkJ85kgE+6ZmYki/OnM99+wmZl6ZUs3wqZuLpuZlY+Ee3VmXldBLikahSc328Y4CwAAArlJREFUaN7dmetS6jAQgHfb4rEK9UBRylUrih4uigIqctW8/zudTSw3y0xNYDCTb4bMbH90+GbT3U0Lh6VTz5XBZAaMFVtgMMeMMDmJJFg0OokkWM7xJBbATEjQhRYlsfoORiIEQSTxzsgkfgmCb2wShSCn/CCfRPsKv3Flg2YsBcHvUhLzIAP5xQxBM1aCMKrKCiKCH9pLQp9fUYW2QyJXtrpg5VG+WSD6Dq7h+DsIJvhJbZCnuOC4wdht1wdJwRAzzpIMheqCiFYiiD/zu72rbAoGA0rfzYf8f7LRWYUO2noIUr2st9cFn/KMXb+4YIqg6AjHwUIweL1mrNEBMEYQgCvlnyLBG9J9DsAoQejkqaa8+ULwa8NqIVjyPK9kWT3P660FESUZQQieSeyhUOHpo5KjieAZIv6zrL+Il5Z1QcE5DyLOZASJdp2xKv1YC0Bvwd4FcSktCIUcE7i6C95bRHpd8DSVOt1Yt9JpJAkm3W3/RaZWq9F6X6vdR8F2wdTJSWpzjeO+8ErKH8GEBhi72yGrqLrgB1cbBG5OjDC6CO5ti/rdW+rtY4jaRLGlyRbdLnhxTkgVGVFeHitRo78TnULjIiPbJsTBrzpazaLvRd7rdRAspdNp6udeOu1Z1vkiiPh5o38UB7+V4GI4/X3BPY1qlXzX3zwuudFwKgniFJv2kiZO9RAEN37g7TSi4VQGxKM+rtE/0kQQ4oI0nKq8soDp0FkynILGggBtlZdOm2gtSKONquAE55OdBTP4JxHMqAuO87w3FlQEZxiGONtV8LOPifQ/VQUr/AlstAFUBCdNAGeyqyD4R4n4oCg4qjN2PQhATTCLJ0PMLq5oBhcsi4m7o1IXsoLZsDnLCrQUfCvyFuiCPHOMMQfNIEH1j/RhM/ONZgiaccwM/S644FWcmwwm6I7hsPwHDRZzdfKM2OIAAAAASUVORK5CYII="}});