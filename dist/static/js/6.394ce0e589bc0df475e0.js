webpackJsonp([6,71,75],{"1yLE":function(e,t,a){var l=a("uSC2");l(l.S,"Number",{isInteger:a("D44a")})},"4BEV":function(e,t,a){var l=a("QJwN");(l="string"==typeof l?[[e.i,l,""]]:l).locals&&(e.exports=l.locals);a("8bSs")("786f91e6",l,!0)},"4Xi4":function(e,t,a){e.exports={default:a("6OVK"),__esModule:!0}},"6OVK":function(e,t,a){a("1yLE"),e.exports=a("DH3n").Number.isInteger},D44a:function(e,t,a){var l=a("VII3"),i=Math.floor;e.exports=function(e){return!l(e)&&isFinite(e)&&i(e)===e}},DD7m:function(e,t,a){var l=a("xelF");(l="string"==typeof l?[[e.i,l,""]]:l).locals&&(e.exports=l.locals);a("8bSs")("5a557e83",l,!0)},IiiD:function(e,t,a){(e.exports=a("BkJT")(!0)).push([e.i,".el-table__body-wrapper{overflow:hidden}.upload-container{float:right;margin-left:20px}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}.desTitle{display:inline-block;padding-right:15px;color:#5a5e66;min-width:81px}.marT20{margin-top:20px}","",{version:3,sources:["D:/project/c/PomeloHomeOpen_Sys/src/views/typeManagement/deviceDetail.vue"],names:[],mappings:"AAIA,wBACE,eAAiB,CAClB,AACD,kBACE,YAAa,AACb,gBAAkB,CACnB,AACD,MACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,UACE,qBAAsB,AACtB,mBAAoB,AACpB,cAAe,AACf,cAAgB,CACjB,AACD,QACE,eAAiB,CAClB",file:"deviceDetail.vue",sourcesContent:["\n.upload-container {\r\n  float: right;\n}\n.el-table__body-wrapper {\r\n  overflow: hidden;\n}\n.upload-container {\r\n  float: right;\r\n  margin-left: 20px;\n}\n.flex {\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\n}\n.desTitle {\r\n  display: inline-block;\r\n  padding-right: 15px;\r\n  color: #5a5e66;\r\n  min-width: 81px;\n}\n.marT20 {\r\n  margin-top: 20px;\n}\r\n"],sourceRoot:""}])},QJwN:function(e,t,a){(e.exports=a("BkJT")(!0)).push([e.i,".addParams[data-v-15d1ac78]{margin-top:15px}.addAttr[data-v-15d1ac78]{margin-left:140px;color:#409eff}.w100p[data-v-15d1ac78]{width:100%}.w50p[data-v-15d1ac78]{width:50%}.input-width[data-v-15d1ac78]{width:285px}.addbtn[data-v-15d1ac78]{font-size:12px;color:#409eff}.first-item[data-v-15d1ac78],.sec-item[data-v-15d1ac78]{border:1px dashed #d2d2d2;padding-top:15px}.sec-item[data-v-15d1ac78]{width:98%}.mt0[data-v-15d1ac78]{margin-bottom:0}.pl8 .el-form-item__label[data-v-15d1ac78]{padding-left:10px}","",{version:3,sources:["D:/project/c/PomeloHomeOpen_Sys/src/views/typeManagement/addAttribute.vue"],names:[],mappings:"AACA,4BACI,eAAiB,CACpB,AACD,0BACI,kBAAmB,AACnB,aAAe,CAClB,AACD,wBACI,UAAY,CACf,AACD,uBACI,SAAW,CACd,AACD,8BACI,WAAa,CAChB,AACD,yBACI,eAAgB,AAChB,aAAc,CACjB,AAKD,wDAHI,0BAA2B,AAC3B,gBAAkB,CAMrB,AAJD,2BAGI,SAAW,CACd,AACD,sBACI,eAAiB,CACpB,AACD,2CACI,iBAAmB,CACtB",file:"addAttribute.vue",sourcesContent:["\n.addParams[data-v-15d1ac78]{\n    margin-top: 15px;\n}\n.addAttr[data-v-15d1ac78]{\n    margin-left: 140px;\n    color: #409EFF;\n}\n.w100p[data-v-15d1ac78]{\n    width: 100%;\n}\n.w50p[data-v-15d1ac78]{\n    width: 50%;\n}\n.input-width[data-v-15d1ac78]{\n    width: 285px;\n}\n.addbtn[data-v-15d1ac78]{\n    font-size: 12px;\n    color:#409EFF;\n}\n.first-item[data-v-15d1ac78]{\n    border: 1px dashed #d2d2d2;\n    padding-top: 15px;\n}\n.sec-item[data-v-15d1ac78]{\n    border: 1px dashed #d2d2d2;\n    padding-top: 15px;\n    width: 98%;\n}\n.mt0[data-v-15d1ac78]{\n    margin-bottom: 0;\n}\n.pl8 .el-form-item__label[data-v-15d1ac78]{\n    padding-left: 10px;\n}\n"],sourceRoot:""}])},bFNI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[{technology_type:"",index:0,vendor:"",model:"",agreement:""},{technology_type:"",index:1,vendor:"",model:"",agreement:""}],i={computed:{},created:function(){},mounted:function(){},data:function(){return{dialogFormVisible:!1,form:{technology_list:[{technology_type:"",index:0,vendor:"",model:"",agreement:""},{technology_type:"",index:1,vendor:"",model:"",agreement:""}]}}},methods:{addTechnicalList:function(){this.form.technology_list.push({technology_type:"",vendor:"",model:"",agreement:""})},removeTechnicalList:function(e){this.form.technology_list.splice(e,1)},confirmTechnical:function(){var t=this;this.$refs.techniForm.validate(function(e){var a;e&&(a=[],t.form.technology_list.forEach(function(e,t){""!=e.technology_type&&(1==e.technology_type?a.push({technology_type:e.technology_type,vendor:e.vendor,model:e.model}):a.push({technology_type:e.technology_type,agreement:e.agreement}))}),t.$emit("get-data",{technology_list:a}),t.dialogFormVisible=!1,t.form.technology_list=l)})}}},s={render:function(){var l=this,e=l.$createElement,i=l._self._c||e;return i("div",{staticStyle:{display:"inline-block"}},[i("el-dialog",{attrs:{title:"增加技术方案",visible:l.dialogFormVisible,width:"50%","custom-class":"addTechDialog"},on:{"update:visible":function(e){l.dialogFormVisible=e}}},[i("el-form",{ref:"techniForm",attrs:{model:l.form,inline:!0,"label-position":"top"}},l._l(l.form.technology_list,function(t,a){return i("el-row",{key:t.value,attrs:{span:24}},[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"技术方案",prop:"technology_list."+a+".technology_type",rules:[{required:!0,message:"技术方案不能为空",trigger:"change"}]}},[i("el-select",{attrs:{placeholder:"请选择技术方案"},model:{value:t.technology_type,callback:function(e){l.$set(t,"technology_type",e)},expression:"item.technology_type"}},[i("el-option",{attrs:{label:"Wi-Fi方案",value:"1"}}),l._v(" "),i("el-option",{attrs:{label:"ZigBee方案",value:"2"}}),l._v(" "),i("el-option",{attrs:{label:"蓝牙方案",value:"3"}})],1)],1)],1),l._v(" "),1==t.technology_type?i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"模组/芯片厂家",prop:"technology_list."+a+".vendor",rules:[{required:!0,message:"模组/芯片厂家不能为空",trigger:"blur"}]}},[i("el-input",{model:{value:t.vendor,callback:function(e){l.$set(t,"vendor",e)},expression:"item.vendor"}})],1)],1):l._e(),l._v(" "),1==t.technology_type?i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"模组/芯片型号",prop:"technology_list."+a+".model",rules:[{required:!0,message:"模组/芯片型号不能为空",trigger:"blur"}]}},[i("el-input",{model:{value:t.model,callback:function(e){l.$set(t,"model",e)},expression:"item.model"}})],1)],1):l._e(),l._v(" "),2==t.technology_type||3==t.technology_type?i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"协议",prop:"technology_list."+a+".agreement",rules:[{required:!0,message:"协议不能为空",trigger:"blur"}]}},[i("el-input",{model:{value:t.agreement,callback:function(e){l.$set(t,"agreement",e)},expression:"item.agreement"}})],1)],1):l._e(),l._v(" "),i("el-col",{attrs:{span:3}},[i("el-form-item",{attrs:{label:" "}},[1<l.form.technology_list.length?i("i",{staticClass:"el-icon-circle-close remove-item",on:{click:function(e){return l.removeTechnicalList(a)}}}):l._e()])],1)],1)}),1),l._v(" "),i("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:l.addTechnicalList}},[i("i",{staticClass:"el-icon-plus"}),l._v(" 添加更多技术方案")]),l._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){l.dialogFormVisible=!1}}},[l._v("取 消")]),l._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:l.confirmTechnical}},[l._v("确 定")])],1)],1),l._v(" "),i("el-button",{staticStyle:{"margin-right":"15px"},on:{click:function(e){l.dialogFormVisible=!0}}},[l._v("添加技术方案")])],1)},staticRenderFns:[]};s=a("C7Lr")(i,s,!1,function(e){a("DD7m")},"data-v-15eb2cf1",null),t.default=s.exports},bzuE:function(e,t,a){"use strict";a.d(t,"d",function(){return l}),a.d(t,"c",function(){return i}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return r});var l=[{id:1,name:"wifi"},{id:2,name:"zigbee"},{id:3,name:"bluetooth"}],i=[{id:1,type:2,action_type:0,unapproved_reason:"",description:"营业执照复印件，加盖公章"},{id:2,type:9,action_type:0,unapproved_reason:"",description:"品牌中英文&商标资格证，回执加盖公章"},{id:3,type:4,action_type:0,unapproved_reason:"",description:"法定代表人身份证复印件，加盖公章"},{id:4,type:5,action_type:0,unapproved_reason:"",description:"公司出具的法人代表身份证明书，加盖公章"},{id:5,action_type:0,unapproved_reason:"",description:"商标未注册完成的上传商标注册记录"},{id:6,type:6,action_type:0,unapproved_reason:"",description:"ISO9001复印件"},{id:7,type:7,action_type:0,unapproved_reason:"",description:"国家高新技术企业复印件"},{id:8,type:8,action_type:0,unapproved_reason:"",description:"其他资质证书"}],s={checkType:[{DICT_VALUE:1,DICT_DESC:"企业审核"},{DICT_VALUE:3,DICT_DESC:"产品创建审核"},{DICT_VALUE:4,DICT_DESC:"产品上线审核"}],checkStatus:[{DICT_VALUE:1,DICT_DESC:"审批中"},{DICT_VALUE:2,DICT_DESC:"审批通过"},{DICT_VALUE:3,DICT_DESC:"审批不通过"},{DICT_VALUE:4,DICT_DESC:"已审批"}]},r="星络科技"},fDd0:function(e,t,a){var l=a("IiiD");(l="string"==typeof l?[[e.i,l,""]]:l).locals&&(e.exports=l.locals);a("8bSs")("5aa7c328",l,!0)},fYXB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("3cXf"),i=a.n(l),s=a("4Xi4"),r=a.n(s),o=(a("ZTz5"),a("Vo7i")),n=(a("VSB1"),a("TIfe")),d=a("bzuE"),s=a("bFNI"),l=a("i224"),s={name:"ExistedCategory",components:{addTechnical:s.default,addAttribute:l.default},data:function(){return{typeid:this.$route.query.id,token:Object(n.b)(),isLoadData:!1,isEdit:!1,editText:"编辑引导页",product:{},type:{},business:{},brand:{},model:{},is_evergrande:0,COLTD:d.a,form:{add3_img:{type:"24",token:Object(n.b)(),filename:""},add3_tips:"",plantform_name:"",plantform_service:"",plantform_des:"",plantform_connect:""},addType:"",deviceAddTypeList:[],rules:{type:[{required:!0,message:"请选择产品品类",trigger:"change"}],add_type:[{required:!0,message:"请选择产品添加方式",trigger:"change"}],add1_tips:[{required:!0,message:"请输入提示文字",trigger:"blur"},{max:255,message:"提示文字不能超过255个字符",trigger:"blur"}],add1_button:[{required:!0,message:"请输入按钮文字",trigger:"blur"},{max:8,message:"按钮文字不能超过8个字符",trigger:"blur"}],add2_tips:[{required:!0,message:"请输入提示文字",trigger:"blur"},{max:255,message:"提示文字不能超过255个字符",trigger:"blur"}],add3_tips:[{required:!0,message:"请输入提示文字",trigger:"blur"},{max:255,message:"提示文字不能超过255个字符",trigger:"blur"}],reset_tips:[{required:!0,message:"请输入重置提示文字",trigger:"blur"},{max:255,message:"重置提示文字不能超过255个字符",trigger:"blur"}],add_time:[{required:!0,validator:function(e,t,a){if(!t)return a(new Error("请输入提示文字"));r()(+t)?a():a(new Error("请输入数字值"))},trigger:"blur"}],plantform_name:[{required:!0,message:"请输入提示文字",trigger:"blur"},{max:30,message:"提示文字不能超过30个字符",trigger:"blur"}],plantform_service:[{required:!0,message:"请输入提示文字",trigger:"blur"},{max:30,message:"提示文字不能超过30个字符",trigger:"blur"}],plantform_des:[{required:!0,message:"请输入提示文字",trigger:"blur"},{max:30,message:"提示文字不能超过30个字符",trigger:"blur"}],plantform_connect:[{required:!0,message:"请输入提示文字",trigger:"blur"}],Auth_2_0:[{required:!1,trigger:"blur"}]}}},computed:{},created:function(){},mounted:function(){this.getDeviceInfo()},methods:{getDeviceSelectAddtype:function(){var t=this;Object(o.a)({url:"/device/deviceAddtype",method:"post",data:{token:this.token}}).then(function(e){t.deviceAddTypeList=e})},getDeviceInfo:function(){var t=this;Object(o.a)({url:"/device/deviceInfo",method:"post",data:{id:this.typeid}}).then(function(e){t.form=e,3==t.form.type&&(t.is_evergrande=1),t.form.add_type="0"==t.form.add_type?"":Number(t.form.add_type),t.form.offline_hint||(t.form.offline_hint=""),t.isLoadData=!0,t.handleImgAddToken(),t.getDeviceSelectAddtype()})},handleImgAddToken:function(){this.form.base_img.token=this.token,this.form.reset_img.token=this.token,this.form.add1_img.token=this.token,this.form.add2_img.token=this.token,this.form.add3_img.token=this.token},handleAvatarSuccess:function(e,t){var a=e.result;switch(a.type){case 23:this.form.base_img=a,this.form.base_img.token=this.token;break;case 25:this.form.reset_img=a,this.form.reset_img.token=this.token}this.$message({type:"success",message:"上传成功！"})},handleAddImg1Success:function(e,t){this.form.add1_img=e.result,this.form.add1_img.token=this.token,this.$message({type:"success",message:"上传成功！"})},handleAddImg2Success:function(e,t){this.form.add2_img=e.result,this.form.add2_img.token=this.token,this.$message({type:"success",message:"上传成功！"})},handleAddImg3Success:function(e,t){this.form.add3_img=e.result,this.form.add3_img.token=this.token,this.$message({type:"success",message:"上传成功！"})},beforeAvatarUpload:function(e){var t="image/png"===e.type,e=e.size/1024/1024<5;return t||this.$message.error("请上传5M大小内PNG格式的文件"),e||this.$message.error("请上传5M大小内PNG格式的文件"),t&&e},delectDevice:function(){var t=this;Object(o.a)({url:"/device/deviceDel",method:"post",data:{id:this.$route.query.id}}).then(function(e){t.$message({showClose:!0,message:"删除成功！",type:"success"}),setTimeout(function(){t.$router.push({path:"/typeManagement/deviceManager"})},2e3)})},editDevice:function(){var e=this;this.isEdit?this.$confirm("是否确认保存修改后引导页信息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.saveDeviceInfo()}).catch(function(){}):(this.isEdit=!0,this.editText="确定并提交修改")},saveDeviceInfo:function(){var t=this;this.$refs.ruleForm.validate(function(e){e?((e=JSON.parse(i()(t.form))).base_img.filename||delete e.base_img,6==e.add_type?(delete e.add1_button,delete e.add1_img,delete e.add1_tips,delete e.add2_img,delete e.add2_tips,delete e.add3_img,delete e.add3_tips,delete e.reset_img,delete e.reset_tips,delete e.add_time):(5!=e.add_type&&(delete e.add3_img,delete e.add3_tips),delete e.plantform_name,delete e.plantform_service,delete e.plantform_des,delete e.plantform_connect),e.token=t.token,Object(o.a)({url:"/device/deviceEdit",method:"post",data:e}).then(function(e){t.editText="编辑引导页",t.isEdit=!1,t.getDeviceInfo(),t.$message({type:"success",message:"编辑引导页成功!"})}).catch(function(e){t.editText="确定并提交修改",t.$message({type:"error",message:e.msg})})):t.$message({type:"error",message:"请把表单填写完整再提交修改！"})})},handleDelEvent:function(){var e=this;this.$confirm("是否确认删除此引导页，删除不能恢复。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delectDevice()}).catch(function(){})},handleBackEvent:function(){var e=this;this.isEdit?this.$confirm("是否确认返回? 所修改的信息将不会被保存!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push({path:"/typeManagement/deviceManager"})}).catch(function(){}):this.$router.push({path:"/typeManagement/deviceManager"})},addTechnical:function(){},getAttr:function(){},getTech:function(e){var t=this;Object(o.a)({url:"producttype/technologyadd",method:"post",data:e}).then(function(e){t.$message({type:"success",message:"添加方案成功！"}),t.getTechList(1),t.getTechList(2),t.getTechList(3)}).catch(function(e){t.$message({type:"error",message:e.msg})})},getTechList:function(t){var a=this;Object(o.a)({url:"producttype/technologylists",method:"post",data:{token:Object(n.b)(),type_id:this.typeid,technology_type:t}}).then(function(e){switch(t){case 1:a.technical_wifi=e.list;break;case 2:a.technical_zigbee=e.list;break;case 3:a.technical_bluetooth=e.list}}).catch(function(e){a.$message({type:"error",message:e.msg})})},arrayWifiSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex)return 0===t?{rowspan:this.technical_wifi.length,colspan:1}:{rowspan:0,colspan:0}},arrayBlueToothSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex)return 0===t?{rowspan:this.technical_bluetooth.length,colspan:1}:{rowspan:0,colspan:0}},arrayZigbeeSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex)return 0===t?{rowspan:this.technical_zigbee.length,colspan:1}:{rowspan:0,colspan:0}}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container calendar-list-container"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"ghost"},on:{click:t.handleBackEvent}},[t._v("返回")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editDevice}},[t._v(t._s(t.editText))]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],attrs:{type:"danger"},on:{click:t.handleDelEvent}},[t._v("删除该引导页")])],1),t._v(" "),a("el-col",{staticStyle:{margin:"20px 0px","padding-bottom":"40px"},attrs:{span:24}},[a("el-form",{ref:"ruleForm",staticStyle:{"margin-top":"20px"},attrs:{rules:t.rules,model:t.form,"label-width":"80px",size:"large"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"基本信息"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{"label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:""},model:{value:t.is_evergrande,callback:function(e){t.is_evergrande=e},expression:"is_evergrande"}},[t._v("属于"+t._s(t.COLTD)+"快联产品设备")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"品类","label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.type_name,callback:function(e){t.$set(t.form,"type_name",e)},expression:"form.type_name"}})],1)],1),t._v(" "),t.is_evergrande?t._e():a("el-form-item",{attrs:{label:"厂商","label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.business_name,callback:function(e){t.$set(t.form,"business_name",e)},expression:"form.business_name"}})],1)],1),t._v(" "),t.is_evergrande?t._e():a("el-form-item",{attrs:{label:"品牌","label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.brand_name,callback:function(e){t.$set(t.form,"brand_name",e)},expression:"form.brand_name"}})],1)],1),t._v(" "),t.is_evergrande?t._e():a("el-form-item",{attrs:{label:"型号","label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{disabled:""},model:{value:t.form.model,callback:function(e){t.$set(t.form,"model",e)},expression:"form.model"}})],1)],1),t._v(" "),t.is_evergrande?t._e():a("el-form-item",{attrs:{label:"产品图片","label-width":"120px"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"flex"},[t.form.base_img?a("el-input",{attrs:{disabled:!t.isEdit,readonly:""},model:{value:t.form.base_img.filename,callback:function(e){t.$set(t.form.base_img,"filename",e)},expression:"form.base_img.filename"}}):t._e(),t._v(" "),a("el-upload",{staticClass:"upload-container",attrs:{"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,data:t.form.base_img,disabled:!t.isEdit,action:"/api/index.php/files/save",accept:"image/png"}},[a("el-button",{attrs:{disabled:!t.isEdit,size:"middle",type:"primary"}},[t._v("选择文件")])],1)],1)])],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"添加方式"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"产品添加方式","label-width":"120px",prop:"add_type"}},[a("el-col",{attrs:{span:13}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!t.isEdit,placeholder:"请选择添加方式"},model:{value:t.form.add_type,callback:function(e){t.$set(t.form,"add_type",e)},expression:"form.add_type"}},t._l(t.deviceAddTypeList,function(e){return a("el-option",{key:e.type_id,attrs:{label:e.type_name,value:e.type_id}})}),1)],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6!=t.form.add_type,expression:"form.add_type!=6"}],attrs:{label:"第一步","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[t.form.add1_img?a("el-form-item",{attrs:{label:"上传图片","label-width":"80px"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{disabled:!t.isEdit,readonly:""},model:{value:t.form.add1_img.filename,callback:function(e){t.$set(t.form.add1_img,"filename",e)},expression:"form.add1_img.filename"}}),t._v(" "),a("el-upload",{staticClass:"upload-container",attrs:{"show-file-list":!1,"on-success":t.handleAddImg1Success,"before-upload":t.beforeAvatarUpload,data:t.form.add1_img,disabled:!t.isEdit,action:"/api/index.php/files/save",accept:"image/png"}},[a("el-button",{attrs:{disabled:!t.isEdit,size:"middle",type:"primary"}},[t._v("选择文件")])],1)],1)]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:13}},[a("div",{staticClass:"marT20"},[a("el-form-item",{attrs:{prop:6!=t.form.add_type?"add1_tips":"Auth_2_0",label:"提示文字","label-width":"80px"}},[a("el-input",{staticClass:"add1TextArea",attrs:{autosize:{minRows:3,maxRows:3},disabled:!t.isEdit,maxlength:255,type:"textarea",placeholder:"文字限制255个字符内"},model:{value:t.form.add1_tips,callback:function(e){t.$set(t.form,"add1_tips",e)},expression:"form.add1_tips"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:13}},[a("div",{staticClass:"marT20 flex"},[a("el-form-item",{attrs:{prop:6!=t.form.add_type?"add1_button":"Auth_2_0",label:"按钮文字","label-width":"80px"}},[a("el-input",{attrs:{disabled:!t.isEdit,maxlength:8},model:{value:t.form.add1_button,callback:function(e){t.$set(t.form,"add1_button",e)},expression:"form.add1_button"}})],1)],1)])],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6!=t.form.add_type,expression:"form.add_type!=6"}],attrs:{label:"第二步","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[t.form.add2_img?a("el-form-item",{attrs:{label:"上传图片","label-width":"80px"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{disabled:!t.isEdit,readonly:""},model:{value:t.form.add2_img.filename,callback:function(e){t.$set(t.form.add2_img,"filename",e)},expression:"form.add2_img.filename"}}),t._v(" "),a("el-upload",{staticClass:"upload-container",attrs:{"show-file-list":!1,"on-success":t.handleAddImg2Success,"before-upload":t.beforeAvatarUpload,data:t.form.add2_img,disabled:!t.isEdit,action:"/api/index.php/files/save",accept:"image/png"}},[a("el-button",{attrs:{disabled:!t.isEdit,size:"middle",type:"primary"}},[t._v("选择文件")])],1)],1)]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:13}},[a("div",{staticClass:"marT20"},[a("el-form-item",{attrs:{prop:6!=t.form.add_type?"add2_tips":"Auth_2_0",label:"提示文字","label-width":"80px"}},[a("el-input",{staticClass:"add1TextArea",attrs:{autosize:{minRows:3,maxRows:3},disabled:!t.isEdit,maxlength:255,type:"textarea",placeholder:"文字限制255个字符内"},model:{value:t.form.add2_tips,callback:function(e){t.$set(t.form,"add2_tips",e)},expression:"form.add2_tips"}})],1)],1)])],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:5==t.form.add_type,expression:"form.add_type==5"}],attrs:{label:"第三步","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[t.form.add3_img?a("el-form-item",{attrs:{label:"上传图片","label-width":"80px"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{disabled:!t.isEdit,readonly:""},model:{value:t.form.add3_img.filename,callback:function(e){t.$set(t.form.add3_img,"filename",e)},expression:"form.add3_img.filename"}}),t._v(" "),a("el-upload",{staticClass:"upload-container",attrs:{"show-file-list":!1,"on-success":t.handleAddImg3Success,"before-upload":t.beforeAvatarUpload,data:t.form.add3_img,disabled:!t.isEdit,action:"/api/index.php/files/save",accept:"image/png"}},[a("el-button",{attrs:{disabled:!t.isEdit,size:"middle",type:"primary"}},[t._v("选择文件")])],1)],1)]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:13}},[a("div",{staticClass:"marT20"},[a("el-form-item",{attrs:{prop:5==t.form.add_type?"add3_tips":"Auth_2_0",label:"提示文字","label-width":"80px"}},[a("el-input",{staticClass:"add1TextArea",attrs:{autosize:{minRows:3,maxRows:3},disabled:!t.isEdit,maxlength:255,type:"textarea",placeholder:"文字限制255个字符内"},model:{value:t.form.add3_tips,callback:function(e){t.$set(t.form,"add3_tips",e)},expression:"form.add3_tips"}})],1)],1)])],1)],1)],1),t._v(" "),6!=t.form.add_type?a("el-tab-pane",{attrs:{label:"连接方式"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6!=t.form.add_type,expression:"form.add_type!=6"}],attrs:{prop:6!=t.form.add_type?"add_time":"Auth_2_0",label:"超时时间","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{disabled:!t.isEdit,maxlength:3,placeholder:"请输入整数，限制三位，单位为秒"},model:{value:t.form.add_time,callback:function(e){t.$set(t.form,"add_time",e)},expression:"form.add_time"}})],1)],1)],1)],1):t._e(),t._v(" "),6!=t.form.add_type?a("el-tab-pane",{attrs:{label:"重置方式"}},[a("el-col",{attrs:{span:24}},[t.form.reset_img?a("el-form-item",{attrs:{label:"上传图片","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{disabled:!t.isEdit,readonly:""},model:{value:t.form.reset_img.filename,callback:function(e){t.$set(t.form.reset_img,"filename",e)},expression:"form.reset_img.filename"}}),t._v(" "),a("el-upload",{staticClass:"upload-container",attrs:{"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,data:t.form.reset_img,disabled:!t.isEdit,action:"/api/index.php/files/save",accept:"image/png"}},[a("el-button",{attrs:{disabled:!t.isEdit,size:"middle",type:"primary"}},[t._v("选择文件")])],1)],1)])],1):t._e(),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6!=t.form.add_type,expression:"form.add_type!=6"}],attrs:{prop:6!=t.form.add_type?"reset_tips":"Auth_2_0",label:"提示文字","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{autosize:{minRows:3,maxRows:3},disabled:!t.isEdit,maxlength:255,type:"textarea",placeholder:"请输入其他说明"},model:{value:t.form.reset_tips,callback:function(e){t.$set(t.form,"reset_tips",e)},expression:"form.reset_tips"}})],1)],1)],1)],1):t._e(),t._v(" "),6==t.form.add_type?a("el-tab-pane",{attrs:{label:"对接信息"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6==t.form.add_type,expression:"form.add_type==6"}],attrs:{prop:6==t.form.add_type?"plantform_name":"Auth_2_0",label:"平台名称","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{disabled:!t.isEdit,maxlength:30,placeholder:"请输入"},model:{value:t.form.plantform_name,callback:function(e){t.$set(t.form,"plantform_name",e)},expression:"form.plantform_name"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6==t.form.add_type,expression:"form.add_type==6"}],attrs:{prop:6==t.form.add_type?"plantform_service":"Auth_2_0",label:"服务用语","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{disabled:!t.isEdit,maxlength:30,placeholder:"请输入"},model:{value:t.form.plantform_service,callback:function(e){t.$set(t.form,"plantform_service",e)},expression:"form.plantform_service"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6==t.form.add_type,expression:"form.add_type==6"}],attrs:{prop:6==t.form.add_type?"plantform_des":"Auth_2_0",label:"平台介绍","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{disabled:!t.isEdit,maxlength:30,placeholder:"请输入"},model:{value:t.form.plantform_des,callback:function(e){t.$set(t.form,"plantform_des",e)},expression:"form.plantform_des"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:6==t.form.add_type,expression:"form.add_type==6"}],attrs:{prop:6==t.form.add_type?"plantform_connect":"Auth_2_0",label:"连接步骤","label-width":"120px"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{disabled:!t.isEdit,autosize:{minRows:5},type:"textarea",placeholder:"请输入"},model:{value:t.form.plantform_connect,callback:function(e){t.$set(t.form,"plantform_connect",e)},expression:"form.plantform_connect"}})],1)],1)],1)],1):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};l=a("C7Lr")(s,l,!1,function(e){a("fDd0")},null,null),t.default=l.exports},i224:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("3cXf"),i=a.n(l),s=a("Vo7i"),r=(a("TIfe"),{method:[],key:"",type:"string",key_type:1,unit:"",is_checkbox:"1",value_list:[{value:"",value_des:""}],remark:""}),o={method:[],key:"",type:"string",key_type:1,remark:"",unit:"",is_checkbox:"1",value_list:[{value:"",value_des:""}],list:[r]},n={props:["typeid","token","visible","attrid"],data:function(){var e=i()(o);return{top:0<window.innerHeight-660?(window.innerHeight-660)/2+"px":"0px",dialogTitle:"新建属性参数",hulian_value:!0,isChooseObject:!1,form_string:e,form:{token:this.token,type_id:this.typeid,nodeid:"",is_default:1,value_list:[JSON.parse(e)]},rules:{nodeid:[{required:!0,message:"属性名称不能为空"},{min:1,max:32,message:"属性名称最多32个字符"},{validator:this.letterAndUnderscode}]}}},computed:{},watch:{attrid:function(e){e?(this.getAttr(e),this.dialogTitle="编辑属性参数"):this.dialogTitle="新建属性参数"}},created:function(){},mounted:function(){},methods:{getAttr:function(e){var t=this;Object(s.a)({url:"/attribute/info",method:"post",data:{attr_id:e}}).then(function(e){t.form.nodeid=e.ret.nodeid,t.form.is_default=e.ret.is_default,e.ret.value_list.forEach(function(e){e.list||(e.list=[JSON.parse(i()(r))]),e.value_list||(e.value_list=[{value:"",value_des:""}])}),t.form.value_list=e.ret.value_list})},addParams:function(){this.form.value_list.push(JSON.parse(this.form_string))},deleteParams:function(e){this.form.value_list.splice(e,1)},addAttribute:function(e){var t=i()(r);e.list.push(JSON.parse(t))},deleteAttr:function(e,t){e.list.splice(t,1)},changeTypeValue:function(e,t){"int"==e?(t.key_type=2,t.value_list=[{value:1,value_des:"类型"},{value:"",value_des:"最小值"},{value:"",value_des:"最大值"}]):"object"==e?t.key_type=3:(t.key_type="otc"==e?4:1,t.value_list=[{value:"",value_des:""}])},addEnumerateItem:function(e){e.value_list.push({value:"",value_des:""})},delEnumerateItem:function(e,t){t.value_list.splice(e,1)},closeDialog:function(){this.$refs.attForm.resetFields(),this.form.value_list=[JSON.parse(this.form_string)],this.$emit("close-dialog")},confirmTechnical:function(){var t=this;this.$refs.attForm.validate(function(e){e&&(e=i()(t.form),(e=JSON.parse(e)).value_list.forEach(function(e){"3"==e.key_type?(delete e.value_list,delete e.is_checkbox,e.list.forEach(function(e){"1"!=e.key_type&&delete e.is_checkbox})):(delete e.list,"1"!=e.key_type&&delete e.is_checkbox)}),t.attrid&&(e.attr_id=t.attrid),Object(s.a)({url:t.attrid?"/attribute/edit":"/attribute/add",method:"post",data:e}).then(function(e){t.$emit("fresh-list"),t.closeDialog()}))})},letterAndUnderscode:function(e,t,a){var l=!0;if(t){for(var i=0;i<t.length;i++){var s=t.charCodeAt(i);if(!(65<=s&&s<=90||97<=s&&s<=122||95==s||33<=s&&s<=46||48<=s&&s<=57)){l=!1,a("只能是字母下划线");break}}l&&a()}else a()},unCN:function(e,t,a){/[\u4e00-\u9fa5]+/g.test(t)?a("不支持中文汉字"):a()},lengthLimit:function(e,t,a,l){a&&a.length>e?l("长度不能超过"+e+"字符"):l()}}},l={render:function(){var o=this,e=o.$createElement,n=o._self._c||e;return n("div",{staticClass:"attDialog"},[n("el-dialog",{attrs:{"before-close":o.closeDialog,top:o.top,center:!0,title:o.dialogTitle,visible:o.visible,width:"1000px"},on:{"update:visible":function(e){o.visible=e}}},[n("el-form",{ref:"attForm",attrs:{inline:!0,rules:o.rules,model:o.form,"label-position":"left","label-width":"140px"}},[n("el-row",[n("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:2}},[o._v("\n          属性信息\n        ")]),o._v(" "),n("el-col",{attrs:{span:22}},[n("el-form-item",{staticClass:"w100p",attrs:{label:"属性名称(node_ID)",prop:"nodeid"}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:o.form.nodeid,callback:function(e){o.$set(o.form,"nodeid",e)},expression:"form.nodeid"}})],1),o._v(" "),n("el-form-item",{staticClass:"w100p pl8",attrs:{label:"  是否为必选"}},[n("el-radio-group",{model:{value:o.form.is_default,callback:function(e){o.$set(o.form,"is_default",e)},expression:"form.is_default"}},[n("el-radio",{attrs:{label:1}},[o._v("必选")]),o._v(" "),n("el-radio",{attrs:{label:0}},[o._v("非必选")])],1)],1)],1)],1),o._v(" "),o._l(o.form.value_list,function(s,r){return n("el-row",{key:r,staticClass:"first-item"},[n("div",[n("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:2}},[o._v("\n            参数信息\n          ")]),o._v(" "),n("el-col",{attrs:{span:22}},[n("el-form-item",{attrs:{prop:"value_list."+r+".key",rules:[{required:!0,message:"参数名称不能为空"},{min:1,max:32,message:"参数名称最多32个字符"},{validator:o.letterAndUnderscode}],label:"参数名称(key)"}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:s.key,callback:function(e){o.$set(s,"key",e)},expression:"paramKey.key"}})],1),o._v(" "),n("el-form-item",{attrs:{inline:!0,prop:"value_list."+r+".remark",rules:[{required:!0,message:"参数含义不能为空"}],label:"参数含义","label-width":"100px"}},[n("el-input",{staticClass:"input-width",model:{value:s.remark,callback:function(e){o.$set(s,"remark",e)},expression:"paramKey.remark"}})],1),o._v(" "),n("el-form-item",{staticClass:"w50p pl8",attrs:{prop:"value_list."+r+".unit",rules:[{validator:o.lengthLimit.bind(null,16)}],label:"单位"}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"支持中英文、特殊字符，最多16个字符"},model:{value:s.unit,callback:function(e){o.$set(s,"unit",e)},expression:"paramKey.unit"}})],1),o._v(" "),n("el-form-item",{staticClass:"w100p",attrs:{prop:"value_list."+r+".method",rules:[{required:!0,message:"参数可控不能为空"}],label:"参数可控"}},[n("el-checkbox-group",{model:{value:s.method,callback:function(e){o.$set(s,"method",e)},expression:"paramKey.method"}},[n("el-checkbox",{attrs:{label:"set"}},[o._v("set")]),o._v(" "),n("el-checkbox",{attrs:{label:"get"}},[o._v("get")]),o._v(" "),n("el-checkbox",{attrs:{label:"report"}},[o._v("report")]),o._v(" "),n("el-checkbox",{attrs:{label:"alarm"}},[o._v("alarm")])],1)],1),o._v(" "),n("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值类型"}},[n("el-radio-group",{on:{change:function(e){return o.changeTypeValue(e,s)}},model:{value:s.type,callback:function(e){o.$set(s,"type",e)},expression:"paramKey.type"}},[n("el-radio",{attrs:{label:"string"}},[o._v("string")]),o._v(" "),n("el-radio",{attrs:{label:"int"}},[o._v("int")]),o._v(" "),n("el-radio",{attrs:{label:"object"}},[o._v("object")]),o._v(" "),n("el-radio",{attrs:{label:"float"}},[o._v("float")]),o._v(" "),n("el-radio",{attrs:{label:"array"}},[o._v("array")]),o._v(" "),n("el-radio",{attrs:{label:"bool"}},[o._v("bool")]),o._v(" "),n("el-radio",{attrs:{label:"otc"}},[o._v("otc")])],1)],1),o._v(" "),0<=["string","float","array","bool"].indexOf(s.type)?n("el-form-item",{staticClass:"w100p pl8",attrs:{label:"复选/单选"}},[n("el-radio-group",{model:{value:s.is_checkbox,callback:function(e){o.$set(s,"is_checkbox",e)},expression:"paramKey.is_checkbox"}},[n("el-radio",{attrs:{label:"1"}},[o._v("复选")]),o._v(" "),n("el-radio",{attrs:{label:"0"}},[o._v("单选")])],1)],1):o._e(),o._v(" "),"otc"==s.type?n("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值"}},[n("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"数据说明"},model:{value:s.value_list[0].value_des,callback:function(e){o.$set(s.value_list[0],"value_des",e)},expression:"paramKey.value_list[0].value_des"}}),o._v(" "),n("span",[o._v("数据由厂商端输入")])],1):o._e(),o._v(" "),1==s.key_type?[n("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"枚举参数值"}},[n("el-form-item",{attrs:{label:"数据说明","label-width":"290px"}}),o._v(" "),n("el-form-item",{attrs:{label:"传送数据","label-width":"290px"}}),o._v(" "),n("el-form-item",{attrs:{label:"操作","label-width":"85px"}})],1),o._v(" "),o._l(s.value_list,function(t,a){return n("el-form-item",{key:a,staticClass:"w100p mt0",attrs:{label:" "}},[n("el-form-item",{attrs:{prop:"value_list."+r+".value_list."+a+".value_des",rules:[{validator:o.lengthLimit.bind(null,64)}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"最多64个字符"},model:{value:t.value_des,callback:function(e){o.$set(t,"value_des",e)},expression:"valueItem.value_des"}})],1),o._v(" "),n("el-form-item",{attrs:{prop:"value_list."+r+".value_list."+a+".value",rules:[{validator:o.lengthLimit.bind(null,32)},{validator:o.unCN}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"字母数字符号，最多32个字符"},model:{value:t.value,callback:function(e){o.$set(t,"value",e)},expression:"valueItem.value"}})],1),o._v(" "),0<a?n("el-form-item",{staticStyle:{"padding-left":"25px"},attrs:{label:""}},[n("i",{staticClass:"el-icon-delete",on:{click:function(e){return o.delEnumerateItem(a,s)}}})]):o._e()],1)}),o._v(" "),n("el-form-item",{staticClass:"w100p",attrs:{label:" "},scopedSlots:o._u([{key:"default",fn:function(e){return[n("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:function(e){return o.addEnumerateItem(s)}}},[n("i",{staticClass:"el-icon-plus"}),o._v(" 添加更多参数值\n                  ")])]}}])})]:o._e(),o._v(" "),2==s.key_type?n("div",[n("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"参数范围值"}},[s.value_list[1]?n("el-form-item",{attrs:{prop:"value_list."+r+".value_list.1.value",rules:[{required:!0,message:"最小值不能为空"},{type:"number",message:"最小值为数字"}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最小值"},model:{value:s.value_list[1].value,callback:function(e){o.$set(s.value_list[1],"value",o._n(e))},expression:"paramKey.value_list[1].value"}})],1):o._e(),o._v(" "),s.value_list[2]?n("el-form-item",{attrs:{prop:"value_list."+r+".value_list.2.value",rules:[{required:!0,message:"最大值不能为空"},{type:"number",message:"最大值为数字"}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最大值"},model:{value:s.value_list[2].value,callback:function(e){o.$set(s.value_list[2],"value",o._n(e))},expression:"paramKey.value_list[2].value"}})],1):o._e()],1)],1):o._e(),o._v(" "),3==s.key_type?[o._l(s.list,function(l,i){return n("div",{key:i,staticClass:"sec-item"},[n("el-form-item",{attrs:{prop:"value_list."+r+".list."+i+".key",rules:[{required:!0,message:"参数名称不能为空"},{min:1,max:32,message:"参数名称最多32个字符"},{validator:o.letterAndUnderscode}],label:"参数名称(key)"}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:l.key,callback:function(e){o.$set(l,"key",e)},expression:"em.key"}})],1),o._v(" "),n("el-form-item",{attrs:{prop:"value_list."+r+".list."+i+".remark",rules:[{required:!0,message:"参数含义不能为空"}],label:"参数含义","label-width":"100px"}},[n("el-input",{staticClass:"input-width",model:{value:l.remark,callback:function(e){o.$set(l,"remark",e)},expression:"em.remark"}})],1),o._v(" "),n("el-form-item",{staticClass:"pl8",attrs:{prop:"value_list."+r+".list."+i+".unit",rules:[{validator:o.lengthLimit.bind(null,16)}],label:"单位"}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"支持中英文、特殊字符，最多16个字符"},model:{value:l.unit,callback:function(e){o.$set(l,"unit",e)},expression:"em.unit"}})],1),o._v(" "),n("el-form-item",{staticClass:"w100p",attrs:{prop:"value_list."+r+".list."+i+".method",rules:[{required:!0,message:"参数可控不能为空"}],label:"参数可控"}},[n("el-checkbox-group",{model:{value:l.method,callback:function(e){o.$set(l,"method",e)},expression:"em.method"}},[n("el-checkbox",{attrs:{label:"set"}},[o._v("set")]),o._v(" "),n("el-checkbox",{attrs:{label:"get"}},[o._v("get")]),o._v(" "),n("el-checkbox",{attrs:{label:"report"}},[o._v("report")]),o._v(" "),n("el-checkbox",{attrs:{label:"alarm"}},[o._v("alarm")])],1)],1),o._v(" "),n("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值类型"}},[n("el-radio-group",{on:{change:function(e){return o.changeTypeValue(e,l)}},model:{value:l.type,callback:function(e){o.$set(l,"type",e)},expression:"em.type"}},[n("el-radio",{attrs:{label:"string"}},[o._v("string")]),o._v(" "),n("el-radio",{attrs:{label:"int"}},[o._v("int")]),o._v(" "),n("el-radio",{attrs:{label:"float"}},[o._v("float")]),o._v(" "),n("el-radio",{attrs:{label:"array"}},[o._v("array")]),o._v(" "),n("el-radio",{attrs:{label:"bool"}},[o._v("bool")]),o._v(" "),n("el-radio",{attrs:{label:"otc"}},[o._v("otc")])],1)],1),o._v(" "),n("el-form-item",{staticClass:"w100p pl8",attrs:{label:"复选/单选"}},[0<=["string","float","array","bool"].indexOf(l.type)?n("el-radio-group",{model:{value:l.is_checkbox,callback:function(e){o.$set(l,"is_checkbox",e)},expression:"em.is_checkbox"}},[n("el-radio",{attrs:{label:"1"}},[o._v("复选")]),o._v(" "),n("el-radio",{attrs:{label:"0"}},[o._v("单选")])],1):o._e()],1),o._v(" "),"otc"==l.type?n("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值"}},[n("el-input",{staticStyle:{width:"50%"},model:{value:l.value_list[0].value_des,callback:function(e){o.$set(l.value_list[0],"value_des",e)},expression:"em.value_list[0].value_des"}}),o._v(" "),n("span",[o._v("数据由厂商端输入")])],1):o._e(),o._v(" "),1==l.key_type?[n("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"枚举参数值"}},[n("el-form-item",{attrs:{label:"参数名称(key)","label-width":"290px"}}),o._v(" "),n("el-form-item",{attrs:{label:"传送数据","label-width":"290px"}}),o._v(" "),n("el-form-item",{attrs:{label:"操作","label-width":"60px"}})],1),o._v(" "),o._l(l.value_list,function(t,a){return n("el-form-item",{key:a,staticClass:"w100p mt0",attrs:{label:" "}},[n("el-form-item",{attrs:{prop:"value_list."+r+".list."+i+".value_list."+a+".value_des",rules:[{validator:o.lengthLimit.bind(null,64)}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"最多64个字符"},model:{value:t.value_des,callback:function(e){o.$set(t,"value_des",e)},expression:"vi.value_des"}})],1),o._v(" "),n("el-form-item",{attrs:{prop:"value_list."+r+".list."+i+".value_list."+a+".value",rules:[{validator:o.lengthLimit.bind(null,32)},{validator:o.unCN}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"字母数字符号，最多32个字符"},model:{value:t.value,callback:function(e){o.$set(t,"value",e)},expression:"vi.value"}})],1),o._v(" "),0<a?n("el-form-item",{staticStyle:{"padding-left":"25px"},attrs:{label:""}},[n("i",{staticClass:"el-icon-delete",on:{click:function(e){return o.delEnumerateItem(a,l)}}})]):o._e()],1)}),o._v(" "),n("el-form-item",{staticClass:"w100p",attrs:{label:" "},scopedSlots:o._u([{key:"default",fn:function(e){return[n("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:function(e){return o.addEnumerateItem(l)}}},[n("i",{staticClass:"el-icon-plus"}),o._v(" 添加更多参数值\n                      ")])]}}])})]:o._e(),o._v(" "),2==l.key_type?n("div",[n("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"参数范围值"}},[l.value_list[1]?n("el-form-item",{attrs:{prop:"value_list."+r+".list."+i+".value_list.1.value",rules:[{required:!0,message:"最小值不能为空"},{type:"number",message:"最小值为数字"}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最小值"},model:{value:l.value_list[1].value,callback:function(e){o.$set(l.value_list[1],"value",o._n(e))},expression:"em.value_list[1].value"}})],1):o._e(),o._v(" "),l.value_list[2]?n("el-form-item",{attrs:{prop:"value_list."+r+".list."+i+".value_list.2.value",rules:[{required:!0,message:"最大值不能为空"},{type:"number",message:"最大值为数字"}],label:""}},[n("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最大值"},model:{value:l.value_list[2].value,callback:function(e){o.$set(l.value_list[2],"value",o._n(e))},expression:"em.value_list[2].value"}})],1):o._e()],1)],1):o._e(),o._v(" "),0<i?n("div",{staticStyle:{"text-align":"right"}},[n("span",{staticClass:"el-icon-delete",attrs:{title:"删除参数"},on:{click:function(e){return o.deleteAttr(s,i)}}})]):o._e()],2)}),o._v(" "),n("a",{staticClass:"addAttr",attrs:{href:"javascript:void(0);"},on:{click:function(e){return o.addAttribute(s)}}},[n("i",{staticClass:"el-icon-plus"}),o._v(" 新增属性")])]:o._e()],2),o._v(" "),0<r?n("div",{staticStyle:{"text-align":"right"}},[n("span",{staticClass:"el-icon-delete",attrs:{title:"删除参数"},on:{click:function(e){return o.deleteParams(r)}}})]):o._e()],1)])}),o._v(" "),n("div",{staticClass:"buttonPos"},[n("el-button",{staticClass:"addParams",attrs:{type:"ghost"},on:{click:o.addParams}},[o._v("新增参数")])],1)],2),o._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:o.closeDialog}},[o._v("取 消")]),o._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:o.confirmTechnical}},[o._v("添 加")])],1)],1)],1)},staticRenderFns:[]};l=a("C7Lr")(n,l,!1,function(e){a("4BEV")},"data-v-15d1ac78",null),t.default=l.exports},xelF:function(e,t,a){(e.exports=a("BkJT")(!0)).push([e.i,".addbtn[data-v-15eb2cf1]{font-size:12px;color:#999}.addTechDialog .el-dialog__body[data-v-15eb2cf1]{overflow-y:auto;max-height:400px;padding-top:10px}.addTechDialog .el-form-item__label[data-v-15eb2cf1]{padding-bottom:0;line-height:30px}.remove-item[data-v-15eb2cf1]{font-size:24px;cursor:pointer;color:#409eff;position:relative;top:30px}","",{version:3,sources:["D:/project/c/PomeloHomeOpen_Sys/src/views/typeManagement/addTechnical.vue"],names:[],mappings:"AACA,yBACI,eAAgB,AAChB,UAAY,CACf,AACD,iDACI,gBAAiB,AACjB,iBAAkB,AAClB,gBAAkB,CACrB,AACD,qDACI,iBAAoB,AACpB,gBAAkB,CACrB,AACD,8BACI,eAAgB,AAChB,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,QAAU,CACb",file:"addTechnical.vue",sourcesContent:["\n.addbtn[data-v-15eb2cf1]{\n    font-size: 12px;\n    color: #999;\n}\n.addTechDialog .el-dialog__body[data-v-15eb2cf1]{\n    overflow-y: auto;\n    max-height: 400px;\n    padding-top: 10px;\n}\n.addTechDialog .el-form-item__label[data-v-15eb2cf1]{\n    padding-bottom: 0px;\n    line-height: 30px;\n}\n.remove-item[data-v-15eb2cf1]{\n    font-size: 24px;\n    cursor: pointer;\n    color: #409EFF;\n    position: relative;\n    top: 30px;\n}\n"],sourceRoot:""}])}});