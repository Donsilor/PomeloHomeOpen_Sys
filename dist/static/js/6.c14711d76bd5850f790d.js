webpackJsonp([6],{"+ssv":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),d=a.n(i),r=a("Xxa5"),s=a.n(r),o=a("mvHQ"),l=a.n(o),n=a("exGp"),c=a.n(n),u=a("Dd8w"),p=a.n(u),m=a("sQkU"),_=a("VSB1"),f=a("TIfe"),v=a("Vo7i"),h=a("zL8q"),g=a("r8sI"),y=a("lbHh"),b=a.n(y),w={name:"OnlineProductDetail",data:function(){return{accessType:[{value:0,label:"中控接入"},{value:1,label:"云云对接"},{value:2,label:"APP对接"},{value:3,label:"云中控接入"}],controlMode:[{value:0,label:"暂未选择"},{value:1,label:"嵌入式中控"},{value:2,label:"面板直连中控"}],controlModeType:"",tagMode:[],tagVal:"",gtag_id:"",value:"",token:Object(f.b)(),product_id:"",productDetail:{},copyProductDetail:{},must_fps:[],opt_fps:[],spanMap:{},activeName:"basic",edit:!1,networkList:[],agreement_list:[],module_list:[],model_list:[],modifyData:{images:[]},attr_map:{},version_list:[],h5version_list:[],rules:{vendor_phone:[{required:!0,message:"请输入客服电话",trigger:"blur"},{validator:function(t,e,a){if(!/^[0-9\-]{3,20}$/.test(e))return a(new Error("请输入正确的手机号"));a()}}],version_no:[{required:!0,message:"请输入0.0.0格式版本号",trigger:"blur"}],"file_list.filename":[{required:!0,message:"请选择配置文件",trigger:"change"}]},configFile:{},configList:[],addFormVisiable:!1,checkDialog:!1,editDialog:!1,delectDialog:!1,addForm:{version_no:"",des:"",file_list:{}},checkForm:{version_no:"",des:"",created_at_txt:"",file_list:{}},editForm:{version_no:"",des:"",file_list:{}},ruleForm:{},lineStatus:"",adminSuper:"",nameRules:{nameValidate:[{validator:function(t,e,a){if(e){if(!/^[\u4e00-\u9fa50-9]+$/.test(e))return a(new Error("产品名称仅能汉字数字组合，且中间不能存在空格！"));a()}else a()}}]}}},computed:p()({},Object(g.mapGetters)(["isSuperAdmin"])),created:function(){this.adminSuper=JSON.parse(b.a.get("ISSUPERADMIN")),this.product_id=this.$route.query.product_id,this.lineStatus=this.$route.query.lineStatus},mounted:function(){this.getReviewInfo(),this.getConfigList(),this.getTagList(),this.getProductTag()},deactivated:function(){this.$destroy()},methods:{getTagList:function(){var i=this;Object(m.d)().then(function(t){for(var e=0;e<t.data.length;e++){var a={};a.value=t.data[e].gtag_id,a.label=t.data[e].gtag_name,i.tagMode.push(a)}})},getProductTag:function(){var e=this,t={product_id:this.product_id};Object(m.g)(t).then(function(t){t.data?e.tagVal=t.data.gtag_id:e.tagVal=""})},changeTag:function(){var t={product_id:this.product_id,gtag_id:this.tagVal};Object(m.b)(t)},productNameValidate:function(){if(!this.productDetail.name)return!0;return/^[\u4e00-\u9fa50-9]+$/.test(this.productDetail.name)},productAliaNameValidate:function(){if(!this.productDetail.display_name)return!0;return/^[\u4e00-\u9fa50-9]+$/.test(this.productDetail.display_name)},submitForm:function(i){var e,r=this;this.$refs[i].validate((e=c()(s.a.mark(function t(e){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&("editForm"==i?(a="",a=r.configFile.filename?l()(r.configFile):l()(r.editForm.file_list),Object(v.a)({url:"/product_agreement/versionedit",method:"post",data:{id:r.editForm.id,product_id:r.product_id,version_no:r.editForm.version_no,des:r.editForm.des,file:a}}).then(function(t){r.getConfigList(),r.editDialog=!1,r.$refs.editForm.resetFields()})):"addForm"==i&&Object(v.a)({url:"/product_agreement/versionadd",method:"post",data:{product_id:r.product_id,version_no:r.addForm.version_no,des:r.addForm.des,file:l()(r.configFile)}}).then(function(t){r.getConfigList(),r.addFormVisiable=!1,r.$refs.addForm.resetFields()}));case 1:case"end":return t.stop()}},t,r)})),function(t){return e.apply(this,arguments)}))},handleCheck:function(t,e){this.checkForm=e,this.checkDialog=!0},handleEdit:function(t,e){this.configFile={},this.editDialog=!0,this.editForm=e},handleDelect:function(e){var a=this;this.$confirm("你确定删除配置此文件吗？ 删除后可能会导致部分设备配置出错","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功"});case 2:case"end":return t.stop()}},t,a)}))).catch(function(){a.$message({type:"info",message:"取消成功"})})},beforeAvatarUpload:function(t){var e=-1<t.name.indexOf(".lua"),a=t.size/1024/1024<2;return e||this.$message.error("请上传2M大小内lua格式的文件"),a||this.$message.error("请上传2M大小内lua格式的文件"),e&&a},handleUploadSuccess:function(t){if(200===t.code){this.editDialog?this.editForm=d()(this.editForm,{file_list:{filename:t.result.filename}}):this.addFormVisiable&&(this.addForm=d()(this.addForm,{file_list:{filename:t.result.filename}}));var e=d()({},t.result);e.url=e.file_url,this.configFile=e}else this.$message.error(t.msg)},uploadFiles:function(){this.configFile?Object(v.a)({url:"/admin/product_edit",method:"post",data:{id:this.product_id,agreement_file:this.configFile}}).then(function(t){}):this.$message.error("请先选择配置文件")},getReviewInfo:function(){var i=this,r=this,t={product_id:this.product_id};Object(m.e)(t).then(function(t){i.productDetail=t,i.value=i.productDetail.device_access_type,i.controlModeType=t.middle_control;var e=[];for(var a in t.images_new)e.push({id:a,file_url:t.images_new[a]});i.productDetail.images=e,i.modifyData.images=e.map(function(t){return{id:t.id}}),0==i.productDetail.network_id&&(i.productDetail.network_id=""),i.productDetail.compat_ext&&0!=i.productDetail.compat_ext.length?i.productDetail.compat_ext=i.productDetail.compat_ext.map(function(t){return p()({},t,{brand:t.brand,compat:t.compat,name:t.name,icon_url:t.icon_url||""})}):(i.productDetail.compat_ext=[],i.addCompat()),i.copyProductDetail=JSON.parse(l()(t)),t.attr_list.forEach(function(t){var e=t.is_default?"must_fps":"opt_fps";t.list?_.a.spanAnalyseDataElse(t,r[e],r.spanMap):r[e].push(t)}),t.version_list.list.forEach(function(t){1==t.type?i.version_list.push(t):i.h5version_list.push(t)})})},getConfigList:function(){var e=this;Object(v.a)({url:"/product_agreement/versionlists",method:"post",data:{product_id:this.product_id}}).then(function(t){e.configList=t.list})},imgPreview:function(t){fancyBox(t.target,this.productDetail.images)},productUnshelve:function(){var e=this,t={product_id:this.product_id};this.$confirm("下架后，该产品将无法继续使用，同时相应产品开发资料将全部作废，确认请继续","下架该产品").then(function(){Object(m.k)(t).then(function(t){t&&(Object(h.Message)({message:"下架成功",type:"success",duration:2e3}),e.$router.go(-1))})})},statusMap:function(t){return{1:"开发中",2:"已发布"}[t.status]},arrayToString:function(t){return t.value_list.join("/")},spanMethod:function(t){var e=t.row,a=(t.column,t.rowIndex),i=t.columnIndex,r=this.spanMap[e.nodeid];return _.a.spanMethod(r,i,a)},toEdit:function(){if(this.edit)return this.modify(),void this.changeTag();this.edit=!0,this.productDetail.distributor_id&&this.getNetworkList(this.productDetail.distributor_id),this.productDetail.type&&this.getAgreementList(this.productDetail.type)},beforeImgUpload:function(t){var e=t.size/1024/1024<5;return e||this.$message.error("请上传5M大小内图片文件"),e},beforeDocUpload:function(t){var e=t.size/1024/1024<50;return e||this.$message.error("请上传50M大小内文件"),e},handleImgSuccess:function(t){if(200===t.code){var e=void 0;26==t.result.type?(this.productDetail.icon=t.result.file_url,this.productDetail.icon_id?(e=d()({id:this.productDetail.icon_id},t.result),this.modifyData.icon=e):this.modifyData.icon=t.result):10==t.result.type?(this.productDetail.spec_url=t.result.file_url,this.productDetail.spec_name=t.result.filename,e=d()({id:this.productDetail.spec_id},t.result),this.modifyData.spec=e):11==t.result.type&&(this.productDetail.instruct_url=t.result.file_url,this.productDetail.instruct_name=t.result.filename,e=d()({id:this.productDetail.instruct_id},t.result),this.modifyData.instruct=e)}else this.$message.error("上传出错，请重新上传")},addSixImg:function(t){200===t.code?(this.productDetail.images.push({id:"add",file_url:t.result.file_url}),this.modifyData.images.push(t.result)):this.$message.error("上传出错，请重新上传")},handleImgElseSuccess:function(l,n){var c=this;return function(t,e,a,i,r){var s=3<arguments.length&&void 0!==i?i:l,o=4<arguments.length&&void 0!==r?r:n;200===t.code?(c.productDetail.images[o].file_url=t.result.file_url,"add"==s?c.modifyData.images.splice(o,1,t.result):c.modifyData.images.splice(o,1,d()({id:s},t.result))):c.$message.error("上传出错，请重新上传")}},getNetworkList:function(t){var e=this;Object(v.a)({url:"/admin/distribution/get",method:"post",data:{distributors_id:t}}).then(function(t){e.networkList=t})},chooseAccess:function(t){if(!this.edit)return!1;this.productDetail.type=t,this.productDetail.type_key="",this.getAgreementList(t)},getAgreementList:function(t){3==t||2==t?this.getAgreementData(t):0===this.module_list.length&&this.getWiFiList()},getWiFiList:function(){var e=this;Object(v.a)({url:"/admin/wifimodule/lists",method:"post",data:{type_id:this.productDetail.type_id}}).then(function(t){e.module_list=t.list,e.productDetail.type_vendor&&e.module_list.forEach(function(t){t.vendor==e.productDetail.type_vendor&&(e.model_list=t.modellist)})}).catch(function(t){e.module_list=[],e.$message.error(t.msg)})},getAgreementData:function(t){var e=this;Object(v.a)({url:"/admin/agreement/lists",method:"post",data:{type_id:this.productDetail.type_id,agreement_type:t}}).then(function(t){e.agreement_list=t.list}).catch(function(t){e.agreement_list=[],e.$message.error(t.msg)})},changeModel:function(e){var a=this;this.productDetail.type_key="",this.module_list.forEach(function(t){t.vendor==e&&(a.model_list=t.modellist)})},modify:function(){var e=this;if(this.modifyData.device_access_type=this.productDetail.device_access_type,!this.productDetail.name)return this.$message.error("产品名称不能为空！");if(!this.productDetail.vendor_phone)return this.$message.error("客服电话不能为空！");if(!this.productDetail.model)return this.$message.error("产品型号不能为空！");if(!this.productNameValidate()||!this.productAliaNameValidate())return this.$message.error("产品名称仅能汉字数字组合，且中间不能存在空格！");if(this.productDetail.model!=this.copyProductDetail.model&&(this.modifyData.model=this.productDetail.model),this.productDetail.name!=this.copyProductDetail.name&&(this.modifyData.name=this.productDetail.name),this.productDetail.vendor_phone!=this.copyProductDetail.vendor_phone&&(this.modifyData.vendor_phone=this.productDetail.vendor_phone),this.productDetail.compat!=this.copyProductDetail.compat&&(this.modifyData.compat=this.productDetail.compat),this.productDetail.compat_ext!=this.copyProductDetail.compat_ext&&(this.modifyData.compat_ext=this.productDetail.compat_ext),""!=this.productDetail.offline_hint.replace(/\s/g,"")){this.productDetail.offline_hint!=this.copyProductDetail.offline_hint&&(this.modifyData.offline_hint=this.productDetail.offline_hint),this.productDetail.network_id!=this.copyProductDetail.network_id&&(this.modifyData.network_id=this.productDetail.network_id),this.productDetail.type!=this.copyProductDetail.type&&(this.modifyData.type=this.productDetail.type),this.productDetail.type_key!=this.copyProductDetail.type_key&&(1==this.productDetail.type?this.modifyData.module_id=this.productDetail.type_key:this.modifyData.agreement_id=this.productDetail.type_key),this.modifyData.attr_list=this.calAttr(),this.modifyData.id=this.productDetail.id;var t=JSON.parse(l()(this.modifyData));t.icon&&(t.icon=l()(t.icon)),t.images&&(t.images=l()(t.images)),t.spec&&(t.spec=l()(t.spec)),t.instruct&&(t.instruct=l()(t.instruct)),t.attr_list&&(t.attr_list=l()(t.attr_list)),t.display_name=this.productDetail.display_name,t.middle_control=this.controlModeType;for(var a=!0,i=0;i<this.$refs.productNameValid.length;i++){if(this.$refs.productNameValid[i].validate(function(t){t||(a=!1)}),!a)break}a&&Object(v.a)({url:"/admin/product_edit",method:"post",data:t}).then(function(t){e.$message.info("保存成功"),e.$router.go(-1)}).catch(function(t){e.$message.error(t.msg)})}else this.$message.error("离线提示语不能为空")},setEnable:function(t,e){if("1"==t.key_type){var a=t.value_list.indexOf(e);0<=a?t.value_list.splice(a,1):(t.is_checkbox+""=="1"||(t.value_list.length=0),t.value_list.push(e))}else t.value_list=0<t.value_list.length?[]:t.origin_value_list},validCompat:function(t,e,a){e&&(/^[a-zA-Z0-9,$%&*./\-_#!~|<>^+=]*$/.test(e)||a("请输入字母/数字/特殊符号组成的机型，以英文逗号隔开；")),a()},validModel:function(t,e,a){e&&/[\u4e00-\u9fa5]/.test(e)?a(new Error("不能输入汉字")):a()},calAttr:function(){var t=[],e={};for(var a in this.opt_fps.forEach(function(t){e[t.attr_id]||(e[t.attr_id]=[]),1==t.level?t.value_list.length&&(e[t.attr_id][t.index]={value_list:"1"==t.key_type?t.value_list:t.origin_value_list,key:t.key,key_type:t.key_type,is_checkbox:t.is_checkbox,value_string:t.value_string}):2==t.level&&t.value_list.length&&(e[t.attr_id][t.index]||(e[t.attr_id][t.index]={value_list:[],key:t.p_key,key_type:t.p_key_type}),e[t.attr_id][t.index].value_list.push({value_list:"1"==t.key_type?t.value_list:t.origin_value_list,key:t.key,key_type:t.key_type,is_checkbox:t.is_checkbox,value_string:t.value_string}))}),e)e[a].length&&t.push({attr_id:a,is_default:0,list:e[a]});return t},addCompat:function(){this.productDetail.compat_ext.push({brand:"",compat:"",name:"",icon_url:"",icon:""})},removeCompat:function(t){this.productDetail.compat_ext.splice(t,1)},removeProduct:function(){var e=this;this.$confirm("确认删除该产品？","重新上架").then(function(){Object(v.a)({url:"product/admin_del",method:"post",data:{product_id:e.product_id}}).then(function(t){e.$router.push("/productManagement/offlineProducts")})})},reStocking:function(){var e=this;this.$confirm("确认重新上架该产品？","重新上架").then(function(){Object(v.a)({url:"admin/product_reschedule",method:"post",data:{product_id:e.product_id}}).then(function(t){e.$router.push("/productManagement/offlineProducts")})})},handleSuccess:function(t,e){200===t.code&&(this.productDetail.compat_ext[e].icon_url=t.result.file_url,this.productDetail.compat_ext[e].icon=t.result)}}},D={render:function(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"app-container"},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){i.$router.go(-1)}}},[i._v("返回")]),i._v(" "),"offline"===i.lineStatus&&i.adminSuper?r("el-button",{attrs:{type:"danger",size:"medium"},on:{click:i.removeProduct}},[i._v("删除该产品")]):i._e(),i._v(" "),"offline"!==i.lineStatus?r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:i.productUnshelve}},[i._v("下架该产品")]):i._e(),i._v(" "),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:i.toEdit}},[i._v(i._s(i.edit?"保存":"编辑")+"产品信息")]),i._v(" "),"offline"===i.lineStatus?r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:i.reStocking}},[i._v("重新上架")]):i._e(),i._v(" "),r("h3",[i._v(i._s(i.productDetail.brand_name+i.productDetail.type_name+i.productDetail.model))]),i._v(" "),r("el-tabs",{staticStyle:{"padding-bottom":"30px"},attrs:{type:"card"},model:{value:i.activeName,callback:function(t){i.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[r("el-row",{},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("产品品类")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.type_name))])],1),i._v(" "),r("el-row",{staticClass:"card-row",staticStyle:{"line-height":"40px"}},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("接入类型")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-select",{attrs:{readonly:!i.edit,disabled:!i.edit,placeholder:"请选择"},model:{value:i.productDetail.device_access_type,callback:function(t){i.$set(i.productDetail,"device_access_type",t)},expression:"productDetail.device_access_type"}},i._l(i.accessType,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),i._v(" "),r("el-row",{staticClass:"card-row",staticStyle:{"line-height":"40px"}},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("中控方式")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-select",{attrs:{readonly:!i.edit,disabled:!i.edit,placeholder:"请选择"},model:{value:i.controlModeType,callback:function(t){i.controlModeType=t},expression:"controlModeType"}},i._l(i.controlMode,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),i._v(" "),r("el-row",{staticClass:"card-row gg"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("合作品牌\n          ")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[r("div",{staticClass:"brand-box"},[r("el-row",[r("span",[i._v("品牌中文："+i._s(i.productDetail.brand_name))])]),i._v(" "),r("el-row",{staticStyle:{margin:"10px auto"}},[r("span",[i._v("品牌英文："+i._s(i.productDetail.manufacturer_name))])]),i._v(" "),r("el-row",[i.productDetail.brand_logo?r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],attrs:{src:i.productDetail.brand_logo,alt:"品牌logo"}}):i._e(),i._v(" "),i.productDetail.brand_certs?r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],attrs:{src:i.productDetail.brand_certs,alt:"资格证书"}}):i._e()])],1)])],1),i._v(" "),r("el-row",{staticClass:"card-row",staticStyle:{"line-height":"40px"}},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("编组tag")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-select",{attrs:{readonly:!i.edit,disabled:!i.edit,placeholder:"请选择"},model:{value:i.tagVal,callback:function(t){i.tagVal=t},expression:"tagVal"}},i._l(i.tagMode,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("产品名称")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.name,callback:function(t){i.$set(i.productDetail,"name","string"==typeof t?t.trim():t)},expression:"productDetail.name"}})],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("产品别名")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.display_name,callback:function(t){i.$set(i.productDetail,"display_name","string"==typeof t?t.trim():t)},expression:"productDetail.display_name"}})],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("产品型号")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-input",{class:{"no-border":!i.edit||!i.productDetail.distributor_pid},attrs:{readonly:!i.edit||!i.productDetail.distributor_pid},model:{value:i.productDetail.model,callback:function(t){i.$set(i.productDetail,"model",t)},expression:"productDetail.model"}})],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("兼容机型")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-form",{attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{rules:[{validator:i.validCompat}],prop:"compat"}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.compat,callback:function(t){i.$set(i.productDetail,"compat",t)},expression:"productDetail.compat"}})],1)],1)],1)],1),i._v(" "),i._l(i.productDetail.compat_ext,function(e,a){return r("el-row",{key:a,staticClass:"card-row"},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v(i._s("兼容机型"+(a+2)))]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:2,offset:1}},[r("el-form",{attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{prop:"compat"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{readonly:!i.edit,placeholder:"子品牌"},model:{value:e.brand,callback:function(t){i.$set(e,"brand",t)},expression:"it.brand"}})],1)],1)],1),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:2,offset:1}},[r("el-form",{ref:"productNameValid",refInFor:!0,attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{prop:"compat_ext."+a+".name",rules:i.nameRules.nameValidate}},[r("el-input",{staticStyle:{width:"150px"},attrs:{readonly:!i.edit,placeholder:"产品名"},model:{value:e.name,callback:function(t){i.$set(e,"name","string"==typeof t?t.trim():t)},expression:"it.name"}})],1)],1)],1),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:2,offset:1}},[r("el-form",{attrs:{model:e}},[r("el-form-item",{attrs:{rules:[{validator:i.validModel}],prop:"compat"}},[r("el-input",{staticStyle:{width:"150px","margin-right":"30px"},attrs:{readonly:!i.edit,placeholder:"型号"},model:{value:e.compat,callback:function(t){i.$set(e,"compat",t)},expression:"it.compat"}})],1)],1)],1),i._v(" "),i.edit?r("el-col",{attrs:{span:9}},[r("el-form",{attrs:{inline:""}},[r("el-form-item",{staticClass:"upload-img",staticStyle:{"margin-right":"30px","margin-left":"50px",width:"300px",display:"inline-block"},attrs:{"label-width":"70",label:"上传图片"}},[r("el-input",{attrs:{readonly:!i.edit,placeholder:"图片支持jpeg,jpg,png"},model:{value:e.icon_url,callback:function(t){i.$set(e,"icon_url",t)},expression:"it.icon_url"}})],1),i._v(" "),r("el-form-item",[r("el-upload",{attrs:{data:{type:26,token:i.token},"show-file-list":!1,"before-upload":i.beforeImgUpload,"on-success":function(t){return i.handleSuccess(t,a)},accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp",action:"/api/index.php/files/save"}},[r("el-button",{attrs:{type:"primary"}},[i._v("选择文件")])],1)],1)],1)],1):i._e(),i._v(" "),0==a&&i.edit?r("el-button",{attrs:{disabled:!i.edit,type:"primary",icon:"el-icon-plus"},on:{click:i.addCompat}},[i._v("添加")]):i._e(),i._v(" "),0!=a&&i.edit?r("el-button",{attrs:{disabled:!i.edit,type:"primary",icon:"el-icon-minus"},on:{click:function(t){i.removeCompat(a)}}},[i._v("删除")]):i._e()],1),i._v(" "),i.edit?i._e():r("div",[r("el-form",[r("el-form-item",[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}}),i._v(" "),r("img",{staticStyle:{"margin-left":"50px"},attrs:{src:e.icon_url,width:"80",alt:""}})],1)],1)],1)],1)],1)}),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("渠道商")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.distributor))])],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("渠道商ID")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.distributor_pid))])],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("配网方式")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.network_name))]),i._v(" "),i.edit&&i.productDetail.distributor_id?r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:i.productDetail.network_id,callback:function(t){i.$set(i.productDetail,"network_id",t)},expression:"productDetail.network_id"}},i._l(i.networkList,function(t){return r("el-option",{key:t.id,attrs:{label:t.network_name,value:t.id}})})):i._e()],1)],1),i._v(" "),i.edit?i._e():r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("配网方式描述")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i._v(i._s(i.productDetail.network_des))])],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("产品小图")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[r("p",{staticStyle:{"margin-top":"5px","font-size":"13px",color:"darkgrey"}},[i._v("用户添加设备时看到的列表图片，支持JPEG、JPG、PNG、BMP、GIF格式，大小5M以内")]),i._v(" "),i.productDetail.icon?r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],staticStyle:{"max-height":"120px"},attrs:{src:i.productDetail.icon,alt:"图片加载失败"}}):i._e(),i._v(" "),i.edit&&i.productDetail.icon?r("el-upload",{attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeImgUpload,data:{type:26,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("上传图片")])],1):i._e(),i._v(" "),i.edit&&!i.productDetail.icon?r("el-upload",{staticStyle:{display:"inline-block",border:"1px solid #d8dce5",padding:"20px"},attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeImgUpload,data:{type:26,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"60px",color:"#d8dce5"}})]):i._e()],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("产品图片（六观图）")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:20,offset:1}},[r("p",{staticStyle:{"margin-top":"5px","font-size":"13px",color:"darkgrey"}},[i._v("支持JPEG、JPG、PNG、BMP、GIF格式，大小5M以内")]),i._v(" "),i._l(i.productDetail.images,function(t,e){return r("div",{key:e,staticClass:"six-img"},[r("img",{directives:[{name:"img",rawName:"v-img:name",arg:"name"}],attrs:{src:t.file_url,alt:"图片加载失败"}}),i._v(" "),i.edit?r("el-upload",{attrs:{"show-file-list":!1,"on-success":i.handleImgElseSuccess(t.id,e),"before-upload":i.beforeImgUpload,data:{type:12,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("上传图片")])],1):i._e()],1)}),i._v(" "),i.edit&&i.productDetail.images.length<6?r("el-upload",{staticStyle:{display:"inline-block",border:"1px solid #d8dce5",padding:"20px"},attrs:{"show-file-list":!1,"on-success":i.addSixImg,"before-upload":i.beforeImgUpload,data:{type:12,token:i.token},action:"/api/index.php/files/save",accept:"image/png,image/gif,image/jpeg,image/jpg,image/bmp"}},[r("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"60px",color:"#d8dce5"}})]):i._e()],2)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",staticStyle:{"line-height":"32px"},attrs:{span:3}},[i._v("产品规格书")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("a",{staticClass:"is-link",attrs:{href:i.productDetail.spec_url,target:"_blank",download:""}},[i._v(i._s(i.productDetail.spec_name))]),i._v(" "),!i.edit&&i.productDetail.spec_url?r("a",{staticStyle:{"margin-left":"30px"},attrs:{href:i.productDetail.spec_url,target:"_blank",download:""}},[r("el-button",{attrs:{type:"primary",size:"small"}},[i._v("下载")])],1):i._e(),i._v(" "),i.edit?r("el-upload",{staticClass:"p30",attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeDocUpload,data:{type:10,token:i.token},action:"/api/index.php/files/save",accept:".doc,.docx,.pdf,.rar"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("更换文档")])],1):i._e()],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",staticStyle:{"line-height":"32px"},attrs:{span:3}},[i._v("产品使用说明书")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("a",{staticClass:"is-link",attrs:{href:i.productDetail.instruct_url,target:"_blank",download:""}},[i._v(i._s(i.productDetail.instruct_name))]),i._v(" "),!i.edit&&i.productDetail.instruct_url?r("a",{staticStyle:{"margin-left":"30px"},attrs:{href:i.productDetail.instruct_url,target:"_blank",download:""}},[r("el-button",{attrs:{type:"primary",size:"small"}},[i._v("下载")])],1):i._e(),i._v(" "),i.edit?r("el-upload",{staticClass:"p30",attrs:{"show-file-list":!1,"on-success":i.handleImgSuccess,"before-upload":i.beforeDocUpload,data:{type:11,token:i.token},action:"/api/index.php/files/save",accept:".doc,.docx,.pdf,.rar"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[i._v("更换文档")])],1):i._e()],1)],1),i._v(" "),r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[r("span",{staticClass:"red"},[i._v("*")]),i._v("客服电话")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-form",{attrs:{model:i.productDetail,rules:i.rules}},[r("el-form-item",{attrs:{prop:"vendor_phone"}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit},model:{value:i.productDetail.vendor_phone,callback:function(t){i.$set(i.productDetail,"vendor_phone",t)},expression:"productDetail.vendor_phone"}})],1)],1)],1)],1)],2)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"技术方案",name:"tech"}},[r("el-row",{},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",attrs:{span:3}},[i._v("选择技术方案")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("div",{staticClass:"accessProgram",class:{active:1==i.productDetail.type,dis:!i.edit},on:{click:function(t){i.chooseAccess(1)}}},[r("i",{staticClass:"el-icon-circle-check"}),i._v(" "),r("div",{staticClass:"c-icon wifi"}),i._v(" "),r("p",{staticClass:"cname"},[i._v("Wi-Fi方案")]),i._v(" "),r("p",{staticClass:"cdes"},[i._v("适合空调、空气净化器、洗衣机等")])]),i._v(" "),r("div",{staticClass:"accessProgram",class:{active:3==i.productDetail.type,dis:!i.edit},on:{click:function(t){i.chooseAccess(3)}}},[r("div",{staticClass:"c-icon bluetooth"}),i._v(" "),r("i",{staticClass:"el-icon-circle-check"}),i._v(" "),r("p",{staticClass:"cname"},[i._v("蓝牙方案")]),i._v(" "),r("p",{staticClass:"cdes"},[i._v("适合音箱、健康监护设备等…")])]),i._v(" "),r("div",{staticClass:"accessProgram",class:{active:2==i.productDetail.type,dis:!i.edit},on:{click:function(t){i.chooseAccess(2)}}},[r("div",{staticClass:"c-icon zigbee"}),i._v(" "),r("i",{staticClass:"el-icon-circle-check"}),i._v(" "),r("p",{staticClass:"cname"},[i._v("ZigBee方案")]),i._v(" "),r("p",{staticClass:"cdes"},[i._v("适合门锁、报警器等…")])])])],1),i._v(" "),r("el-row",{directives:[{name:"show",rawName:"v-show",value:1==i.productDetail.type,expression:"productDetail.type==1"}],staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("模组/芯片信息")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.type_vendor))]),i._v(" "),i.edit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:i.changeModel},model:{value:i.productDetail.type_vendor,callback:function(t){i.$set(i.productDetail,"type_vendor",t)},expression:"productDetail.type_vendor"}},i._l(i.module_list,function(t){return r("el-option",{key:t.vendor,attrs:{label:t.vendor,value:t.vendor}})})):i._e()],1)],1),i._v(" "),r("el-row",{directives:[{name:"show",rawName:"v-show",value:1==i.productDetail.type,expression:"productDetail.type==1"}],staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("型号")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.type_model))]),i._v(" "),i.edit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:i.productDetail.type_key,callback:function(t){i.$set(i.productDetail,"type_key",t)},expression:"productDetail.type_key"}},i._l(i.model_list,function(t){return r("el-option",{key:t.module_id,attrs:{label:t.model,value:t.module_id}})})):i._e()],1)],1),i._v(" "),r("el-row",{directives:[{name:"show",rawName:"v-show",value:2==i.productDetail.type||3==i.productDetail.type,expression:"productDetail.type==2 || productDetail.type==3"}],staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left",class:{"edit-label":i.edit},attrs:{span:3}},[i._v("协议")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[i.edit?i._e():r("span",[i._v(i._s(i.productDetail.agreement))]),i._v(" "),i.edit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:i.productDetail.type_key,callback:function(t){i.$set(i.productDetail,"type_key",t)},expression:"productDetail.type_key"}},i._l(i.agreement_list,function(t){return r("el-option",{key:t.agreement_id,attrs:{label:t.agreement,value:t.agreement_id}})})):i._e()],1)],1)],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"功能点设置",name:"fps"}},[r("h5",[i._v("必选功能点")]),i._v(" "),r("el-table",{staticClass:"attr-table",staticStyle:{width:"100%"},attrs:{data:i.must_fps,"span-method":i.spanMethod,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{align:"center",label:"node_ID",prop:"nodeid"}}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"参数名称",prop:"remark"}}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"value",prop:"origin_value_string"},scopedSlots:i._u([{key:"default",fn:function(t){return["1"==t.row.key_type?r("div",i._l(t.row.origin_value_list,function(t){return r("div",{key:t,staticClass:"gavin-attr"},[i._v("\n                "+i._s(t)+"\n              ")])})):r("div",[i._v("\n              "+i._s(t.row.origin_value_string)+"\n            ")])]}}])}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"是否开启"},scopedSlots:i._u([{key:"default",fn:function(t){return["1"==t.row.key_type?r("div",i._l(t.row.origin_value_list,function(t){return r("div",{key:t,staticClass:"gavin-attr"},[r("el-switch",{attrs:{value:!0,disabled:""}})],1)})):r("div",[r("el-switch",{attrs:{value:!0,disabled:""}})],1)]}}])})],1),i._v(" "),r("h5",[i._v("可选功能点")]),i._v(" "),r("el-table",{staticClass:"attr-table",staticStyle:{width:"100%"},attrs:{data:i.opt_fps,"span-method":i.spanMethod,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{align:"center",label:"node_ID",prop:"nodeid"}}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"参数名称",prop:"remark"}}),i._v(" "),r("el-table-column",{staticClass:"gavin-attr-box",attrs:{align:"center",label:"value",prop:"origin_value_string"},scopedSlots:i._u([{key:"default",fn:function(e){return["1"==e.row.key_type?r("div",i._l(e.row.origin_value_list,function(t){return r("div",{key:t,staticClass:"gavin-attr"},[i._v("\n                "+i._s(t)+"\n              ")])})):r("div",[i.edit?r("div",["2"==e.row.key_type?r("div",[r("el-input",{staticStyle:{width:"35%"},model:{value:e.row.origin_value_list[1],callback:function(t){i.$set(e.row.origin_value_list,1,t)},expression:"scope.row.origin_value_list[1]"}}),i._v(" "),r("span",{staticStyle:{margin:"0 5px"}},[i._v("-")]),i._v(" "),r("el-input",{staticStyle:{width:"35%"},model:{value:e.row.origin_value_list[2],callback:function(t){i.$set(e.row.origin_value_list,2,t)},expression:"scope.row.origin_value_list[2]"}}),i._v(" "),r("span",[i._v(i._s(e.row.unit))])],1):i._e(),i._v(" "),"4"==e.row.key_type?r("div",[r("el-input",{staticStyle:{width:"70%"},model:{value:e.row.origin_value_list[0],callback:function(t){i.$set(e.row.origin_value_list,0,t)},expression:"scope.row.origin_value_list[0]"}}),i._v(" "),r("span",[i._v(i._s(e.row.unit))])],1):i._e()]):r("div",[i._v("\n                "+i._s(e.row.origin_value_string)+"\n              ")])])]}}])}),i._v(" "),r("el-table-column",{attrs:{align:"center",label:"是否开启",prop:"is_enable"},scopedSlots:i._u([{key:"default",fn:function(a){return["1"==a.row.key_type?r("div",i._l(a.row.origin_value_list,function(e){return r("div",{key:e,staticClass:"gavin-attr"},[r("el-switch",{attrs:{value:0<=a.row.value_list.indexOf(e),disabled:!i.edit},on:{change:function(t){i.setEnable(a.row,e)}}})],1)})):r("div",[r("el-switch",{attrs:{value:!!a.row.value_list.length,disabled:!i.edit},on:{change:function(t){i.setEnable(a.row)}}})],1)]}}])})],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"版本信息",name:"version"}},[r("h5",[i._v("客户端H5控制页")]),i._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:i.h5version_list,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{label:"版本号",prop:"version_no"}}),i._v(" "),r("el-table-column",{attrs:{label:"版本描述",prop:"des"}}),i._v(" "),r("el-table-column",{attrs:{formatter:i.statusMap,label:"状态",prop:"status"}}),i._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"created_at_txt"}})],1),i._v(" "),r("h5",[i._v("固件")]),i._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:i.version_list,"highlight-current-row":"",border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{label:"版本号",prop:"version_no"}}),i._v(" "),r("el-table-column",{attrs:{label:"版本描述",prop:"des"}}),i._v(" "),r("el-table-column",{attrs:{formatter:i.statusMap,label:"状态",prop:"status"}}),i._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"created_at_txt"}})],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"离线提示语",name:"offline_hint"}},[r("el-row",{staticClass:"card-row"},[r("el-col",{staticClass:"card-span-left edit-label",attrs:{span:3}},[i._v("离线提示语")]),i._v(" "),r("el-col",{staticClass:"card-span-right",attrs:{span:16,offset:1}},[r("el-form",{attrs:{model:i.productDetail}},[r("el-form-item",{attrs:{prop:"offline_hint"}},[r("el-input",{class:{"no-border":!i.edit},attrs:{readonly:!i.edit,rows:5,maxlength:1e3,type:"textarea"},model:{value:i.productDetail.offline_hint,callback:function(t){i.$set(i.productDetail,"offline_hint",t)},expression:"productDetail.offline_hint"}})],1)],1)],1)],1)],1),i._v(" "),r("el-tab-pane",{attrs:{label:"配置文件",name:"config_file"}},[r("el-row",[r("el-col",{staticClass:"filebd",attrs:{span:16}})],1),i._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:i.configList,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"version_no",label:"版本号"}}),i._v(" "),r("el-table-column",{attrs:{prop:"des",label:"版本说明"}}),i._v(" "),r("el-table-column",{attrs:{prop:"created_at_txt",label:"创建时间"}}),i._v(" "),r("el-table-column",{attrs:{label:"操  作"},scopedSlots:i._u([{key:"header",fn:function(t){return[r("span",{staticClass:"handle"},[i._v("操作")]),i._v(" "),r("el-button",{staticClass:"addbtn",attrs:{type:"primary",size:"small"},on:{click:function(t){i.addFormVisiable=!0}}},[i._v("添加配置文件")])]}},{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(t){i.handleCheck(e.$index,e.row)}}},[i._v("查看")]),i._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(t){i.handleEdit(e.$index,e.row)}}},[i._v("编辑")])]}}])})],1),i._v(" "),r("el-dialog",{attrs:{visible:i.addFormVisiable,title:"添加配置文件"},on:{"update:visible":function(t){i.addFormVisiable=t}}},[r("el-form",{ref:"addForm",staticClass:"demo-ruleForm",attrs:{model:i.addForm,rules:i.rules,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"版本号",prop:"version_no"}},[r("el-input",{model:{value:i.addForm.version_no,callback:function(t){i.$set(i.addForm,"version_no",t)},expression:"addForm.version_no"}})],1),i._v(" "),r("el-form-item",{attrs:{label:"版本说明",prop:"des"}},[r("el-input",{staticClass:"introduce",model:{value:i.addForm.des,callback:function(t){i.$set(i.addForm,"des",t)},expression:"addForm.des"}})],1),i._v(" "),r("el-form-item",{staticClass:"formfile",attrs:{label:"配置文件",prop:"file_list.filename"}},[r("el-input",{staticClass:"uploadName",attrs:{readonly:!0},model:{value:i.addForm.file_list.filename,callback:function(t){i.$set(i.addForm.file_list,"filename",t)},expression:"addForm.file_list.filename"}}),i._v(" "),r("el-upload",{staticClass:"upload-demo",staticStyle:{display:"inline-block"},attrs:{"before-upload":i.beforeAvatarUpload,"on-success":i.handleUploadSuccess,"show-file-list":!1,data:{type:33,token:i.token},action:"/api/index.php/files/save",accept:".lua"}},[r("el-button",[i._v("预览")])],1)],1),i._v(" "),r("el-form-item",[r("el-button",{staticClass:"submitForm",attrs:{type:"primary"},on:{click:function(t){i.submitForm("addForm")}}},[i._v("提交")]),i._v(" "),r("el-button",{staticClass:"cancelForm",on:{click:function(t){i.addFormVisiable=!1}}},[i._v("取消")])],1)],1)],1),i._v(" "),r("el-dialog",{attrs:{visible:i.checkDialog,title:"查看配置文件"},on:{"update:visible":function(t){i.checkDialog=t}}},[r("el-form",{staticClass:"check-dialog",attrs:{model:i.checkForm,rules:i.rules,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"版本号",prop:"version_no"}},[r("span",[i._v(i._s(i.checkForm.version_no))])]),i._v(" "),r("el-form-item",{attrs:{label:"版本说明",prop:"des"}},[r("span",[i._v(i._s(i.checkForm.des))])]),i._v(" "),r("el-form-item",{attrs:{label:"创建时间",prop:"time"}},[r("span",[i._v(i._s(i.checkForm.created_at_txt))])]),i._v(" "),r("el-form-item",{attrs:{label:"配置文件",prop:"file_list.filename"}},[r("span",[i._v(i._s(i.checkForm.file_list.filename))]),i._v(" "),r("a",{attrs:{href:i.checkForm.file_list.file_url,target:"_blank",download:""}},[i._v("点击可下载")])]),i._v(" "),r("el-form-item",[r("el-button",{staticClass:"closeForm",attrs:{type:"primary"},on:{click:function(t){i.checkDialog=!1}}},[i._v("关闭")])],1)],1)],1),i._v(" "),r("el-dialog",{attrs:{visible:i.editDialog,title:"编辑配置文件"},on:{"update:visible":function(t){i.editDialog=t}}},[r("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:i.editForm,rules:i.rules,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"版本号",prop:"version_no"}},[r("el-input",{model:{value:i.editForm.version_no,callback:function(t){i.$set(i.editForm,"version_no",t)},expression:"editForm.version_no"}})],1),i._v(" "),r("el-form-item",{attrs:{label:"版本说明",prop:"des"}},[r("el-input",{staticClass:"introduce",model:{value:i.editForm.des,callback:function(t){i.$set(i.editForm,"des",t)},expression:"editForm.des"}})],1),i._v(" "),r("el-form-item",{staticClass:"formfile",attrs:{label:"配置文件",prop:"file_list.filename"}},[r("el-input",{staticClass:"uploadName",attrs:{readonly:!0},model:{value:i.editForm.file_list.filename,callback:function(t){i.$set(i.editForm.file_list,"filename",t)},expression:"editForm.file_list.filename"}}),i._v(" "),r("el-upload",{staticClass:"upload-demo",staticStyle:{display:"inline-block"},attrs:{"before-upload":i.beforeAvatarUpload,"on-success":i.handleUploadSuccess,"show-file-list":!1,data:{type:33,token:i.token},action:"/api/index.php/files/save",accept:".lua"}},[r("el-button",[i._v("预览")])],1)],1),i._v(" "),r("el-form-item",[r("el-button",{staticClass:"submitForm",attrs:{type:"primary"},on:{click:function(t){i.submitForm("editForm")}}},[i._v("提交")]),i._v(" "),r("el-button",{staticClass:"cancelForm",on:{click:function(t){i.editDialog=!1}}},[i._v("取消")])],1)],1)],1),i._v(" "),r("el-dialog",{staticClass:"delect",attrs:{visible:i.delectDialog,title:"删除配置文件",width:"25%"},on:{"update:visible":function(t){i.delectDialog=t}}},[r("i",{staticClass:"el-icon-info"}),i._v(" "),r("div",[r("span",[i._v("你确定删除配置此文件吗？")]),i._v(" "),r("p",[i._v("删除后可能回导致部分设备配置出错")])]),i._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:i.submitForm}},[i._v("确 定")]),i._v(" "),r("el-button",{on:{click:function(t){i.delectDialog=!1}}},[i._v("取 消")])],1)])],1)],1)],1)},staticRenderFns:[]};var k=a("VU/8")(w,D,!1,function(t){a("9+NR")},null,null);e.default=k.exports},"1H6C":function(t,e,a){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&0<=Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime"),s=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=a("HhN8"),r)i.regeneratorRuntime=s;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},"9+NR":function(t,e,a){var i=a("wlb7");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("d0f60012",i,!0)},HhN8:function(L,t){!function(t){"use strict";var n,e=Object.prototype,c=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",o="object"==typeof L,l=t.regeneratorRuntime;if(l)o&&(L.exports=l);else{(l=t.regeneratorRuntime=o?L.exports:{}).wrap=y;var u="suspendedStart",p="suspendedYield",m="executing",_="completed",f={},d={};d[r]=function(){return this};var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==e&&c.call(h,r)&&(d=h);var g=k.prototype=w.prototype=Object.create(d);D.prototype=g.constructor=k,k.constructor=D,k[s]=D.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===D||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(g),t},l.awrap=function(t){return{__await:t}},x(C.prototype),C.prototype[i]=function(){return this},l.AsyncIterator=C,l.async=function(t,e,a,i){var r=new C(y(t,e,a,i));return l.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},x(g),g[s]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},l.keys=function(a){var i=[];for(var t in a)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in a)return t.value=e,t.done=!1,t}return t.done=!0,t}},l.values=O,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var i=this;function t(t,e){return s.type="throw",s.arg=a,i.next=t,e&&(i.method="next",i.arg=n),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],s=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=c.call(r,"catchLoc"),l=c.call(r,"finallyLoc");if(o&&l){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;0<=a;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&c.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),j(a),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var r=i.arg;j(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:O(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=n),f}}}function y(t,e,a,i){var s,o,l,n,r=e&&e.prototype instanceof w?e:w,c=Object.create(r.prototype),d=new $(i||[]);return c._invoke=(s=t,o=a,l=d,n=u,function(t,e){if(n===m)throw new Error("Generator is already running");if(n===_){if("throw"===t)throw e;return M()}for(l.method=t,l.arg=e;;){var a=l.delegate;if(a){var i=F(a,l);if(i){if(i===f)continue;return i}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(n===u)throw n=_,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);n=m;var r=b(s,o,l);if("normal"===r.type){if(n=l.done?_:p,r.arg===f)continue;return{value:r.arg,done:l.done}}"throw"===r.type&&(n=_,l.method="throw",l.arg=r.arg)}}),c}function b(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}function w(){}function D(){}function k(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(n){var e;this._invoke=function(a,i){function t(){return new Promise(function(t,e){!function e(t,a,i,r){var s=b(n[t],n,a);if("throw"!==s.type){var o=s.arg,l=o.value;return l&&"object"==typeof l&&c.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):Promise.resolve(l).then(function(t){o.value=t,i(o)},r)}r(s.arg)}(a,i,t,e)})}return e=e?e.then(t,t):t()}}function F(t,e){var a=t.iterator[e.method];if(a===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,F(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=b(a,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,f):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(c.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},Xxa5:function(t,e,a){t.exports=a("1H6C")},exGp:function(t,e,a){"use strict";e.__esModule=!0;var i,r=a("//Fk"),n=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){return function(){var l=t.apply(this,arguments);return new n.default(function(s,o){return function e(t,a){try{var i=l[t](a),r=i.value}catch(t){return void o(t)}if(!i.done)return n.default.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});s(r)}("next")})}}},sQkU:function(t,e,a){"use strict";e.j=function(t){return Object(i.a)({url:"/admin/review_lists?page="+t.page,method:"post",data:t})},e.h=function(){return Object(i.a)({url:"/admin/product/type_lists",method:"post",data:{}})},e.i=function(t){return Object(i.a)({url:"/admin/review_info",method:"post",data:t})},e.c=function(t){return Object(i.a)({url:"/admin/review_approve",method:"post",data:t})},e.f=function(t){return Object(i.a)({url:"/admin/product_lists",method:"post",data:t})},e.e=function(t){return Object(i.a)({url:"/admin/product_info",method:"post",data:t})},e.k=function(t){return Object(i.a)({url:"/admin/product_unshelve",method:"post",data:t})},e.g=function(t){return Object(i.a)({url:"/api/ext/gtags/product",method:"get",data:t})},e.b=function(t){return Object(i.a)({url:"/api/ext/gtags/product",method:"post",data:t})},e.d=function(){return Object(i.a)({url:"/api/ext/gtags/global",method:"get"})},e.a=function(t){return Object(i.a)({url:"/api/ext/gtags/global",method:"post",data:t})};var i=a("Vo7i")},wlb7:function(t,e){throw new Error("Module build failed: Error: Missing binding /Users/eric/PomeloHomeOpen_Sys/node_modules/node-sass/vendor/darwin-x64-57/binding.node\nNode Sass could not find a binding for your current environment: OS X 64-bit with Node.js 8.x\n\nFound bindings for the following environments:\n  - OS X 64-bit with Node.js 10.x\n\nThis usually happens because your environment has changed since running `npm install`.\nRun `npm rebuild node-sass` to download the binding for your current environment.\n    at module.exports (/Users/eric/PomeloHomeOpen_Sys/node_modules/node-sass/lib/binding.js:15:13)\n    at Object.<anonymous> (/Users/eric/PomeloHomeOpen_Sys/node_modules/node-sass/lib/index.js:14:35)\n    at Module._compile (module.js:653:30)\n    at Object.Module._extensions..js (module.js:664:10)\n    at Module.load (module.js:566:32)\n    at tryModuleLoad (module.js:506:12)\n    at Function.Module._load (module.js:498:3)\n    at Module.require (module.js:597:17)\n    at require (internal/module.js:11:18)\n    at Object.<anonymous> (/Users/eric/PomeloHomeOpen_Sys/node_modules/sass-loader/lib/loader.js:3:14)\n    at Module._compile (module.js:653:30)\n    at Object.Module._extensions..js (module.js:664:10)\n    at Module.load (module.js:566:32)\n    at tryModuleLoad (module.js:506:12)\n    at Function.Module._load (module.js:498:3)\n    at Module.require (module.js:597:17)")}});