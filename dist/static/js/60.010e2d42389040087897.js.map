{"version":3,"sources":["webpack:///static/js/60.010e2d42389040087897.js","webpack:///./src/views/configManagement/deviceFault.vue","webpack:///./src/views/configManagement/deviceFault.vue?181c","webpack:///./src/views/configManagement/deviceFault.vue?9a52","webpack:///./src/views/configManagement/deviceFault.vue?c8ee","webpack:///src/views/configManagement/deviceFault.vue"],"names":["webpackJsonp","2fa7","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e8bec67a_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__","normalizeComponent","__vue_styles__","Component","4Kr7","exports","content","i","locals","AERC","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","lIAn","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","attrs","size","type","on","click","addFault","_v","directives","name","rawName","expression","width","data","list","element-loading-text","stripe","fit","highlight-current-row","align","label","prop","scopedSlots","_u","key","fn","scope","_s","getTypeTextById","row","cid","$event","editFault","_e","deleteFault","listLoading","current-page","listQuery","page","page-sizes","page-size","limit","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","$set","visible","formVisible","title","dialogTitle","update:visible","label-width","disabled","isEdit","change","onTypeChange","model","formItem","callback","$$v","_l","item","id","onBrandChange","index","manufacturer_name","clearable","product_id","picker-options","getTimeSelectOption","push_time","length","deleteRow","icon","addRow","rows","slot","onSubmit","staticRenderFns","esExports","nF2r","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1__utils_fetch__","typeList","manufacturerList","productList","brand_id","type_id","computed","created","mounted","refresh","methods","getList","getTypeList","getManufacturerList","_this","url","method","is_online","then","res","_this2","getBrandId","getProductList","_this3","items","filter","manufacturer","_this4","parent_type_id","undefined","search_type","_this5","params","response","total_page","val","setFormatTime","JSON","parse","_this6","$confirm","confirmButtonText","cancelButtonText","is_valid","$message","message","catch","splice","timeGroup","map","times","time","indexOf","getFormatTime","parseInt","split","_this7","created_at","updated_at","success","getPushRightsText","0","1","start","end","step"],"mappings":"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","file":"static/js/60.010e2d42389040087897.js","sourcesContent":["webpackJsonp([60],{\n\n/***/ \"2fa7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__ = __webpack_require__(\"nF2r\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e8bec67a_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__ = __webpack_require__(\"lIAn\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"4Kr7\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e8bec67a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e8bec67a_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"4Kr7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"AERC\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"3e0eeb48\", content, true);\n\n/***/ }),\n\n/***/ \"AERC\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".push_time_item[data-v-e8bec67a]{margin-bottom:5px}.hour[data-v-e8bec67a]{width:110px}\", \"\", {\"version\":3,\"sources\":[\"D:/work/PomeloHomeOpen_Sys/src/views/configManagement/deviceFault.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,iBAAmB,CACpB,AACD,uBACE,WAAa,CACd\",\"file\":\"deviceFault.vue\",\"sourcesContent\":[\"\\n.push_time_item[data-v-e8bec67a] {\\r\\n  margin-bottom: 5px;\\n}\\n.hour[data-v-e8bec67a] {\\r\\n  width: 110px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"lIAn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.addFault}},[_vm._v(\"\\n            新增方案\\n        \")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"stripe\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"manufacturer\",\"prop\":\"manufacturer\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTypeTextById(scope.row.cid)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"pid\",\"prop\":\"product_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"code\",\"prop\":\"code\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"status\",\"prop\":\"status\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"des\",\"prop\":\"des\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"有效\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editFault(scope.row, true)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.deleteFault(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.listLoading),expression:\"!listLoading\"}],staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-sizes\":[15,20,30, 50],\"page-size\":_vm.listQuery.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.formVisible,\"title\":_vm.dialogTitle},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"品类\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onTypeChange},model:{value:(_vm.formItem.cid),callback:function ($$v) {_vm.$set(_vm.formItem, \"cid\", $$v)},expression:\"formItem.cid\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onBrandChange},model:{value:(_vm.formItem.manufacturer),callback:function ($$v) {_vm.$set(_vm.formItem, \"manufacturer\", $$v)},expression:\"formItem.manufacturer\"}},_vm._l((_vm.manufacturerList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.manufacturer_name,\"value\":item.manufacturer_name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"product_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.product_id),callback:function ($$v) {_vm.$set(_vm.formItem, \"product_id\", $$v)},expression:\"formItem.product_id\"}},_vm._l((_vm.productList),function(item){return _c('el-option',{key:item.product_id,attrs:{\"value\":item.product_id,\"label\":item.product_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.code),callback:function ($$v) {_vm.$set(_vm.formItem, \"code\", $$v)},expression:\"formItem.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"status\"}},[_c('el-select',{model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},[_c('el-option',{attrs:{\"label\":\"fixed\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"open\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"level\"}},[_c('el-select',{model:{value:(_vm.formItem.level),callback:function ($$v) {_vm.$set(_vm.formItem, \"level\", $$v)},expression:\"formItem.level\"}},[_c('el-option',{attrs:{\"label\":\"未定义\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"低\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"中\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"高\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"tip_type\"}},[_c('el-select',{model:{value:(_vm.formItem.tip_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"tip_type\", $$v)},expression:\"formItem.tip_type\"}},[_c('el-option',{attrs:{\"label\":\"弹窗交互\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"仅提示\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_rights\"}},[_c('el-select',{model:{value:(_vm.formItem.push_rights),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_rights\", $$v)},expression:\"formItem.push_rights\"}},[_c('el-option',{attrs:{\"label\":\"全员\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"户主\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_time\"}},[_vm._l((_vm.formItem.push_time),function(item,index){return _c('div',{key:index,staticClass:\"push_time_item\"},[_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 0)},model:{value:(_vm.formItem.push_time[index][0]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 0, $$v)},expression:\"formItem.push_time[index][0]\"}}),_vm._v(\" -\\n                    \"),_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 1)},model:{value:(_vm.formItem.push_time[index][1]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 1, $$v)},expression:\"formItem.push_time[index][1]\"}}),_vm._v(\" \"),(_vm.formItem.push_time.length>1)?_c('i',{staticClass:\"el-icon-remove\",on:{\"click\":function($event){_vm.deleteRow(index)}}}):_vm._e()],1)}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addRow}},[_vm._v(\"新增一行\")])],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_type\"}},[_c('el-input',{model:{value:(_vm.formItem.push_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_type\", $$v)},expression:\"formItem.push_type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"title\"}},[_c('el-input',{model:{value:(_vm.formItem.title),callback:function ($$v) {_vm.$set(_vm.formItem, \"title\", $$v)},expression:\"formItem.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"des\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.des),callback:function ($$v) {_vm.$set(_vm.formItem, \"des\", $$v)},expression:\"formItem.des\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"支持标签：${family_name},${room_name},${device_name}\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"revover_desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.revover_desc),callback:function ($$v) {_vm.$set(_vm.formItem, \"revover_desc\", $$v)},expression:\"formItem.revover_desc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.formVisible=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"nF2r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      // ====table===\n      list: null,\n      total: null,\n      listLoading: false,\n      listQuery: {\n        page: 1,\n        limit: 15\n      },\n      formVisible: false,\n      isEdit: false,\n      typeList: [],\n      manufacturerList: [],\n      productList: [],\n      formItem: {},\n      brand_id: '',\n      type_id: ''\n    };\n  },\n\n  computed: {\n    dialogTitle: function dialogTitle() {\n      return this.isEdit ? 'edit fault' : 'add fault';\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.refresh();\n  },\n\n  methods: {\n    refresh: function refresh() {\n      this.getList();\n      this.getTypeList();\n      this.getManufacturerList();\n    },\n    getManufacturerList: function getManufacturerList() {\n      var _this = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'brand/select',\n        method: 'POST',\n        data: {\n          is_online: 1\n        }\n      }).then(function (res) {\n        _this.manufacturerList = res;\n      });\n    },\n    getTypeList: function getTypeList() {\n      var _this2 = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'product/parenttype_lists',\n        method: 'POST'\n      }).then(function (res) {\n        _this2.typeList = res.list;\n      });\n    },\n    onBrandChange: function onBrandChange(name) {\n      this.brand_id = this.getBrandId();\n      this.formItem.product_id = '';\n      this.getProductList();\n    },\n    onTypeChange: function onTypeChange(id) {\n      this.type_id = id;\n      this.formItem.product_id = '';\n      this.getProductList();\n    },\n    getBrandId: function getBrandId() {\n      var _this3 = this;\n\n      var items = this.manufacturerList.filter(function (item) {\n        return item.manufacturer_name === _this3.formItem.manufacturer;\n      });\n\n      if (items.length) {\n        return items[0].brand_id;\n      }\n      return '';\n    },\n    getProductList: function getProductList() {\n      var _this4 = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'admin/product_lists',\n        method: 'POST',\n        data: {\n          limit: 999,\n          parent_type_id: this.type_id ? this.type_id : undefined,\n          brand_id: this.brand_id ? this.brand_id : undefined,\n          search_type: 1,\n          page: 1\n        }\n      }).then(function (res) {\n        _this4.productList = res.data;\n      });\n    },\n    getList: function getList() {\n      var _this5 = this;\n\n      this.listLoading = true;\n      var params = {\n        limit: this.listQuery.limit,\n        page: this.listQuery.page\n      };\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'device/fault/lists',\n        data: params\n      }).then(function (response) {\n        _this5.list = response.data;\n        _this5.total = response.total_page;\n        _this5.listLoading = false;\n      });\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQuery.limit = val;\n      this.getList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQuery.page = val;\n      this.getList();\n    },\n    addFault: function addFault() {\n      this.isEdit = false;\n      this.formVisible = true;\n      this.formItem = {\n        push_time: [[]],\n        product_id: ''\n        // 重置pid\n      };this.brand_id = '';\n      this.type_id = '';\n      this.productList = [];\n    },\n    editFault: function editFault(row, isEdit) {\n      this.isEdit = true;\n      this.formVisible = true;\n      this.formItem = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, row, {\n        push_time: this.setFormatTime(JSON.parse(row.push_time))\n      });\n\n      // 重置pid\n      if (row.manufacturer) {\n        this.brand_id = this.getBrandId();\n      }\n      if (row.cid) {\n        this.type_id = row.cid;\n      }\n      this.getProductList();\n    },\n    deleteFault: function deleteFault(row) {\n      var _this6 = this;\n\n      this.$confirm('删除后将不能恢复, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n          url: 'device/fault/del',\n          method: 'POST',\n          data: {\n            id: row.id\n          }\n        }).then(function (res) {\n          row.is_valid = 0;\n          // this.getList()\n          _this6.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n        });\n      }).catch(function () {\n        _this6.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    deleteRow: function deleteRow(index) {\n      this.formItem.push_time.splice(index, 1);\n    },\n    addRow: function addRow() {\n      this.formItem.push_time.push([]);\n    },\n    setFormatTime: function setFormatTime(timeGroup) {\n      return timeGroup.map(function (times) {\n        return times.map(function (time) {\n          time += '';\n          if (time.indexOf(':') > 0) {\n            return time;\n          } else {\n            return (time > 10 ? time : '0' + time) + ':00';\n          }\n        });\n      });\n    },\n    getFormatTime: function getFormatTime(timeGroup) {\n      return timeGroup.map(function (times) {\n        return times.map(function (time) {\n          if (time.indexOf(':') > 0) {\n            return parseInt(time.split(':')[0]);\n          } else {\n            return time;\n          }\n        });\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this7 = this;\n\n      var formItem = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, this.formItem, {\n        push_time: this.getFormatTime(this.formItem.push_time),\n        created_at: undefined,\n        updated_at: undefined,\n        is_valid: undefined\n      });\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: this.isEdit ? 'device/fault/edit' : 'device/fault/add',\n        method: 'post',\n        data: formItem\n      }).then(function (res) {\n        _this7.$message.success('操作成功！');\n        _this7.formVisible = false;\n        _this7.getList();\n      });\n    },\n    getTypeTextById: function getTypeTextById(id) {\n      var items = this.typeList.filter(function (item) {\n        return item.id === id;\n      });\n      if (items.length) {\n        return items[0].name;\n      }\n      return id;\n    },\n    getPushRightsText: function getPushRightsText(id) {\n      return {\n        '0': '全员',\n        '1': '户主'\n      }[id];\n    },\n    getTimeSelectOption: function getTimeSelectOption() {\n      return {\n        start: '00:00',\n        end: '23:00',\n        step: '01:00'\n      };\n    }\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/60.010e2d42389040087897.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e8bec67a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./deviceFault.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./deviceFault.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./deviceFault.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e8bec67a\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./deviceFault.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e8bec67a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/configManagement/deviceFault.vue\n// module id = 2fa7\n// module chunks = 60","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e8bec67a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./deviceFault.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3e0eeb48\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e8bec67a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/configManagement/deviceFault.vue\n// module id = 4Kr7\n// module chunks = 60","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".push_time_item[data-v-e8bec67a]{margin-bottom:5px}.hour[data-v-e8bec67a]{width:110px}\", \"\", {\"version\":3,\"sources\":[\"D:/work/PomeloHomeOpen_Sys/src/views/configManagement/deviceFault.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,iBAAmB,CACpB,AACD,uBACE,WAAa,CACd\",\"file\":\"deviceFault.vue\",\"sourcesContent\":[\"\\n.push_time_item[data-v-e8bec67a] {\\r\\n  margin-bottom: 5px;\\n}\\n.hour[data-v-e8bec67a] {\\r\\n  width: 110px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e8bec67a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/configManagement/deviceFault.vue\n// module id = AERC\n// module chunks = 60","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.addFault}},[_vm._v(\"\\n            新增方案\\n        \")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"stripe\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"manufacturer\",\"prop\":\"manufacturer\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTypeTextById(scope.row.cid)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"pid\",\"prop\":\"product_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"code\",\"prop\":\"code\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"status\",\"prop\":\"status\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"des\",\"prop\":\"des\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"有效\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editFault(scope.row, true)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.deleteFault(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.listLoading),expression:\"!listLoading\"}],staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-sizes\":[15,20,30, 50],\"page-size\":_vm.listQuery.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.formVisible,\"title\":_vm.dialogTitle},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"品类\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onTypeChange},model:{value:(_vm.formItem.cid),callback:function ($$v) {_vm.$set(_vm.formItem, \"cid\", $$v)},expression:\"formItem.cid\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onBrandChange},model:{value:(_vm.formItem.manufacturer),callback:function ($$v) {_vm.$set(_vm.formItem, \"manufacturer\", $$v)},expression:\"formItem.manufacturer\"}},_vm._l((_vm.manufacturerList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.manufacturer_name,\"value\":item.manufacturer_name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"product_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.product_id),callback:function ($$v) {_vm.$set(_vm.formItem, \"product_id\", $$v)},expression:\"formItem.product_id\"}},_vm._l((_vm.productList),function(item){return _c('el-option',{key:item.product_id,attrs:{\"value\":item.product_id,\"label\":item.product_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.code),callback:function ($$v) {_vm.$set(_vm.formItem, \"code\", $$v)},expression:\"formItem.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"status\"}},[_c('el-select',{model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},[_c('el-option',{attrs:{\"label\":\"fixed\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"open\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"level\"}},[_c('el-select',{model:{value:(_vm.formItem.level),callback:function ($$v) {_vm.$set(_vm.formItem, \"level\", $$v)},expression:\"formItem.level\"}},[_c('el-option',{attrs:{\"label\":\"未定义\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"低\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"中\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"高\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"tip_type\"}},[_c('el-select',{model:{value:(_vm.formItem.tip_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"tip_type\", $$v)},expression:\"formItem.tip_type\"}},[_c('el-option',{attrs:{\"label\":\"弹窗交互\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"仅提示\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_rights\"}},[_c('el-select',{model:{value:(_vm.formItem.push_rights),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_rights\", $$v)},expression:\"formItem.push_rights\"}},[_c('el-option',{attrs:{\"label\":\"全员\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"户主\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_time\"}},[_vm._l((_vm.formItem.push_time),function(item,index){return _c('div',{key:index,staticClass:\"push_time_item\"},[_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 0)},model:{value:(_vm.formItem.push_time[index][0]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 0, $$v)},expression:\"formItem.push_time[index][0]\"}}),_vm._v(\" -\\n                    \"),_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 1)},model:{value:(_vm.formItem.push_time[index][1]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 1, $$v)},expression:\"formItem.push_time[index][1]\"}}),_vm._v(\" \"),(_vm.formItem.push_time.length>1)?_c('i',{staticClass:\"el-icon-remove\",on:{\"click\":function($event){_vm.deleteRow(index)}}}):_vm._e()],1)}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addRow}},[_vm._v(\"新增一行\")])],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_type\"}},[_c('el-input',{model:{value:(_vm.formItem.push_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_type\", $$v)},expression:\"formItem.push_type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"title\"}},[_c('el-input',{model:{value:(_vm.formItem.title),callback:function ($$v) {_vm.$set(_vm.formItem, \"title\", $$v)},expression:\"formItem.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"des\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.des),callback:function ($$v) {_vm.$set(_vm.formItem, \"des\", $$v)},expression:\"formItem.des\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"支持标签：${family_name},${room_name},${device_name}\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"revover_desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.revover_desc),callback:function ($$v) {_vm.$set(_vm.formItem, \"revover_desc\", $$v)},expression:\"formItem.revover_desc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.formVisible=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e8bec67a\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/configManagement/deviceFault.vue\n// module id = lIAn\n// module chunks = 60","<template>\r\n    <div class=\"app-container calendar-list-container\">\r\n        <el-row style=\"margin-bottom: 10px;\">\r\n            <el-button @click=\"addFault\" size=\"medium\" type=\"primary\">\r\n                新增方案\r\n            </el-button>\r\n        </el-row>\r\n\r\n        <el-table :data=\"list\" v-loading=\"listLoading\" element-loading-text=\"给我一点时间\" stripe fit highlight-current-row style=\"width: 100%\">\r\n            <el-table-column align=\"center\" label=\"manufacturer\" prop=\"manufacturer\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"品类\">\r\n                <template slot-scope=\"scope\">{{ getTypeTextById(scope.row.cid) }}</template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"pid\" prop=\"product_id\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"code\" prop=\"code\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"status\" prop=\"status\">\r\n            </el-table-column>\r\n            <!-- <el-table-column align=\"center\" label=\"level\" prop=\"level\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"tip_type\" prop=\"tip_type\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"is_valid\" prop=\"is_valid\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"push_rights\">\r\n        <template slot-scope=\"scope\">{{getPushRightsText(scope.row.push_rights)}}</template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"push_time\" prop=\"push_time\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"push_type\" prop=\"push_type\">\r\n      </el-table-column> -->\r\n\r\n            <el-table-column align=\"center\" label=\"des\" prop=\"des\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"是否有效\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag type=\"success\" v-if=\"scope.row.is_valid\">有效</el-tag>\r\n                    <el-tag type=\"info\" v-else>已删除</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <!-- <el-table-column align=\"center\" label=\"revover_desc\" prop=\"revover_desc\">\r\n      </el-table-column> -->\r\n\r\n            <el-table-column align=\"center\" label=\"操作\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button v-if=\"scope.row.is_valid\" @click=\"editFault(scope.row, true)\" size=\"small\" type=\"primary\">编辑</el-button>\r\n                    <el-button v-if=\"scope.row.is_valid\" @click=\"deleteFault(scope.row)\" size=\"small\" type=\"warning\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <div v-show=\"!listLoading\" class=\"pagination-container\">\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"listQuery.page\" :page-sizes=\"[15,20,30, 50]\" :page-size=\"listQuery.limit\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n\r\n        <el-dialog :visible.sync=\"formVisible\" :title=\"dialogTitle\">\r\n            <el-form label-width=\"120px\">\r\n                <el-form-item label=\"品类\">\r\n                    <el-select v-model=\"formItem.cid\" :disabled=\"isEdit\" @change=\"onTypeChange\">\r\n                        <el-option v-for=\"item in typeList\" :key=\"item.id\" :value=\"item.id\" :label=\"item.name\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"品牌\">\r\n                    <el-select v-model=\"formItem.manufacturer\" :disabled=\"isEdit\" @change=\"onBrandChange\">\r\n                        <el-option v-for=\"(item,index) in manufacturerList\" :key=\"index\" :label=\"item.manufacturer_name\" :value=\"item.manufacturer_name\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"product_id\">\r\n                    <el-select v-model=\"formItem.product_id\" clearable=\"\">\r\n                        <el-option v-for=\"item in productList\" :key=\"item.product_id\" :value=\"item.product_id\" :label=\"item.product_id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"code\">\r\n                    <el-input v-model=\"formItem.code\" :disabled=\"isEdit\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"status\">\r\n                    <el-select v-model=\"formItem.status\">\r\n                        <el-option label=\"fixed\" :value=\"0\"></el-option>\r\n                        <el-option label=\"open\" :value=\"1\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"level\">\r\n                    <el-select v-model=\"formItem.level\">\r\n                        <el-option label=\"未定义\" :value=\"0\"></el-option>\r\n                        <el-option label=\"低\" :value=\"1\"></el-option>\r\n                        <el-option label=\"中\" :value=\"2\"></el-option>\r\n                        <el-option label=\"高\" :value=\"3\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"tip_type\">\r\n                    <el-select v-model=\"formItem.tip_type\">\r\n                        <el-option label=\"弹窗交互\" :value=\"1\"></el-option>\r\n                        <el-option label=\"仅提示\" :value=\"2\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"push_rights\">\r\n                    <el-select v-model=\"formItem.push_rights\">\r\n                        <el-option label=\"全员\" :value=\"0\"></el-option>\r\n                        <el-option label=\"户主\" :value=\"1\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"push_time\">\r\n                    <div class=\"push_time_item\" v-for=\"(item, index) in formItem.push_time\" :key=\"index\">\r\n                        <el-time-select class=\"hour\" :clearable=\"false\" :picker-options=\"getTimeSelectOption(index, 0)\" v-model=\"formItem.push_time[index][0]\"></el-time-select> -\r\n                        <el-time-select class=\"hour\" :clearable=\"false\" :picker-options=\"getTimeSelectOption(index, 1)\" v-model=\"formItem.push_time[index][1]\"></el-time-select>\r\n                        <i class=\"el-icon-remove\" @click=\"deleteRow(index)\" v-if=\"formItem.push_time.length>1\"></i>\r\n                    </div>\r\n                    <el-button type=\"primary\" @click=\"addRow\" icon=\"el-icon-circle-plus\" size=\"mini\">新增一行</el-button>\r\n                </el-form-item>\r\n                <el-form-item label=\"push_type\">\r\n                    <el-input v-model=\"formItem.push_type\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"title\">\r\n                    <el-input v-model=\"formItem.title\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"des\">\r\n                    <el-input v-model=\"formItem.des\" type=\"textarea\" rows=\"2\"></el-input>\r\n                    <span>支持标签：${family_name},${room_name},${device_name}</span>\r\n                </el-form-item>\r\n                <el-form-item label=\"revover_desc\">\r\n                    <el-input v-model=\"formItem.revover_desc\" type=\"textarea\" rows=\"2\"></el-input>\r\n                </el-form-item>\r\n                <!-- <el-form-item label=\"is_valid\">\r\n                    <el-input v-model=\"formItem.is_valid\" disabled=\"\"></el-input>\r\n                </el-form-item> -->\r\n\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n\r\n                <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n                <el-button @click=\"formVisible=false\">取消</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport fetch from '@/utils/fetch'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // ====table===\r\n      list: null,\r\n      total: null,\r\n      listLoading: false,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 15\r\n      },\r\n      formVisible: false,\r\n      isEdit: false,\r\n      typeList: [],\r\n      manufacturerList: [],\r\n      productList: [],\r\n      formItem: {},\r\n      brand_id: '',\r\n      type_id: ''\r\n    }\r\n  },\r\n  computed: {\r\n    dialogTitle() {\r\n      return this.isEdit ? 'edit fault' : 'add fault'\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.refresh()\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.getList()\r\n      this.getTypeList()\r\n      this.getManufacturerList()\r\n    },\r\n    getManufacturerList() {\r\n      fetch({\r\n        url: 'brand/select',\r\n        method: 'POST',\r\n        data: {\r\n          is_online: 1\r\n        }\r\n      }).then(res => {\r\n        this.manufacturerList = res\r\n      })\r\n    },\r\n    getTypeList() {\r\n      fetch({\r\n        url: 'product/parenttype_lists',\r\n        method: 'POST'\r\n      }).then(res => {\r\n        this.typeList = res.list\r\n      })\r\n    },\r\n    onBrandChange(name) {\r\n      this.brand_id = this.getBrandId()\r\n      this.formItem.product_id = ''\r\n      this.getProductList()\r\n    },\r\n    onTypeChange(id) {\r\n      this.type_id = id\r\n      this.formItem.product_id = ''\r\n      this.getProductList()\r\n    },\r\n    getBrandId() {\r\n      const items = this.manufacturerList.filter(\r\n        item => item.manufacturer_name === this.formItem.manufacturer\r\n      )\r\n\r\n      if (items.length) {\r\n        return items[0].brand_id\r\n      }\r\n      return ''\r\n    },\r\n    getProductList() {\r\n      fetch({\r\n        url: 'admin/product_lists',\r\n        method: 'POST',\r\n        data: {\r\n          limit: 999,\r\n          parent_type_id: this.type_id ? this.type_id : undefined,\r\n          brand_id: this.brand_id ? this.brand_id : undefined,\r\n          search_type: 1,\r\n          page: 1\r\n        }\r\n      }).then(res => {\r\n        this.productList = res.data\r\n      })\r\n    },\r\n    getList() {\r\n      this.listLoading = true\r\n      const params = {\r\n        limit: this.listQuery.limit,\r\n        page: this.listQuery.page\r\n      }\r\n\r\n      fetch({\r\n        url: 'device/fault/lists',\r\n        data: params\r\n      }).then(response => {\r\n        this.list = response.data\r\n        this.total = response.total_page\r\n        this.listLoading = false\r\n      })\r\n    },\r\n\r\n    handleSizeChange(val) {\r\n      this.listQuery.limit = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.listQuery.page = val\r\n      this.getList()\r\n    },\r\n    addFault() {\r\n      this.isEdit = false\r\n      this.formVisible = true\r\n      this.formItem = {\r\n        push_time: [[]],\r\n        product_id: ''\r\n      }\r\n      // 重置pid\r\n      this.brand_id = ''\r\n      this.type_id = ''\r\n      this.productList = []\r\n    },\r\n    editFault(row, isEdit) {\r\n      this.isEdit = true\r\n      this.formVisible = true\r\n      this.formItem = Object.assign({}, row, {\r\n        push_time: this.setFormatTime(JSON.parse(row.push_time))\r\n      })\r\n\r\n      // 重置pid\r\n      if (row.manufacturer) {\r\n        this.brand_id = this.getBrandId()\r\n      }\r\n      if (row.cid) {\r\n        this.type_id = row.cid\r\n      }\r\n      this.getProductList()\r\n    },\r\n    deleteFault(row) {\r\n      this.$confirm('删除后将不能恢复, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          fetch({\r\n            url: 'device/fault/del',\r\n            method: 'POST',\r\n            data: {\r\n              id: row.id\r\n            }\r\n          }).then(res => {\r\n            row.is_valid = 0\r\n            // this.getList()\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n    },\r\n    deleteRow(index) {\r\n      this.formItem.push_time.splice(index, 1)\r\n    },\r\n    addRow() {\r\n      this.formItem.push_time.push([])\r\n    },\r\n    setFormatTime(timeGroup) {\r\n      return timeGroup.map(times => {\r\n        return times.map(time => {\r\n          time += ''\r\n          if (time.indexOf(':') > 0) {\r\n            return time\r\n          } else {\r\n            return `${time > 10 ? time : '0' + time}:00`\r\n          }\r\n        })\r\n      })\r\n    },\r\n    getFormatTime(timeGroup) {\r\n      return timeGroup.map(times => {\r\n        return times.map(time => {\r\n          if (time.indexOf(':') > 0) {\r\n            return parseInt(time.split(':')[0])\r\n          } else {\r\n            return time\r\n          }\r\n        })\r\n      })\r\n    },\r\n    onSubmit() {\r\n      const formItem = Object.assign({}, this.formItem, {\r\n        push_time: this.getFormatTime(this.formItem.push_time),\r\n        created_at: undefined,\r\n        updated_at: undefined,\r\n        is_valid: undefined\r\n      })\r\n      fetch({\r\n        url: this.isEdit ? 'device/fault/edit' : 'device/fault/add',\r\n        method: 'post',\r\n        data: formItem\r\n      }).then(res => {\r\n        this.$message.success('操作成功！')\r\n        this.formVisible = false\r\n        this.getList()\r\n      })\r\n    },\r\n    getTypeTextById(id) {\r\n      const items = this.typeList.filter(item => item.id === id)\r\n      if (items.length) {\r\n        return items[0].name\r\n      }\r\n      return id\r\n    },\r\n    getPushRightsText(id) {\r\n      return {\r\n        '0': '全员',\r\n        '1': '户主'\r\n      }[id]\r\n    },\r\n    getTimeSelectOption() {\r\n      return {\r\n        start: '00:00',\r\n        end: '23:00',\r\n        step: '01:00'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.push_time_item {\r\n  margin-bottom: 5px;\r\n}\r\n.hour {\r\n  width: 110px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/configManagement/deviceFault.vue"],"sourceRoot":""}