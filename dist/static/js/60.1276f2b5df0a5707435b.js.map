{"version":3,"sources":["webpack:///static/js/60.1276f2b5df0a5707435b.js","webpack:///./src/views/configManagement/deviceFault.vue?d354","webpack:///./src/views/configManagement/deviceFault.vue","webpack:///./src/views/configManagement/deviceFault.vue?c369","webpack:///./src/views/configManagement/deviceFault.vue?2be8","webpack:///src/views/configManagement/deviceFault.vue"],"names":["webpackJsonp","0JJs","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","attrs","size","type","on","click","addFault","_v","directives","name","rawName","value","expression","width","data","list","element-loading-text","stripe","fit","highlight-current-row","align","label","prop","scopedSlots","_u","key","fn","scope","_s","getTypeTextById","row","cid","$event","editFault","_e","deleteFault","listLoading","current-page","listQuery","page","page-sizes","page-size","limit","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","$set","visible","formVisible","title","dialogTitle","update:visible","label-width","disabled","isEdit","change","onTypeChange","model","formItem","callback","$$v","_l","item","id","onBrandChange","index","manufacturer_name","clearable","product_id","picker-options","getTimeSelectOption","push_time","length","deleteRow","icon","addRow","rows","slot","onSubmit","staticRenderFns","esExports","2fa7","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_e8bec67a_hasScoped_true_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__","normalizeComponent","__vue_styles__","Component","O0WK","exports","content","i","locals","SCuq","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","STsO","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1__utils_fetch__","typeList","manufacturerList","productList","brand_id","type_id","computed","created","mounted","refresh","methods","getList","getTypeList","getManufacturerList","_this","url","method","is_online","then","res","_this2","getBrandId","getProductList","_this3","items","filter","manufacturer","_this4","parent_type_id","undefined","search_type","_this5","params","response","total_page","val","setFormatTime","JSON","parse","_this6","$confirm","confirmButtonText","cancelButtonText","is_valid","$message","message","catch","splice","timeGroup","map","times","time","indexOf","getFormatTime","parseInt","split","_this7","created_at","updated_at","success","getPushRightsText","0","1","start","end","step"],"mappings":"AAAAA,cAAc,KAERC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,YCLA,IAAAC,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,YAAA,0CAAoDF,EAAA,UAAeG,aAAaC,gBAAA,UAAwBJ,EAAA,aAAkBK,OAAOC,KAAA,SAAAC,KAAA,WAAiCC,IAAKC,MAAAb,EAAAc,YAAsBd,EAAAe,GAAA,sCAAAf,EAAAe,GAAA,KAAAX,EAAA,YAA0EY,aAAaC,KAAA,UAAAC,QAAA,YAAAC,MAAAnB,EAAA,YAAAoB,WAAA,gBAAoFb,aAAec,MAAA,QAAeZ,OAAQa,KAAAtB,EAAAuB,KAAAC,uBAAA,SAAAC,OAAA,GAAAC,IAAA,GAAAC,wBAAA,MAAiGvB,EAAA,mBAAwBK,OAAOmB,MAAA,SAAAC,MAAA,eAAAC,KAAA,kBAA+D9B,EAAAe,GAAA,KAAAX,EAAA,mBAAoCK,OAAOmB,MAAA,SAAAC,MAAA,MAA8BE,YAAA/B,EAAAgC,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAnC,EAAAe,GAAAf,EAAAoC,GAAApC,EAAAqC,gBAAAF,EAAAG,IAAAC,cAAgEvC,EAAAe,GAAA,KAAAX,EAAA,mBAAoCK,OAAOmB,MAAA,SAAAC,MAAA,MAAAC,KAAA,gBAAoD9B,EAAAe,GAAA,KAAAX,EAAA,mBAAoCK,OAAOmB,MAAA,SAAAC,MAAA,OAAAC,KAAA,UAA+C9B,EAAAe,GAAA,KAAAX,EAAA,mBAAoCK,OAAOmB,MAAA,SAAAC,MAAA,SAAAC,KAAA,YAAmD9B,EAAAe,GAAA,KAAAX,EAAA,mBAAoCK,OAAOmB,MAAA,SAAAC,MAAA,MAAAC,KAAA,SAA6C9B,EAAAe,GAAA,KAAAX,EAAA,mBAAoCK,OAAOmB,MAAA,SAAAC,MAAA,QAAgCE,YAAA/B,EAAAgC,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAA,EAAAG,IAAA,SAAAlC,EAAA,UAA0CK,OAAOE,KAAA,aAAkBX,EAAAe,GAAA,QAAAX,EAAA,UAA8BK,OAAOE,KAAA,UAAeX,EAAAe,GAAA,gBAAuBf,EAAAe,GAAA,KAAAX,EAAA,mBAAoCK,OAAOmB,MAAA,SAAAC,MAAA,KAAAR,MAAA,OAA4CU,YAAA/B,EAAAgC,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAA,EAAAG,IAAA,SAAAlC,EAAA,aAA6CK,OAAOC,KAAA,QAAAC,KAAA,WAAgCC,IAAKC,MAAA,SAAA2B,GAAyBxC,EAAAyC,UAAAN,EAAAG,KAAA,OAAiCtC,EAAAe,GAAA,QAAAf,EAAA0C,KAAA1C,EAAAe,GAAA,KAAAoB,EAAAG,IAAA,SAAAlC,EAAA,aAA2EK,OAAOC,KAAA,QAAAC,KAAA,WAAgCC,IAAKC,MAAA,SAAA2B,GAAyBxC,EAAA2C,YAAAR,EAAAG,SAA6BtC,EAAAe,GAAA,QAAAf,EAAA0C,aAA+B,GAAA1C,EAAAe,GAAA,KAAAX,EAAA,OAA4BY,aAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAAnB,EAAA4C,YAAAxB,WAAA,iBAAgFd,YAAA,yBAAqCF,EAAA,iBAAsBK,OAAOoC,eAAA7C,EAAA8C,UAAAC,KAAAC,cAAA,aAAAC,YAAAjD,EAAA8C,UAAAI,MAAAC,OAAA,0CAAAC,MAAApD,EAAAoD,OAAmKxC,IAAKyC,cAAArD,EAAAsD,iBAAAC,iBAAAvD,EAAAwD,oBAAAC,qBAAA,SAAAjB,GAAkHxC,EAAA0D,KAAA1D,EAAA8C,UAAA,OAAAN,QAA0C,GAAAxC,EAAAe,GAAA,KAAAX,EAAA,aAAkCK,OAAOkD,QAAA3D,EAAA4D,YAAAC,MAAA7D,EAAA8D,aAAkDlD,IAAKmD,iBAAA,SAAAvB,GAAkCxC,EAAA4D,YAAApB,MAAyBpC,EAAA,WAAgBK,OAAOuD,cAAA,WAAuB5D,EAAA,gBAAqBK,OAAOoB,MAAA,QAAczB,EAAA,aAAkBK,OAAOwD,SAAAjE,EAAAkE,QAAsBtD,IAAKuD,OAAAnE,EAAAoE,cAA0BC,OAAQlD,MAAAnB,EAAAsE,SAAA,IAAAC,SAAA,SAAAC,GAAkDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,MAAAE,IAAmCpD,WAAA,iBAA4BpB,EAAAyE,GAAAzE,EAAA,kBAAA0E,GAAsC,MAAAtE,GAAA,aAAuB6B,IAAAyC,EAAAC,GAAAlE,OAAmBU,MAAAuD,EAAAC,GAAA9C,MAAA6C,EAAAzD,YAAqC,GAAAjB,EAAAe,GAAA,KAAAX,EAAA,gBAAsCK,OAAOoB,MAAA,QAAczB,EAAA,aAAkBK,OAAOwD,SAAAjE,EAAAkE,QAAsBtD,IAAKuD,OAAAnE,EAAA4E,eAA2BP,OAAQlD,MAAAnB,EAAAsE,SAAA,aAAAC,SAAA,SAAAC,GAA2DxE,EAAA0D,KAAA1D,EAAAsE,SAAA,eAAAE,IAA4CpD,WAAA,0BAAqCpB,EAAAyE,GAAAzE,EAAA,0BAAA0E,EAAAG,GAAoD,MAAAzE,GAAA,aAAuB6B,IAAA4C,EAAApE,OAAiBoB,MAAA6C,EAAAI,kBAAA3D,MAAAuD,EAAAI,yBAAiE,GAAA9E,EAAAe,GAAA,KAAAX,EAAA,gBAAsCK,OAAOoB,MAAA,gBAAsBzB,EAAA,aAAkBK,OAAOsE,UAAA,IAAeV,OAAQlD,MAAAnB,EAAAsE,SAAA,WAAAC,SAAA,SAAAC,GAAyDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,aAAAE,IAA0CpD,WAAA,wBAAmCpB,EAAAyE,GAAAzE,EAAA,qBAAA0E,GAAyC,MAAAtE,GAAA,aAAuB6B,IAAAyC,EAAAM,WAAAvE,OAA2BU,MAAAuD,EAAAM,WAAAnD,MAAA6C,EAAAM,kBAAmD,GAAAhF,EAAAe,GAAA,KAAAX,EAAA,gBAAsCK,OAAOoB,MAAA,UAAgBzB,EAAA,YAAiBK,OAAOwD,SAAAjE,EAAAkE,QAAsBG,OAAQlD,MAAAnB,EAAAsE,SAAA,KAAAC,SAAA,SAAAC,GAAmDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,OAAAE,IAAoCpD,WAAA,oBAA6B,GAAApB,EAAAe,GAAA,KAAAX,EAAA,gBAAqCK,OAAOoB,MAAA,YAAkBzB,EAAA,aAAkBiE,OAAOlD,MAAAnB,EAAAsE,SAAA,OAAAC,SAAA,SAAAC,GAAqDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,SAAAE,IAAsCpD,WAAA,qBAA+BhB,EAAA,aAAkBK,OAAOoB,MAAA,QAAAV,MAAA,KAA2BnB,EAAAe,GAAA,KAAAX,EAAA,aAA8BK,OAAOoB,MAAA,OAAAV,MAAA,MAA0B,OAAAnB,EAAAe,GAAA,KAAAX,EAAA,gBAAyCK,OAAOoB,MAAA,WAAiBzB,EAAA,aAAkBiE,OAAOlD,MAAAnB,EAAAsE,SAAA,MAAAC,SAAA,SAAAC,GAAoDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,QAAAE,IAAqCpD,WAAA,oBAA8BhB,EAAA,aAAkBK,OAAOoB,MAAA,MAAAV,MAAA,KAAyBnB,EAAAe,GAAA,KAAAX,EAAA,aAA8BK,OAAOoB,MAAA,IAAAV,MAAA,KAAuBnB,EAAAe,GAAA,KAAAX,EAAA,aAA8BK,OAAOoB,MAAA,IAAAV,MAAA,KAAuBnB,EAAAe,GAAA,KAAAX,EAAA,aAA8BK,OAAOoB,MAAA,IAAAV,MAAA,MAAuB,OAAAnB,EAAAe,GAAA,KAAAX,EAAA,gBAAyCK,OAAOoB,MAAA,cAAoBzB,EAAA,aAAkBiE,OAAOlD,MAAAnB,EAAAsE,SAAA,SAAAC,SAAA,SAAAC,GAAuDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,WAAAE,IAAwCpD,WAAA,uBAAiChB,EAAA,aAAkBK,OAAOoB,MAAA,OAAAV,MAAA,KAA0BnB,EAAAe,GAAA,KAAAX,EAAA,aAA8BK,OAAOoB,MAAA,MAAAV,MAAA,MAAyB,OAAAnB,EAAAe,GAAA,KAAAX,EAAA,gBAAyCK,OAAOoB,MAAA,iBAAuBzB,EAAA,aAAkBiE,OAAOlD,MAAAnB,EAAAsE,SAAA,YAAAC,SAAA,SAAAC,GAA0DxE,EAAA0D,KAAA1D,EAAAsE,SAAA,cAAAE,IAA2CpD,WAAA,0BAAoChB,EAAA,aAAkBK,OAAOoB,MAAA,KAAAV,MAAA,KAAwBnB,EAAAe,GAAA,KAAAX,EAAA,aAA8BK,OAAOoB,MAAA,KAAAV,MAAA,MAAwB,OAAAnB,EAAAe,GAAA,KAAAX,EAAA,gBAAyCK,OAAOoB,MAAA,eAAqB7B,EAAAyE,GAAAzE,EAAAsE,SAAA,mBAAAI,EAAAG,GAAuD,MAAAzE,GAAA,OAAiB6B,IAAA4C,EAAAvE,YAAA,mBAAuCF,EAAA,kBAAuBE,YAAA,OAAAG,OAA0BsE,WAAA,EAAAE,iBAAAjF,EAAAkF,oBAAAL,EAAA,IAAqER,OAAQlD,MAAAnB,EAAAsE,SAAAa,UAAAN,GAAA,GAAAN,SAAA,SAAAC,GAAkExE,EAAA0D,KAAA1D,EAAAsE,SAAAa,UAAAN,GAAA,EAAAL,IAAgDpD,WAAA,kCAA4CpB,EAAAe,GAAA,4BAAAX,EAAA,kBAA0DE,YAAA,OAAAG,OAA0BsE,WAAA,EAAAE,iBAAAjF,EAAAkF,oBAAAL,EAAA,IAAqER,OAAQlD,MAAAnB,EAAAsE,SAAAa,UAAAN,GAAA,GAAAN,SAAA,SAAAC,GAAkExE,EAAA0D,KAAA1D,EAAAsE,SAAAa,UAAAN,GAAA,EAAAL,IAAgDpD,WAAA,kCAA4CpB,EAAAe,GAAA,KAAAf,EAAAsE,SAAAa,UAAAC,OAAA,EAAAhF,EAAA,KAAwDE,YAAA,iBAAAM,IAAiCC,MAAA,SAAA2B,GAAyBxC,EAAAqF,UAAAR,OAAuB7E,EAAA0C,MAAA,KAAe1C,EAAAe,GAAA,KAAAX,EAAA,aAA8BK,OAAOE,KAAA,UAAA2E,KAAA,sBAAA5E,KAAA,QAA4DE,IAAKC,MAAAb,EAAAuF,UAAoBvF,EAAAe,GAAA,cAAAf,EAAAe,GAAA,KAAAX,EAAA,gBAAsDK,OAAOoB,MAAA,eAAqBzB,EAAA,YAAiBiE,OAAOlD,MAAAnB,EAAAsE,SAAA,UAAAC,SAAA,SAAAC,GAAwDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,YAAAE,IAAyCpD,WAAA,yBAAkC,GAAApB,EAAAe,GAAA,KAAAX,EAAA,gBAAqCK,OAAOoB,MAAA,WAAiBzB,EAAA,YAAiBiE,OAAOlD,MAAAnB,EAAAsE,SAAA,MAAAC,SAAA,SAAAC,GAAoDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,QAAAE,IAAqCpD,WAAA,qBAA8B,GAAApB,EAAAe,GAAA,KAAAX,EAAA,gBAAqCK,OAAOoB,MAAA,SAAezB,EAAA,YAAiBK,OAAOE,KAAA,WAAA6E,KAAA,KAA6BnB,OAAQlD,MAAAnB,EAAAsE,SAAA,IAAAC,SAAA,SAAAC,GAAkDxE,EAAA0D,KAAA1D,EAAAsE,SAAA,MAAAE,IAAmCpD,WAAA,kBAA4BpB,EAAAe,GAAA,KAAAX,EAAA,QAAAJ,EAAAe,GAAA,sDAAgF,GAAAf,EAAAe,GAAA,KAAAX,EAAA,gBAAwCK,OAAOoB,MAAA,kBAAwBzB,EAAA,YAAiBK,OAAOE,KAAA,WAAA6E,KAAA,KAA6BnB,OAAQlD,MAAAnB,EAAAsE,SAAA,aAAAC,SAAA,SAAAC,GAA2DxE,EAAA0D,KAAA1D,EAAAsE,SAAA,eAAAE,IAA4CpD,WAAA,4BAAqC,OAAApB,EAAAe,GAAA,KAAAX,EAAA,QAAiCE,YAAA,gBAAAG,OAAmCgF,KAAA,UAAgBA,KAAA,WAAerF,EAAA,aAAkBK,OAAOE,KAAA,WAAiBC,IAAKC,MAAAb,EAAA0F,YAAsB1F,EAAAe,GAAA,QAAAf,EAAAe,GAAA,KAAAX,EAAA,aAA6CQ,IAAIC,MAAA,SAAA2B,GAAyBxC,EAAA4D,aAAA,MAAwB5D,EAAAe,GAAA,qBACvwP4E,KACAC,GAAiB7F,SAAA4F,kBACF9F,GAAA,KDUTgG,OACA,SAAUjG,EAAQC,EAAqBC,GAE7C,YEhBA,SAAAgG,GAAAC,GACEjG,EAAQ,QADVkG,OAAAC,eAAApG,EAAA,cAAAsB,OAAA,OAAA+E,GAAApG,EAAA,QAAAqG,EAAArG,EAAA,QAGAsG,EAAyBtG,EAAQ,QASjCuG,EAAAP,EAKAQ,EAAAF,EACEF,EAAA,EACAC,EAAA,GATF,EAWAE,EAPA,kBAEA,KAUexG,GAAA,QAAAyG,EAAiB,SF0B1BC,KACA,SAAU3G,EAAQ4G,EAAS1G,GGlDjC,GAAA2G,GAAc3G,EAAQ,OACtB,iBAAA2G,SAA4C7G,EAAA8G,EAASD,EAAA,MACrDA,EAAAE,SAAA/G,EAAA4G,QAAAC,EAAAE,OAEa7G,GAAQ,QAAwF,WAAA2G,GAAA,IH2DvGG,KACA,SAAUhH,EAAQ4G,EAAS1G,GInEjC0G,EAAA5G,EAAA4G,QAA2B1G,EAAQ,SAAqE,GAKxG0G,EAAAK,MAAcjH,EAAA8G,EAAS,yFAAyF,IAAQI,QAAA,EAAAC,SAAA,8EAAAC,SAAAC,SAAA,+CAAAC,KAAA,kBAAAC,gBAAA,wHAAsUC,WAAA,OJ4ExbC,KACA,SAAUzH,EAAQC,EAAqBC,GAE7C,YACqB,IAAIwH,GAAoExH,EAAoB,QACxFyH,EAA4EzH,EAAoB0H,EAAEF,GAClGG,EAA6C3H,EAAoB,OKyD3ED,GAAA,GL0FbyB,KAAM,WACJ,OAEEC,KKxFN,KLyFM6B,MKxFN,KLyFMR,aKxFN,ELyFME,WACEC,KKxFR,ELyFQG,MKvFR,ILyFMU,aKxFN,ELyFMM,QKxFN,ELyFMwD,YACAC,oBACAC,eACAtD,YACAuD,SKxFN,GLyFMC,QKvFN,KL2FEC,UACEjE,YAAa,WACX,MAAO7D,MAAKiE,OAAS,aKzF3B,cL4FE8D,QAAS,aACTC,QAAS,WACPhI,KKzFJiI,WL4FEC,SACED,QAAS,WACPjI,KK1FNmI,UL2FMnI,KK1FNoI,cL2FMpI,KK1FNqI,uBL4FIA,oBAAqB,WK1FzB,GAAAC,GAAAtI,IL6FM+F,QAAOyB,EAA4D,IACjEe,IK5FR,eL6FQC,OK5FR,OL6FQnH,MACEoH,UK3FV,KALAC,KAAA,SAAAC,GLmGQL,EAAMZ,iBK5FdiB,KL+FIP,YAAa,WK5FjB,GAAAQ,GAAA5I,IL+FM+F,QAAOyB,EAA4D,IACjEe,IK9FR,2BL+FQC,OK9FR,SAFAE,KAAA,SAAAC,GLkGQC,EAAOnB,SAAWkB,EK9F1BrH,QLiGIqD,cAAe,SAAuB3D,GACpChB,KAAK4H,SAAW5H,KK9FtB6I,aL+FM7I,KAAKqE,SAASU,WK9FpB,GL+FM/E,KK9FN8I,kBLgGI3E,aAAc,SAAsBO,GAClC1E,KAAK6H,QK9FXnD,EL+FM1E,KAAKqE,SAASU,WK9FpB,GL+FM/E,KK9FN8I,kBLgGID,WAAY,WK9FhB,GAAAE,GAAA/I,KLiGUgJ,EAAQhJ,KAAK0H,iBKhGvBuB,OAAA,SAAAxE,GLiGQ,MAAOA,GAAKI,oBAAsBkE,EAAO1E,SK9FjD6E,cLiGM,OAAIF,GAAM7D,OACD6D,EAAM,GKhGrBpB,SAEA,ILkGIkB,eAAgB,WKhGpB,GAAAK,GAAAnJ,ILmGM+F,QAAOyB,EAA4D,IACjEe,IKlGR,sBLmGQC,OKlGR,OLmGQnH,MACE4B,MKlGV,ILmGUmG,eAAgBpJ,KAAK6H,QAAU7H,KAAK6H,YKlG9CwB,GLmGUzB,SAAU5H,KAAK4H,SAAW5H,KAAK4H,aKlGzCyB,GLmGUC,YKlGV,ELmGUxG,KKjGV,KATA4F,KAAA,SAAAC,GL6GQQ,EAAOxB,YAAcgB,EKlG7BtH,QLqGI8G,QAAS,WKlGb,GAAAoB,GAAAvJ,ILqGMA,MAAK2C,aKpGX,CLqGM,IAAI6G,IACFvG,MAAOjD,KAAK6C,UKpGpBI,MLqGQH,KAAM9C,KAAK6C,UKlGnBC,KLqGMiD,QAAOyB,EAA4D,IACjEe,IKpGR,qBLqGQlH,KKpGRmI,IAFAd,KAAA,SAAAe,GLwGQF,EAAOjI,KAAOmI,EKpGtBpI,KLqGQkI,EAAOpG,MAAQsG,EKpGvBC,WLqGQH,EAAO5G,aKpGf,KLuGIU,iBAAkB,SAA0BsG,GAC1C3J,KAAK6C,UAAUI,MKnGrB0G,ELoGM3J,KKnGNmI,WLqGI5E,oBAAqB,SAA6BoG,GAChD3J,KAAK6C,UAAUC,KKnGrB6G,ELoGM3J,KKnGNmI,WLqGItH,SAAU,WACRb,KAAKiE,QKnGX,ELoGMjE,KAAK2D,aKnGX,ELoGM3D,KAAKqE,UACHa,eACAH,WKlGR,IAHA/E,KAAA4H,SAKA,GLmGM5H,KAAK6H,QKlGX,GLmGM7H,KAAK2H,gBAEPnF,UAAW,SAAmBH,EAAK4B,GACjCjE,KAAKiE,QKlGX,ELmGMjE,KAAK2D,aKlGX,ELmGM3D,KAAKqE,SAAWiD,OAAgFjF,GAC9F6C,UAAWlF,KAAK4J,cAAcC,KAAKC,MAAMzH,EKhGjD6C,cLoGU7C,EAAI6G,eACNlJ,KAAK4H,SAAW5H,KKlGxB6I,cLoGUxG,EAAIC,MACNtC,KAAK6H,QAAUxF,EKlGvBC,KLoGMtC,KKlGN8I,kBLoGIpG,YAAa,SAAqBL,GKlGtC,GAAA0H,GAAA/J,ILqGMA,MAAKgK,SAAS,kBAAmB,MAC/BC,kBKpGR,KLqGQC,iBKpGR,KLqGQxJ,KKnGR,YAJAgI,KAAA,WLyGQ3C,OAAOyB,EAA4D,IACjEe,IKnGV,mBLoGUC,OKnGV,OLoGUnH,MACEqD,GAAIrC,EKlGhBqC,MALAgE,KAAA,SAAAC,GL0GUtG,EAAI8H,SKnGd,ELqGUJ,EAAOK,UACL1J,KKnGZ,ULoGY2J,QKlGZ,cAEAC,MAAA,WLoGQP,EAAOK,UACL1J,KKlGV,OLmGU2J,QKjGV,aLqGIjF,UAAW,SAAmBR,GAC5B5E,KAAKqE,SAASa,UAAUqF,OAAO3F,EKlGrC,ILoGIU,OAAQ,WACNtF,KAAKqE,SAASa,UAAU0B,UAE1BgD,cAAe,SAAuBY,GACpC,MAAOA,GAAUC,IAAI,SAAUC,GAC7B,MAAOA,GAAMD,IAAI,SAAUE,GAEzB,MADAA,IKlGV,GLmGcA,EAAKC,QAAQ,KAAO,EKjGlCD,GLoGoBA,EAAO,GAAKA,EAAO,IKlGvCA,GAAA,WLuGIE,cAAe,SAAuBL,GACpC,MAAOA,GAAUC,IAAI,SAAUC,GAC7B,MAAOA,GAAMD,IAAI,SAAUE,GACzB,MAAIA,GAAKC,QAAQ,KAAO,EACfE,SAASH,EAAKI,MAAM,KKlGvC,IAEAJ,OLuGIlF,SAAU,WKlGd,GAAAuF,GAAAhL,KLqGUqE,EAAWiD,OAAgFtH,KAAKqE,UAClGa,UAAWlF,KAAK6K,cAAc7K,KAAKqE,SKpG3Ca,WLqGQ+F,eKpGR5B,GLqGQ6B,eKpGR7B,GLqGQc,aKnGRd,ILqGMtD,QAAOyB,EAA4D,IACjEe,IAAKvI,KAAKiE,OAAS,oBKpG3B,mBLqGQuE,OKpGR,OLqGQnH,KKpGRgD,IAHAqE,KAAA,SAAAC,GLyGQqC,EAAOZ,SAASe,QKpGxB,SLqGQH,EAAOrH,aKpGf,ELqGQqH,EKpGR7C,aLuGI/F,gBAAiB,SAAyBsC,GACxC,GAAIsE,GAAQhJ,KAAKyH,SAASwB,OAAO,SAAUxE,GACzC,MAAOA,GAAKC,KKrGpBA,GLuGM,OAAIsE,GAAM7D,OACD6D,EAAM,GKtGrBhI,KAEA0D,GLwGI0G,kBAAmB,SAA2B1G,GAC5C,OACE2G,EKtGR,KLuGQC,EKtGR,MACA5G,ILwGIO,oBAAqB,WACnB,OACEsG,MKtGR,QLuGQC,IKtGR,QLuGQC,KKrGR","file":"static/js/60.1276f2b5df0a5707435b.js","sourcesContent":["webpackJsonp([60],{\n\n/***/ \"0JJs\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.addFault}},[_vm._v(\"\\n            新增方案\\n        \")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"stripe\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"manufacturer\",\"prop\":\"manufacturer\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTypeTextById(scope.row.cid)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"pid\",\"prop\":\"product_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"code\",\"prop\":\"code\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"status\",\"prop\":\"status\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"des\",\"prop\":\"des\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"有效\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editFault(scope.row, true)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.deleteFault(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.listLoading),expression:\"!listLoading\"}],staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-sizes\":[15,20,30, 50],\"page-size\":_vm.listQuery.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.formVisible,\"title\":_vm.dialogTitle},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"品类\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onTypeChange},model:{value:(_vm.formItem.cid),callback:function ($$v) {_vm.$set(_vm.formItem, \"cid\", $$v)},expression:\"formItem.cid\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onBrandChange},model:{value:(_vm.formItem.manufacturer),callback:function ($$v) {_vm.$set(_vm.formItem, \"manufacturer\", $$v)},expression:\"formItem.manufacturer\"}},_vm._l((_vm.manufacturerList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.manufacturer_name,\"value\":item.manufacturer_name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"product_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.product_id),callback:function ($$v) {_vm.$set(_vm.formItem, \"product_id\", $$v)},expression:\"formItem.product_id\"}},_vm._l((_vm.productList),function(item){return _c('el-option',{key:item.product_id,attrs:{\"value\":item.product_id,\"label\":item.product_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.code),callback:function ($$v) {_vm.$set(_vm.formItem, \"code\", $$v)},expression:\"formItem.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"status\"}},[_c('el-select',{model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},[_c('el-option',{attrs:{\"label\":\"fixed\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"open\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"level\"}},[_c('el-select',{model:{value:(_vm.formItem.level),callback:function ($$v) {_vm.$set(_vm.formItem, \"level\", $$v)},expression:\"formItem.level\"}},[_c('el-option',{attrs:{\"label\":\"未定义\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"低\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"中\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"高\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"tip_type\"}},[_c('el-select',{model:{value:(_vm.formItem.tip_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"tip_type\", $$v)},expression:\"formItem.tip_type\"}},[_c('el-option',{attrs:{\"label\":\"弹窗交互\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"仅提示\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_rights\"}},[_c('el-select',{model:{value:(_vm.formItem.push_rights),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_rights\", $$v)},expression:\"formItem.push_rights\"}},[_c('el-option',{attrs:{\"label\":\"全员\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"户主\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_time\"}},[_vm._l((_vm.formItem.push_time),function(item,index){return _c('div',{key:index,staticClass:\"push_time_item\"},[_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 0)},model:{value:(_vm.formItem.push_time[index][0]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 0, $$v)},expression:\"formItem.push_time[index][0]\"}}),_vm._v(\" -\\n                    \"),_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 1)},model:{value:(_vm.formItem.push_time[index][1]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 1, $$v)},expression:\"formItem.push_time[index][1]\"}}),_vm._v(\" \"),(_vm.formItem.push_time.length>1)?_c('i',{staticClass:\"el-icon-remove\",on:{\"click\":function($event){_vm.deleteRow(index)}}}):_vm._e()],1)}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addRow}},[_vm._v(\"新增一行\")])],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_type\"}},[_c('el-input',{model:{value:(_vm.formItem.push_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_type\", $$v)},expression:\"formItem.push_type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"title\"}},[_c('el-input',{model:{value:(_vm.formItem.title),callback:function ($$v) {_vm.$set(_vm.formItem, \"title\", $$v)},expression:\"formItem.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"des\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.des),callback:function ($$v) {_vm.$set(_vm.formItem, \"des\", $$v)},expression:\"formItem.des\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"支持标签：${family_name},${room_name},${device_name}\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"revover_desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.revover_desc),callback:function ($$v) {_vm.$set(_vm.formItem, \"revover_desc\", $$v)},expression:\"formItem.revover_desc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.formVisible=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"2fa7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__ = __webpack_require__(\"STsO\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_e8bec67a_hasScoped_true_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__ = __webpack_require__(\"0JJs\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"O0WK\")\n}\nvar normalizeComponent = __webpack_require__(\"C7Lr\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e8bec67a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_3_vue_loader_lib_template_compiler_index_id_data_v_e8bec67a_hasScoped_true_buble_transforms_node_modules_vue_loader_13_7_3_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"O0WK\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"SCuq\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"8bSs\")(\"00273582\", content, true);\n\n/***/ }),\n\n/***/ \"SCuq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"BkJT\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".push_time_item[data-v-e8bec67a]{margin-bottom:5px}.hour[data-v-e8bec67a]{width:110px}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/PomeloHomeOpen_Sys/src/views/configManagement/deviceFault.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,iBAAmB,CACpB,AACD,uBACE,WAAa,CACd\",\"file\":\"deviceFault.vue\",\"sourcesContent\":[\"\\n.push_time_item[data-v-e8bec67a] {\\r\\n  margin-bottom: 5px;\\n}\\n.hour[data-v-e8bec67a] {\\r\\n  width: 110px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"STsO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"aA9S\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      // ====table===\n      list: null,\n      total: null,\n      listLoading: false,\n      listQuery: {\n        page: 1,\n        limit: 15\n      },\n      formVisible: false,\n      isEdit: false,\n      typeList: [],\n      manufacturerList: [],\n      productList: [],\n      formItem: {},\n      brand_id: '',\n      type_id: ''\n    };\n  },\n\n  computed: {\n    dialogTitle: function dialogTitle() {\n      return this.isEdit ? 'edit fault' : 'add fault';\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.refresh();\n  },\n\n  methods: {\n    refresh: function refresh() {\n      this.getList();\n      this.getTypeList();\n      this.getManufacturerList();\n    },\n    getManufacturerList: function getManufacturerList() {\n      var _this = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'brand/select',\n        method: 'POST',\n        data: {\n          is_online: 1\n        }\n      }).then(function (res) {\n        _this.manufacturerList = res;\n      });\n    },\n    getTypeList: function getTypeList() {\n      var _this2 = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'product/parenttype_lists',\n        method: 'POST'\n      }).then(function (res) {\n        _this2.typeList = res.list;\n      });\n    },\n    onBrandChange: function onBrandChange(name) {\n      this.brand_id = this.getBrandId();\n      this.formItem.product_id = '';\n      this.getProductList();\n    },\n    onTypeChange: function onTypeChange(id) {\n      this.type_id = id;\n      this.formItem.product_id = '';\n      this.getProductList();\n    },\n    getBrandId: function getBrandId() {\n      var _this3 = this;\n\n      var items = this.manufacturerList.filter(function (item) {\n        return item.manufacturer_name === _this3.formItem.manufacturer;\n      });\n\n      if (items.length) {\n        return items[0].brand_id;\n      }\n      return '';\n    },\n    getProductList: function getProductList() {\n      var _this4 = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'admin/product_lists',\n        method: 'POST',\n        data: {\n          limit: 999,\n          parent_type_id: this.type_id ? this.type_id : undefined,\n          brand_id: this.brand_id ? this.brand_id : undefined,\n          search_type: 1,\n          page: 1\n        }\n      }).then(function (res) {\n        _this4.productList = res.data;\n      });\n    },\n    getList: function getList() {\n      var _this5 = this;\n\n      this.listLoading = true;\n      var params = {\n        limit: this.listQuery.limit,\n        page: this.listQuery.page\n      };\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'device/fault/lists',\n        data: params\n      }).then(function (response) {\n        _this5.list = response.data;\n        _this5.total = response.total_page;\n        _this5.listLoading = false;\n      });\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQuery.limit = val;\n      this.getList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQuery.page = val;\n      this.getList();\n    },\n    addFault: function addFault() {\n      this.isEdit = false;\n      this.formVisible = true;\n      this.formItem = {\n        push_time: [[]],\n        product_id: ''\n        // 重置pid\n      };this.brand_id = '';\n      this.type_id = '';\n      this.productList = [];\n    },\n    editFault: function editFault(row, isEdit) {\n      this.isEdit = true;\n      this.formVisible = true;\n      this.formItem = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, row, {\n        push_time: this.setFormatTime(JSON.parse(row.push_time))\n      });\n\n      // 重置pid\n      if (row.manufacturer) {\n        this.brand_id = this.getBrandId();\n      }\n      if (row.cid) {\n        this.type_id = row.cid;\n      }\n      this.getProductList();\n    },\n    deleteFault: function deleteFault(row) {\n      var _this6 = this;\n\n      this.$confirm('删除后将不能恢复, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n          url: 'device/fault/del',\n          method: 'POST',\n          data: {\n            id: row.id\n          }\n        }).then(function (res) {\n          row.is_valid = 0;\n          // this.getList()\n          _this6.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n        });\n      }).catch(function () {\n        _this6.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    deleteRow: function deleteRow(index) {\n      this.formItem.push_time.splice(index, 1);\n    },\n    addRow: function addRow() {\n      this.formItem.push_time.push([]);\n    },\n    setFormatTime: function setFormatTime(timeGroup) {\n      return timeGroup.map(function (times) {\n        return times.map(function (time) {\n          time += '';\n          if (time.indexOf(':') > 0) {\n            return time;\n          } else {\n            return (time > 10 ? time : '0' + time) + ':00';\n          }\n        });\n      });\n    },\n    getFormatTime: function getFormatTime(timeGroup) {\n      return timeGroup.map(function (times) {\n        return times.map(function (time) {\n          if (time.indexOf(':') > 0) {\n            return parseInt(time.split(':')[0]);\n          } else {\n            return time;\n          }\n        });\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this7 = this;\n\n      var formItem = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, this.formItem, {\n        push_time: this.getFormatTime(this.formItem.push_time),\n        created_at: undefined,\n        updated_at: undefined,\n        is_valid: undefined\n      });\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: this.isEdit ? 'device/fault/edit' : 'device/fault/add',\n        method: 'post',\n        data: formItem\n      }).then(function (res) {\n        _this7.$message.success('操作成功！');\n        _this7.formVisible = false;\n        _this7.getList();\n      });\n    },\n    getTypeTextById: function getTypeTextById(id) {\n      var items = this.typeList.filter(function (item) {\n        return item.id === id;\n      });\n      if (items.length) {\n        return items[0].name;\n      }\n      return id;\n    },\n    getPushRightsText: function getPushRightsText(id) {\n      return {\n        '0': '全员',\n        '1': '户主'\n      }[id];\n    },\n    getTimeSelectOption: function getTimeSelectOption() {\n      return {\n        start: '00:00',\n        end: '23:00',\n        step: '01:00'\n      };\n    }\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/60.1276f2b5df0a5707435b.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.addFault}},[_vm._v(\"\\n            新增方案\\n        \")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"stripe\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"manufacturer\",\"prop\":\"manufacturer\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTypeTextById(scope.row.cid)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"pid\",\"prop\":\"product_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"code\",\"prop\":\"code\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"status\",\"prop\":\"status\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"des\",\"prop\":\"des\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"有效\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editFault(scope.row, true)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.deleteFault(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.listLoading),expression:\"!listLoading\"}],staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-sizes\":[15,20,30, 50],\"page-size\":_vm.listQuery.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.formVisible,\"title\":_vm.dialogTitle},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"品类\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onTypeChange},model:{value:(_vm.formItem.cid),callback:function ($$v) {_vm.$set(_vm.formItem, \"cid\", $$v)},expression:\"formItem.cid\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onBrandChange},model:{value:(_vm.formItem.manufacturer),callback:function ($$v) {_vm.$set(_vm.formItem, \"manufacturer\", $$v)},expression:\"formItem.manufacturer\"}},_vm._l((_vm.manufacturerList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.manufacturer_name,\"value\":item.manufacturer_name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"product_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.product_id),callback:function ($$v) {_vm.$set(_vm.formItem, \"product_id\", $$v)},expression:\"formItem.product_id\"}},_vm._l((_vm.productList),function(item){return _c('el-option',{key:item.product_id,attrs:{\"value\":item.product_id,\"label\":item.product_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.code),callback:function ($$v) {_vm.$set(_vm.formItem, \"code\", $$v)},expression:\"formItem.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"status\"}},[_c('el-select',{model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},[_c('el-option',{attrs:{\"label\":\"fixed\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"open\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"level\"}},[_c('el-select',{model:{value:(_vm.formItem.level),callback:function ($$v) {_vm.$set(_vm.formItem, \"level\", $$v)},expression:\"formItem.level\"}},[_c('el-option',{attrs:{\"label\":\"未定义\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"低\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"中\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"高\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"tip_type\"}},[_c('el-select',{model:{value:(_vm.formItem.tip_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"tip_type\", $$v)},expression:\"formItem.tip_type\"}},[_c('el-option',{attrs:{\"label\":\"弹窗交互\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"仅提示\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_rights\"}},[_c('el-select',{model:{value:(_vm.formItem.push_rights),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_rights\", $$v)},expression:\"formItem.push_rights\"}},[_c('el-option',{attrs:{\"label\":\"全员\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"户主\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_time\"}},[_vm._l((_vm.formItem.push_time),function(item,index){return _c('div',{key:index,staticClass:\"push_time_item\"},[_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 0)},model:{value:(_vm.formItem.push_time[index][0]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 0, $$v)},expression:\"formItem.push_time[index][0]\"}}),_vm._v(\" -\\n                    \"),_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 1)},model:{value:(_vm.formItem.push_time[index][1]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 1, $$v)},expression:\"formItem.push_time[index][1]\"}}),_vm._v(\" \"),(_vm.formItem.push_time.length>1)?_c('i',{staticClass:\"el-icon-remove\",on:{\"click\":function($event){_vm.deleteRow(index)}}}):_vm._e()],1)}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addRow}},[_vm._v(\"新增一行\")])],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_type\"}},[_c('el-input',{model:{value:(_vm.formItem.push_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_type\", $$v)},expression:\"formItem.push_type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"title\"}},[_c('el-input',{model:{value:(_vm.formItem.title),callback:function ($$v) {_vm.$set(_vm.formItem, \"title\", $$v)},expression:\"formItem.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"des\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.des),callback:function ($$v) {_vm.$set(_vm.formItem, \"des\", $$v)},expression:\"formItem.des\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"支持标签：${family_name},${room_name},${device_name}\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"revover_desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.revover_desc),callback:function ($$v) {_vm.$set(_vm.formItem, \"revover_desc\", $$v)},expression:\"formItem.revover_desc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.formVisible=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e8bec67a\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/configManagement/deviceFault.vue\n// module id = 0JJs\n// module chunks = 60","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e8bec67a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./deviceFault.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./deviceFault.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./deviceFault.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e8bec67a\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./deviceFault.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e8bec67a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/configManagement/deviceFault.vue\n// module id = 2fa7\n// module chunks = 60","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e8bec67a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./deviceFault.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"00273582\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.0.3@vue-style-loader!./node_modules/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e8bec67a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/configManagement/deviceFault.vue\n// module id = O0WK\n// module chunks = 60","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".push_time_item[data-v-e8bec67a]{margin-bottom:5px}.hour[data-v-e8bec67a]{width:110px}\", \"\", {\"version\":3,\"sources\":[\"D:/workspace/PomeloHomeOpen_Sys/src/views/configManagement/deviceFault.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,iBAAmB,CACpB,AACD,uBACE,WAAa,CACd\",\"file\":\"deviceFault.vue\",\"sourcesContent\":[\"\\n.push_time_item[data-v-e8bec67a] {\\r\\n  margin-bottom: 5px;\\n}\\n.hour[data-v-e8bec67a] {\\r\\n  width: 110px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e8bec67a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/configManagement/deviceFault.vue\n// module id = SCuq\n// module chunks = 60","<template>\r\n    <div class=\"app-container calendar-list-container\">\r\n        <el-row style=\"margin-bottom: 10px;\">\r\n            <el-button @click=\"addFault\" size=\"medium\" type=\"primary\">\r\n                新增方案\r\n            </el-button>\r\n        </el-row>\r\n\r\n        <el-table :data=\"list\" v-loading=\"listLoading\" element-loading-text=\"给我一点时间\" stripe fit highlight-current-row style=\"width: 100%\">\r\n            <el-table-column align=\"center\" label=\"manufacturer\" prop=\"manufacturer\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"品类\">\r\n                <template slot-scope=\"scope\">{{ getTypeTextById(scope.row.cid) }}</template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"pid\" prop=\"product_id\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"code\" prop=\"code\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"status\" prop=\"status\">\r\n            </el-table-column>\r\n            <!-- <el-table-column align=\"center\" label=\"level\" prop=\"level\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"tip_type\" prop=\"tip_type\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"is_valid\" prop=\"is_valid\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"push_rights\">\r\n        <template slot-scope=\"scope\">{{getPushRightsText(scope.row.push_rights)}}</template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"push_time\" prop=\"push_time\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"push_type\" prop=\"push_type\">\r\n      </el-table-column> -->\r\n\r\n            <el-table-column align=\"center\" label=\"des\" prop=\"des\">\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"是否有效\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag type=\"success\" v-if=\"scope.row.is_valid\">有效</el-tag>\r\n                    <el-tag type=\"info\" v-else>已删除</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <!-- <el-table-column align=\"center\" label=\"revover_desc\" prop=\"revover_desc\">\r\n      </el-table-column> -->\r\n\r\n            <el-table-column align=\"center\" label=\"操作\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button v-if=\"scope.row.is_valid\" @click=\"editFault(scope.row, true)\" size=\"small\" type=\"primary\">编辑</el-button>\r\n                    <el-button v-if=\"scope.row.is_valid\" @click=\"deleteFault(scope.row)\" size=\"small\" type=\"warning\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <div v-show=\"!listLoading\" class=\"pagination-container\">\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"listQuery.page\" :page-sizes=\"[15,20,30, 50]\" :page-size=\"listQuery.limit\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n\r\n        <el-dialog :visible.sync=\"formVisible\" :title=\"dialogTitle\">\r\n            <el-form label-width=\"120px\">\r\n                <el-form-item label=\"品类\">\r\n                    <el-select v-model=\"formItem.cid\" :disabled=\"isEdit\" @change=\"onTypeChange\">\r\n                        <el-option v-for=\"item in typeList\" :key=\"item.id\" :value=\"item.id\" :label=\"item.name\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"品牌\">\r\n                    <el-select v-model=\"formItem.manufacturer\" :disabled=\"isEdit\" @change=\"onBrandChange\">\r\n                        <el-option v-for=\"(item,index) in manufacturerList\" :key=\"index\" :label=\"item.manufacturer_name\" :value=\"item.manufacturer_name\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"product_id\">\r\n                    <el-select v-model=\"formItem.product_id\" clearable=\"\">\r\n                        <el-option v-for=\"item in productList\" :key=\"item.product_id\" :value=\"item.product_id\" :label=\"item.product_id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"code\">\r\n                    <el-input v-model=\"formItem.code\" :disabled=\"isEdit\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"status\">\r\n                    <el-select v-model=\"formItem.status\">\r\n                        <el-option label=\"fixed\" :value=\"0\"></el-option>\r\n                        <el-option label=\"open\" :value=\"1\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"level\">\r\n                    <el-select v-model=\"formItem.level\">\r\n                        <el-option label=\"未定义\" :value=\"0\"></el-option>\r\n                        <el-option label=\"低\" :value=\"1\"></el-option>\r\n                        <el-option label=\"中\" :value=\"2\"></el-option>\r\n                        <el-option label=\"高\" :value=\"3\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"tip_type\">\r\n                    <el-select v-model=\"formItem.tip_type\">\r\n                        <el-option label=\"弹窗交互\" :value=\"1\"></el-option>\r\n                        <el-option label=\"仅提示\" :value=\"2\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"push_rights\">\r\n                    <el-select v-model=\"formItem.push_rights\">\r\n                        <el-option label=\"全员\" :value=\"0\"></el-option>\r\n                        <el-option label=\"户主\" :value=\"1\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"push_time\">\r\n                    <div class=\"push_time_item\" v-for=\"(item, index) in formItem.push_time\" :key=\"index\">\r\n                        <el-time-select class=\"hour\" :clearable=\"false\" :picker-options=\"getTimeSelectOption(index, 0)\" v-model=\"formItem.push_time[index][0]\"></el-time-select> -\r\n                        <el-time-select class=\"hour\" :clearable=\"false\" :picker-options=\"getTimeSelectOption(index, 1)\" v-model=\"formItem.push_time[index][1]\"></el-time-select>\r\n                        <i class=\"el-icon-remove\" @click=\"deleteRow(index)\" v-if=\"formItem.push_time.length>1\"></i>\r\n                    </div>\r\n                    <el-button type=\"primary\" @click=\"addRow\" icon=\"el-icon-circle-plus\" size=\"mini\">新增一行</el-button>\r\n                </el-form-item>\r\n                <el-form-item label=\"push_type\">\r\n                    <el-input v-model=\"formItem.push_type\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"title\">\r\n                    <el-input v-model=\"formItem.title\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"des\">\r\n                    <el-input v-model=\"formItem.des\" type=\"textarea\" rows=\"2\"></el-input>\r\n                    <span>支持标签：${family_name},${room_name},${device_name}</span>\r\n                </el-form-item>\r\n                <el-form-item label=\"revover_desc\">\r\n                    <el-input v-model=\"formItem.revover_desc\" type=\"textarea\" rows=\"2\"></el-input>\r\n                </el-form-item>\r\n                <!-- <el-form-item label=\"is_valid\">\r\n                    <el-input v-model=\"formItem.is_valid\" disabled=\"\"></el-input>\r\n                </el-form-item> -->\r\n\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n\r\n                <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n                <el-button @click=\"formVisible=false\">取消</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport fetch from '@/utils/fetch'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // ====table===\r\n      list: null,\r\n      total: null,\r\n      listLoading: false,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 15\r\n      },\r\n      formVisible: false,\r\n      isEdit: false,\r\n      typeList: [],\r\n      manufacturerList: [],\r\n      productList: [],\r\n      formItem: {},\r\n      brand_id: '',\r\n      type_id: ''\r\n    }\r\n  },\r\n  computed: {\r\n    dialogTitle() {\r\n      return this.isEdit ? 'edit fault' : 'add fault'\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.refresh()\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.getList()\r\n      this.getTypeList()\r\n      this.getManufacturerList()\r\n    },\r\n    getManufacturerList() {\r\n      fetch({\r\n        url: 'brand/select',\r\n        method: 'POST',\r\n        data: {\r\n          is_online: 1\r\n        }\r\n      }).then(res => {\r\n        this.manufacturerList = res\r\n      })\r\n    },\r\n    getTypeList() {\r\n      fetch({\r\n        url: 'product/parenttype_lists',\r\n        method: 'POST'\r\n      }).then(res => {\r\n        this.typeList = res.list\r\n      })\r\n    },\r\n    onBrandChange(name) {\r\n      this.brand_id = this.getBrandId()\r\n      this.formItem.product_id = ''\r\n      this.getProductList()\r\n    },\r\n    onTypeChange(id) {\r\n      this.type_id = id\r\n      this.formItem.product_id = ''\r\n      this.getProductList()\r\n    },\r\n    getBrandId() {\r\n      const items = this.manufacturerList.filter(\r\n        item => item.manufacturer_name === this.formItem.manufacturer\r\n      )\r\n\r\n      if (items.length) {\r\n        return items[0].brand_id\r\n      }\r\n      return ''\r\n    },\r\n    getProductList() {\r\n      fetch({\r\n        url: 'admin/product_lists',\r\n        method: 'POST',\r\n        data: {\r\n          limit: 999,\r\n          parent_type_id: this.type_id ? this.type_id : undefined,\r\n          brand_id: this.brand_id ? this.brand_id : undefined,\r\n          search_type: 1,\r\n          page: 1\r\n        }\r\n      }).then(res => {\r\n        this.productList = res.data\r\n      })\r\n    },\r\n    getList() {\r\n      this.listLoading = true\r\n      const params = {\r\n        limit: this.listQuery.limit,\r\n        page: this.listQuery.page\r\n      }\r\n\r\n      fetch({\r\n        url: 'device/fault/lists',\r\n        data: params\r\n      }).then(response => {\r\n        this.list = response.data\r\n        this.total = response.total_page\r\n        this.listLoading = false\r\n      })\r\n    },\r\n\r\n    handleSizeChange(val) {\r\n      this.listQuery.limit = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.listQuery.page = val\r\n      this.getList()\r\n    },\r\n    addFault() {\r\n      this.isEdit = false\r\n      this.formVisible = true\r\n      this.formItem = {\r\n        push_time: [[]],\r\n        product_id: ''\r\n      }\r\n      // 重置pid\r\n      this.brand_id = ''\r\n      this.type_id = ''\r\n      this.productList = []\r\n    },\r\n    editFault(row, isEdit) {\r\n      this.isEdit = true\r\n      this.formVisible = true\r\n      this.formItem = Object.assign({}, row, {\r\n        push_time: this.setFormatTime(JSON.parse(row.push_time))\r\n      })\r\n\r\n      // 重置pid\r\n      if (row.manufacturer) {\r\n        this.brand_id = this.getBrandId()\r\n      }\r\n      if (row.cid) {\r\n        this.type_id = row.cid\r\n      }\r\n      this.getProductList()\r\n    },\r\n    deleteFault(row) {\r\n      this.$confirm('删除后将不能恢复, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          fetch({\r\n            url: 'device/fault/del',\r\n            method: 'POST',\r\n            data: {\r\n              id: row.id\r\n            }\r\n          }).then(res => {\r\n            row.is_valid = 0\r\n            // this.getList()\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n    },\r\n    deleteRow(index) {\r\n      this.formItem.push_time.splice(index, 1)\r\n    },\r\n    addRow() {\r\n      this.formItem.push_time.push([])\r\n    },\r\n    setFormatTime(timeGroup) {\r\n      return timeGroup.map(times => {\r\n        return times.map(time => {\r\n          time += ''\r\n          if (time.indexOf(':') > 0) {\r\n            return time\r\n          } else {\r\n            return `${time > 10 ? time : '0' + time}:00`\r\n          }\r\n        })\r\n      })\r\n    },\r\n    getFormatTime(timeGroup) {\r\n      return timeGroup.map(times => {\r\n        return times.map(time => {\r\n          if (time.indexOf(':') > 0) {\r\n            return parseInt(time.split(':')[0])\r\n          } else {\r\n            return time\r\n          }\r\n        })\r\n      })\r\n    },\r\n    onSubmit() {\r\n      const formItem = Object.assign({}, this.formItem, {\r\n        push_time: this.getFormatTime(this.formItem.push_time),\r\n        created_at: undefined,\r\n        updated_at: undefined,\r\n        is_valid: undefined\r\n      })\r\n      fetch({\r\n        url: this.isEdit ? 'device/fault/edit' : 'device/fault/add',\r\n        method: 'post',\r\n        data: formItem\r\n      }).then(res => {\r\n        this.$message.success('操作成功！')\r\n        this.formVisible = false\r\n        this.getList()\r\n      })\r\n    },\r\n    getTypeTextById(id) {\r\n      const items = this.typeList.filter(item => item.id === id)\r\n      if (items.length) {\r\n        return items[0].name\r\n      }\r\n      return id\r\n    },\r\n    getPushRightsText(id) {\r\n      return {\r\n        '0': '全员',\r\n        '1': '户主'\r\n      }[id]\r\n    },\r\n    getTimeSelectOption() {\r\n      return {\r\n        start: '00:00',\r\n        end: '23:00',\r\n        step: '01:00'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.push_time_item {\r\n  margin-bottom: 5px;\r\n}\r\n.hour {\r\n  width: 110px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/configManagement/deviceFault.vue"],"sourceRoot":""}