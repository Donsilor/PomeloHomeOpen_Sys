{"version":3,"sources":["webpack:///static/js/60.f8a926cff5162d21d8b0.js","webpack:///./src/views/configManagement/deviceFault.vue?4ded","webpack:///./src/views/configManagement/deviceFault.vue","webpack:///./src/views/configManagement/deviceFault.vue?4ed2","webpack:///src/views/configManagement/deviceFault.vue","webpack:///./src/views/configManagement/deviceFault.vue?db19"],"names":["webpackJsonp","+Nz3","module","exports","__webpack_require__","content","i","locals","2fa7","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f776f52e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__","normalizeComponent","__vue_styles__","Component","8nIN","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","attrs","size","type","on","click","addFault","_v","directives","name","rawName","expression","width","data","list","element-loading-text","stripe","fit","highlight-current-row","align","label","prop","scopedSlots","_u","key","fn","scope","_s","getTypeTextById","row","cid","$event","editFault","_e","deleteFault","listLoading","current-page","listQuery","page","page-sizes","page-size","limit","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","$set","visible","formVisible","title","dialogTitle","update:visible","label-width","disabled","isEdit","change","onTypeChange","model","formItem","callback","$$v","_l","item","id","onBrandChange","index","manufacturer_name","clearable","product_id","picker-options","getTimeSelectOption","push_time","length","deleteRow","icon","addRow","rows","slot","onSubmit","staticRenderFns","esExports","nF2r","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1__utils_fetch__","typeList","manufacturerList","productList","brand_id","type_id","computed","created","mounted","refresh","methods","getList","getTypeList","getManufacturerList","_this","url","method","is_online","then","res","_this2","getBrandId","getProductList","_this3","items","filter","manufacturer","_this4","parent_type_id","undefined","search_type","_this5","params","response","total_page","val","setFormatTime","JSON","parse","_this6","$confirm","confirmButtonText","cancelButtonText","is_valid","$message","message","catch","splice","push","timeGroup","map","times","time","indexOf","getFormatTime","parseInt","split","_this7","created_at","updated_at","success","getPushRightsText","0","1","start","end","step","ru9S","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/60.f8a926cff5162d21d8b0.js","sourcesContent":["webpackJsonp([60],{\n\n/***/ \"+Nz3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"ru9S\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"3893cba9\", content, true);\n\n/***/ }),\n\n/***/ \"2fa7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__ = __webpack_require__(\"nF2r\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f776f52e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__ = __webpack_require__(\"8nIN\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"+Nz3\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f776f52e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_deviceFault_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f776f52e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_deviceFault_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"8nIN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.addFault}},[_vm._v(\"\\n            新增方案\\n        \")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"stripe\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"manufacturer\",\"prop\":\"manufacturer\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTypeTextById(scope.row.cid)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"pid\",\"prop\":\"product_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"code\",\"prop\":\"code\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"status\",\"prop\":\"status\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"des\",\"prop\":\"des\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"有效\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editFault(scope.row, true)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.deleteFault(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.listLoading),expression:\"!listLoading\"}],staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-sizes\":[15,20,30, 50],\"page-size\":_vm.listQuery.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.formVisible,\"title\":_vm.dialogTitle},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"品类\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onTypeChange},model:{value:(_vm.formItem.cid),callback:function ($$v) {_vm.$set(_vm.formItem, \"cid\", $$v)},expression:\"formItem.cid\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onBrandChange},model:{value:(_vm.formItem.manufacturer),callback:function ($$v) {_vm.$set(_vm.formItem, \"manufacturer\", $$v)},expression:\"formItem.manufacturer\"}},_vm._l((_vm.manufacturerList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.manufacturer_name,\"value\":item.manufacturer_name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"product_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.product_id),callback:function ($$v) {_vm.$set(_vm.formItem, \"product_id\", $$v)},expression:\"formItem.product_id\"}},_vm._l((_vm.productList),function(item){return _c('el-option',{key:item.product_id,attrs:{\"value\":item.product_id,\"label\":item.product_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.code),callback:function ($$v) {_vm.$set(_vm.formItem, \"code\", $$v)},expression:\"formItem.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"status\"}},[_c('el-select',{model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},[_c('el-option',{attrs:{\"label\":\"fixed\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"open\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"level\"}},[_c('el-select',{model:{value:(_vm.formItem.level),callback:function ($$v) {_vm.$set(_vm.formItem, \"level\", $$v)},expression:\"formItem.level\"}},[_c('el-option',{attrs:{\"label\":\"未定义\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"低\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"中\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"高\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"tip_type\"}},[_c('el-select',{model:{value:(_vm.formItem.tip_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"tip_type\", $$v)},expression:\"formItem.tip_type\"}},[_c('el-option',{attrs:{\"label\":\"弹窗交互\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"仅提示\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_rights\"}},[_c('el-select',{model:{value:(_vm.formItem.push_rights),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_rights\", $$v)},expression:\"formItem.push_rights\"}},[_c('el-option',{attrs:{\"label\":\"全员\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"户主\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_time\"}},[_vm._l((_vm.formItem.push_time),function(item,index){return _c('div',{key:index,staticClass:\"push_time_item\"},[_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 0)},model:{value:(_vm.formItem.push_time[index][0]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 0, $$v)},expression:\"formItem.push_time[index][0]\"}}),_vm._v(\" -\\n                    \"),_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 1)},model:{value:(_vm.formItem.push_time[index][1]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 1, $$v)},expression:\"formItem.push_time[index][1]\"}}),_vm._v(\" \"),(_vm.formItem.push_time.length>1)?_c('i',{staticClass:\"el-icon-remove\",on:{\"click\":function($event){_vm.deleteRow(index)}}}):_vm._e()],1)}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addRow}},[_vm._v(\"新增一行\")])],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_type\"}},[_c('el-input',{model:{value:(_vm.formItem.push_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_type\", $$v)},expression:\"formItem.push_type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"title\"}},[_c('el-input',{model:{value:(_vm.formItem.title),callback:function ($$v) {_vm.$set(_vm.formItem, \"title\", $$v)},expression:\"formItem.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"des\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.des),callback:function ($$v) {_vm.$set(_vm.formItem, \"des\", $$v)},expression:\"formItem.des\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"支持标签：${family_name},${room_name},${device_name}\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"revover_desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.revover_desc),callback:function ($$v) {_vm.$set(_vm.formItem, \"revover_desc\", $$v)},expression:\"formItem.revover_desc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.formVisible=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"nF2r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      // ====table===\n      list: null,\n      total: null,\n      listLoading: false,\n      listQuery: {\n        page: 1,\n        limit: 15\n      },\n      formVisible: false,\n      isEdit: false,\n      typeList: [],\n      manufacturerList: [],\n      productList: [],\n      formItem: {},\n      brand_id: '',\n      type_id: ''\n    };\n  },\n\n  computed: {\n    dialogTitle: function dialogTitle() {\n      return this.isEdit ? 'edit fault' : 'add fault';\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.refresh();\n  },\n\n  methods: {\n    refresh: function refresh() {\n      this.getList();\n      this.getTypeList();\n      this.getManufacturerList();\n    },\n    getManufacturerList: function getManufacturerList() {\n      var _this = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'brand/select',\n        method: 'POST',\n        data: {\n          is_online: 1\n        }\n      }).then(function (res) {\n        _this.manufacturerList = res;\n      });\n    },\n    getTypeList: function getTypeList() {\n      var _this2 = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'product/parenttype_lists',\n        method: 'POST'\n      }).then(function (res) {\n        _this2.typeList = res.list;\n      });\n    },\n    onBrandChange: function onBrandChange(name) {\n      this.brand_id = this.getBrandId();\n      this.formItem.product_id = '';\n      this.getProductList();\n    },\n    onTypeChange: function onTypeChange(id) {\n      this.type_id = id;\n      this.formItem.product_id = '';\n      this.getProductList();\n    },\n    getBrandId: function getBrandId() {\n      var _this3 = this;\n\n      var items = this.manufacturerList.filter(function (item) {\n        return item.manufacturer_name === _this3.formItem.manufacturer;\n      });\n\n      if (items.length) {\n        return items[0].brand_id;\n      }\n      return '';\n    },\n    getProductList: function getProductList() {\n      var _this4 = this;\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'admin/product_lists',\n        method: 'POST',\n        data: {\n          limit: 999,\n          parent_type_id: this.type_id ? this.type_id : undefined,\n          brand_id: this.brand_id ? this.brand_id : undefined,\n          search_type: 1,\n          page: 1\n        }\n      }).then(function (res) {\n        _this4.productList = res.data;\n      });\n    },\n    getList: function getList() {\n      var _this5 = this;\n\n      this.listLoading = true;\n      var params = {\n        limit: this.listQuery.limit,\n        page: this.listQuery.page\n      };\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: 'device/fault/lists',\n        data: params\n      }).then(function (response) {\n        _this5.list = response.data;\n        _this5.total = response.total_page;\n        _this5.listLoading = false;\n      });\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.listQuery.limit = val;\n      this.getList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.listQuery.page = val;\n      this.getList();\n    },\n    addFault: function addFault() {\n      this.isEdit = false;\n      this.formVisible = true;\n      this.formItem = {\n        push_time: [[]],\n        product_id: ''\n        // 重置pid\n      };this.brand_id = '';\n      this.type_id = '';\n      this.productList = [];\n    },\n    editFault: function editFault(row, isEdit) {\n      this.isEdit = true;\n      this.formVisible = true;\n      this.formItem = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, row, {\n        push_time: this.setFormatTime(JSON.parse(row.push_time))\n      });\n\n      // 重置pid\n      if (row.manufacturer) {\n        this.brand_id = this.getBrandId();\n      }\n      if (row.cid) {\n        this.type_id = row.cid;\n      }\n      this.getProductList();\n    },\n    deleteFault: function deleteFault(row) {\n      var _this6 = this;\n\n      this.$confirm('删除后将不能恢复, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n          url: 'device/fault/del',\n          method: 'POST',\n          data: {\n            id: row.id\n          }\n        }).then(function (res) {\n          row.is_valid = 0;\n          // this.getList()\n          _this6.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n        });\n      }).catch(function () {\n        _this6.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    deleteRow: function deleteRow(index) {\n      this.formItem.push_time.splice(index, 1);\n    },\n    addRow: function addRow() {\n      this.formItem.push_time.push([]);\n    },\n    setFormatTime: function setFormatTime(timeGroup) {\n      return timeGroup.map(function (times) {\n        return times.map(function (time) {\n          time += '';\n          if (time.indexOf(':') > 0) {\n            return time;\n          } else {\n            return (time > 10 ? time : '0' + time) + ':00';\n          }\n        });\n      });\n    },\n    getFormatTime: function getFormatTime(timeGroup) {\n      return timeGroup.map(function (times) {\n        return times.map(function (time) {\n          if (time.indexOf(':') > 0) {\n            return parseInt(time.split(':')[0]);\n          } else {\n            return time;\n          }\n        });\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this7 = this;\n\n      var formItem = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, this.formItem, {\n        push_time: this.getFormatTime(this.formItem.push_time),\n        created_at: undefined,\n        updated_at: undefined,\n        is_valid: undefined\n      });\n      Object(__WEBPACK_IMPORTED_MODULE_1__utils_fetch__[\"a\" /* default */])({\n        url: this.isEdit ? 'device/fault/edit' : 'device/fault/add',\n        method: 'post',\n        data: formItem\n      }).then(function (res) {\n        _this7.$message.success('操作成功！');\n        _this7.formVisible = false;\n        _this7.getList();\n      });\n    },\n    getTypeTextById: function getTypeTextById(id) {\n      var items = this.typeList.filter(function (item) {\n        return item.id === id;\n      });\n      if (items.length) {\n        return items[0].name;\n      }\n      return id;\n    },\n    getPushRightsText: function getPushRightsText(id) {\n      return {\n        '0': '全员',\n        '1': '户主'\n      }[id];\n    },\n    getTimeSelectOption: function getTimeSelectOption() {\n      return {\n        start: '00:00',\n        end: '23:00',\n        step: '01:00'\n      };\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"ru9S\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".push_time_item[data-v-f776f52e]{margin-bottom:5px}.hour[data-v-f776f52e]{width:110px}\", \"\", {\"version\":3,\"sources\":[\"/Users/danyin/prj/PomeloHomeOpen_Sys/src/views/configManagement/deviceFault.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,iBAAmB,CACpB,AACD,uBACE,WAAa,CACd\",\"file\":\"deviceFault.vue\",\"sourcesContent\":[\"\\n.push_time_item[data-v-f776f52e] {\\n  margin-bottom: 5px;\\n}\\n.hour[data-v-f776f52e] {\\n  width: 110px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/60.f8a926cff5162d21d8b0.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f776f52e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./deviceFault.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3893cba9\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-f776f52e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/configManagement/deviceFault.vue\n// module id = +Nz3\n// module chunks = 60","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f776f52e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./deviceFault.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./deviceFault.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./deviceFault.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f776f52e\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./deviceFault.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f776f52e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/configManagement/deviceFault.vue\n// module id = 2fa7\n// module chunks = 60","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container calendar-list-container\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.addFault}},[_vm._v(\"\\n            新增方案\\n        \")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"stripe\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"manufacturer\",\"prop\":\"manufacturer\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.getTypeTextById(scope.row.cid)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"pid\",\"prop\":\"product_id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"code\",\"prop\":\"code\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"status\",\"prop\":\"status\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"des\",\"prop\":\"des\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否有效\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"有效\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editFault(scope.row, true)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(scope.row.is_valid)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.deleteFault(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.listLoading),expression:\"!listLoading\"}],staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-sizes\":[15,20,30, 50],\"page-size\":_vm.listQuery.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.formVisible,\"title\":_vm.dialogTitle},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"品类\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onTypeChange},model:{value:(_vm.formItem.cid),callback:function ($$v) {_vm.$set(_vm.formItem, \"cid\", $$v)},expression:\"formItem.cid\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品牌\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEdit},on:{\"change\":_vm.onBrandChange},model:{value:(_vm.formItem.manufacturer),callback:function ($$v) {_vm.$set(_vm.formItem, \"manufacturer\", $$v)},expression:\"formItem.manufacturer\"}},_vm._l((_vm.manufacturerList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.manufacturer_name,\"value\":item.manufacturer_name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"product_id\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.product_id),callback:function ($$v) {_vm.$set(_vm.formItem, \"product_id\", $$v)},expression:\"formItem.product_id\"}},_vm._l((_vm.productList),function(item){return _c('el-option',{key:item.product_id,attrs:{\"value\":item.product_id,\"label\":item.product_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.code),callback:function ($$v) {_vm.$set(_vm.formItem, \"code\", $$v)},expression:\"formItem.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"status\"}},[_c('el-select',{model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},[_c('el-option',{attrs:{\"label\":\"fixed\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"open\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"level\"}},[_c('el-select',{model:{value:(_vm.formItem.level),callback:function ($$v) {_vm.$set(_vm.formItem, \"level\", $$v)},expression:\"formItem.level\"}},[_c('el-option',{attrs:{\"label\":\"未定义\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"低\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"中\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"高\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"tip_type\"}},[_c('el-select',{model:{value:(_vm.formItem.tip_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"tip_type\", $$v)},expression:\"formItem.tip_type\"}},[_c('el-option',{attrs:{\"label\":\"弹窗交互\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"仅提示\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_rights\"}},[_c('el-select',{model:{value:(_vm.formItem.push_rights),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_rights\", $$v)},expression:\"formItem.push_rights\"}},[_c('el-option',{attrs:{\"label\":\"全员\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"户主\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_time\"}},[_vm._l((_vm.formItem.push_time),function(item,index){return _c('div',{key:index,staticClass:\"push_time_item\"},[_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 0)},model:{value:(_vm.formItem.push_time[index][0]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 0, $$v)},expression:\"formItem.push_time[index][0]\"}}),_vm._v(\" -\\n                    \"),_c('el-time-select',{staticClass:\"hour\",attrs:{\"clearable\":false,\"picker-options\":_vm.getTimeSelectOption(index, 1)},model:{value:(_vm.formItem.push_time[index][1]),callback:function ($$v) {_vm.$set(_vm.formItem.push_time[index], 1, $$v)},expression:\"formItem.push_time[index][1]\"}}),_vm._v(\" \"),(_vm.formItem.push_time.length>1)?_c('i',{staticClass:\"el-icon-remove\",on:{\"click\":function($event){_vm.deleteRow(index)}}}):_vm._e()],1)}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addRow}},[_vm._v(\"新增一行\")])],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"push_type\"}},[_c('el-input',{model:{value:(_vm.formItem.push_type),callback:function ($$v) {_vm.$set(_vm.formItem, \"push_type\", $$v)},expression:\"formItem.push_type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"title\"}},[_c('el-input',{model:{value:(_vm.formItem.title),callback:function ($$v) {_vm.$set(_vm.formItem, \"title\", $$v)},expression:\"formItem.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"des\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.des),callback:function ($$v) {_vm.$set(_vm.formItem, \"des\", $$v)},expression:\"formItem.des\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"支持标签：${family_name},${room_name},${device_name}\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"revover_desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"2\"},model:{value:(_vm.formItem.revover_desc),callback:function ($$v) {_vm.$set(_vm.formItem, \"revover_desc\", $$v)},expression:\"formItem.revover_desc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.formVisible=false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f776f52e\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/configManagement/deviceFault.vue\n// module id = 8nIN\n// module chunks = 60","<template>\n    <div class=\"app-container calendar-list-container\">\n        <el-row style=\"margin-bottom: 10px;\">\n            <el-button @click=\"addFault\" size=\"medium\" type=\"primary\">\n                新增方案\n            </el-button>\n        </el-row>\n\n        <el-table :data=\"list\" v-loading=\"listLoading\" element-loading-text=\"给我一点时间\" stripe fit highlight-current-row style=\"width: 100%\">\n            <el-table-column align=\"center\" label=\"manufacturer\" prop=\"manufacturer\">\n            </el-table-column>\n            <el-table-column align=\"center\" label=\"品类\">\n                <template slot-scope=\"scope\">{{ getTypeTextById(scope.row.cid) }}</template>\n            </el-table-column>\n            <el-table-column align=\"center\" label=\"pid\" prop=\"product_id\">\n            </el-table-column>\n            <el-table-column align=\"center\" label=\"code\" prop=\"code\">\n            </el-table-column>\n            <el-table-column align=\"center\" label=\"status\" prop=\"status\">\n            </el-table-column>\n            <!-- <el-table-column align=\"center\" label=\"level\" prop=\"level\">\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"tip_type\" prop=\"tip_type\">\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"is_valid\" prop=\"is_valid\">\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"push_rights\">\n        <template slot-scope=\"scope\">{{getPushRightsText(scope.row.push_rights)}}</template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"push_time\" prop=\"push_time\">\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"push_type\" prop=\"push_type\">\n      </el-table-column> -->\n\n            <el-table-column align=\"center\" label=\"des\" prop=\"des\">\n            </el-table-column>\n            <el-table-column align=\"center\" label=\"是否有效\">\n                <template slot-scope=\"scope\">\n                    <el-tag type=\"success\" v-if=\"scope.row.is_valid\">有效</el-tag>\n                    <el-tag type=\"info\" v-else>已删除</el-tag>\n                </template>\n            </el-table-column>\n\n            <!-- <el-table-column align=\"center\" label=\"revover_desc\" prop=\"revover_desc\">\n      </el-table-column> -->\n\n            <el-table-column align=\"center\" label=\"操作\" width=\"150\">\n                <template slot-scope=\"scope\">\n                    <el-button v-if=\"scope.row.is_valid\" @click=\"editFault(scope.row, true)\" size=\"small\" type=\"primary\">编辑</el-button>\n                    <el-button v-if=\"scope.row.is_valid\" @click=\"deleteFault(scope.row)\" size=\"small\" type=\"warning\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <div v-show=\"!listLoading\" class=\"pagination-container\">\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"listQuery.page\" :page-sizes=\"[15,20,30, 50]\" :page-size=\"listQuery.limit\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n            </el-pagination>\n        </div>\n\n        <el-dialog :visible.sync=\"formVisible\" :title=\"dialogTitle\">\n            <el-form label-width=\"120px\">\n                <el-form-item label=\"品类\">\n                    <el-select v-model=\"formItem.cid\" :disabled=\"isEdit\" @change=\"onTypeChange\">\n                        <el-option v-for=\"item in typeList\" :key=\"item.id\" :value=\"item.id\" :label=\"item.name\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"品牌\">\n                    <el-select v-model=\"formItem.manufacturer\" :disabled=\"isEdit\" @change=\"onBrandChange\">\n                        <el-option v-for=\"(item,index) in manufacturerList\" :key=\"index\" :label=\"item.manufacturer_name\" :value=\"item.manufacturer_name\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"product_id\">\n                    <el-select v-model=\"formItem.product_id\" clearable=\"\">\n                        <el-option v-for=\"item in productList\" :key=\"item.product_id\" :value=\"item.product_id\" :label=\"item.product_id\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"code\">\n                    <el-input v-model=\"formItem.code\" :disabled=\"isEdit\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"status\">\n                    <el-select v-model=\"formItem.status\">\n                        <el-option label=\"fixed\" :value=\"0\"></el-option>\n                        <el-option label=\"open\" :value=\"1\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"level\">\n                    <el-select v-model=\"formItem.level\">\n                        <el-option label=\"未定义\" :value=\"0\"></el-option>\n                        <el-option label=\"低\" :value=\"1\"></el-option>\n                        <el-option label=\"中\" :value=\"2\"></el-option>\n                        <el-option label=\"高\" :value=\"3\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"tip_type\">\n                    <el-select v-model=\"formItem.tip_type\">\n                        <el-option label=\"弹窗交互\" :value=\"1\"></el-option>\n                        <el-option label=\"仅提示\" :value=\"2\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"push_rights\">\n                    <el-select v-model=\"formItem.push_rights\">\n                        <el-option label=\"全员\" :value=\"0\"></el-option>\n                        <el-option label=\"户主\" :value=\"1\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"push_time\">\n                    <div class=\"push_time_item\" v-for=\"(item, index) in formItem.push_time\" :key=\"index\">\n                        <el-time-select class=\"hour\" :clearable=\"false\" :picker-options=\"getTimeSelectOption(index, 0)\" v-model=\"formItem.push_time[index][0]\"></el-time-select> -\n                        <el-time-select class=\"hour\" :clearable=\"false\" :picker-options=\"getTimeSelectOption(index, 1)\" v-model=\"formItem.push_time[index][1]\"></el-time-select>\n                        <i class=\"el-icon-remove\" @click=\"deleteRow(index)\" v-if=\"formItem.push_time.length>1\"></i>\n                    </div>\n                    <el-button type=\"primary\" @click=\"addRow\" icon=\"el-icon-circle-plus\" size=\"mini\">新增一行</el-button>\n                </el-form-item>\n                <el-form-item label=\"push_type\">\n                    <el-input v-model=\"formItem.push_type\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"title\">\n                    <el-input v-model=\"formItem.title\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"des\">\n                    <el-input v-model=\"formItem.des\" type=\"textarea\" rows=\"2\"></el-input>\n                    <span>支持标签：${family_name},${room_name},${device_name}</span>\n                </el-form-item>\n                <el-form-item label=\"revover_desc\">\n                    <el-input v-model=\"formItem.revover_desc\" type=\"textarea\" rows=\"2\"></el-input>\n                </el-form-item>\n                <!-- <el-form-item label=\"is_valid\">\n                    <el-input v-model=\"formItem.is_valid\" disabled=\"\"></el-input>\n                </el-form-item> -->\n\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n\n                <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\n                <el-button @click=\"formVisible=false\">取消</el-button>\n            </span>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\nimport fetch from '@/utils/fetch'\n\nexport default {\n  data() {\n    return {\n      // ====table===\n      list: null,\n      total: null,\n      listLoading: false,\n      listQuery: {\n        page: 1,\n        limit: 15\n      },\n      formVisible: false,\n      isEdit: false,\n      typeList: [],\n      manufacturerList: [],\n      productList: [],\n      formItem: {},\n      brand_id: '',\n      type_id: ''\n    }\n  },\n  computed: {\n    dialogTitle() {\n      return this.isEdit ? 'edit fault' : 'add fault'\n    }\n  },\n  created() {},\n  mounted() {\n    this.refresh()\n  },\n  methods: {\n    refresh() {\n      this.getList()\n      this.getTypeList()\n      this.getManufacturerList()\n    },\n    getManufacturerList() {\n      fetch({\n        url: 'brand/select',\n        method: 'POST',\n        data: {\n          is_online: 1\n        }\n      }).then(res => {\n        this.manufacturerList = res\n      })\n    },\n    getTypeList() {\n      fetch({\n        url: 'product/parenttype_lists',\n        method: 'POST'\n      }).then(res => {\n        this.typeList = res.list\n      })\n    },\n    onBrandChange(name) {\n      this.brand_id = this.getBrandId()\n      this.formItem.product_id = ''\n      this.getProductList()\n    },\n    onTypeChange(id) {\n      this.type_id = id\n      this.formItem.product_id = ''\n      this.getProductList()\n    },\n    getBrandId() {\n      const items = this.manufacturerList.filter(\n        item => item.manufacturer_name === this.formItem.manufacturer\n      )\n\n      if (items.length) {\n        return items[0].brand_id\n      }\n      return ''\n    },\n    getProductList() {\n      fetch({\n        url: 'admin/product_lists',\n        method: 'POST',\n        data: {\n          limit: 999,\n          parent_type_id: this.type_id ? this.type_id : undefined,\n          brand_id: this.brand_id ? this.brand_id : undefined,\n          search_type: 1,\n          page: 1\n        }\n      }).then(res => {\n        this.productList = res.data\n      })\n    },\n    getList() {\n      this.listLoading = true\n      const params = {\n        limit: this.listQuery.limit,\n        page: this.listQuery.page\n      }\n\n      fetch({\n        url: 'device/fault/lists',\n        data: params\n      }).then(response => {\n        this.list = response.data\n        this.total = response.total_page\n        this.listLoading = false\n      })\n    },\n\n    handleSizeChange(val) {\n      this.listQuery.limit = val\n      this.getList()\n    },\n    handleCurrentChange(val) {\n      this.listQuery.page = val\n      this.getList()\n    },\n    addFault() {\n      this.isEdit = false\n      this.formVisible = true\n      this.formItem = {\n        push_time: [[]],\n        product_id: ''\n      }\n      // 重置pid\n      this.brand_id = ''\n      this.type_id = ''\n      this.productList = []\n    },\n    editFault(row, isEdit) {\n      this.isEdit = true\n      this.formVisible = true\n      this.formItem = Object.assign({}, row, {\n        push_time: this.setFormatTime(JSON.parse(row.push_time))\n      })\n\n      // 重置pid\n      if (row.manufacturer) {\n        this.brand_id = this.getBrandId()\n      }\n      if (row.cid) {\n        this.type_id = row.cid\n      }\n      this.getProductList()\n    },\n    deleteFault(row) {\n      this.$confirm('删除后将不能恢复, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          fetch({\n            url: 'device/fault/del',\n            method: 'POST',\n            data: {\n              id: row.id\n            }\n          }).then(res => {\n            row.is_valid = 0\n            // this.getList()\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            })\n          })\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          })\n        })\n    },\n    deleteRow(index) {\n      this.formItem.push_time.splice(index, 1)\n    },\n    addRow() {\n      this.formItem.push_time.push([])\n    },\n    setFormatTime(timeGroup) {\n      return timeGroup.map(times => {\n        return times.map(time => {\n          time += ''\n          if (time.indexOf(':') > 0) {\n            return time\n          } else {\n            return `${time > 10 ? time : '0' + time}:00`\n          }\n        })\n      })\n    },\n    getFormatTime(timeGroup) {\n      return timeGroup.map(times => {\n        return times.map(time => {\n          if (time.indexOf(':') > 0) {\n            return parseInt(time.split(':')[0])\n          } else {\n            return time\n          }\n        })\n      })\n    },\n    onSubmit() {\n      const formItem = Object.assign({}, this.formItem, {\n        push_time: this.getFormatTime(this.formItem.push_time),\n        created_at: undefined,\n        updated_at: undefined,\n        is_valid: undefined\n      })\n      fetch({\n        url: this.isEdit ? 'device/fault/edit' : 'device/fault/add',\n        method: 'post',\n        data: formItem\n      }).then(res => {\n        this.$message.success('操作成功！')\n        this.formVisible = false\n        this.getList()\n      })\n    },\n    getTypeTextById(id) {\n      const items = this.typeList.filter(item => item.id === id)\n      if (items.length) {\n        return items[0].name\n      }\n      return id\n    },\n    getPushRightsText(id) {\n      return {\n        '0': '全员',\n        '1': '户主'\n      }[id]\n    },\n    getTimeSelectOption() {\n      return {\n        start: '00:00',\n        end: '23:00',\n        step: '01:00'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.push_time_item {\n  margin-bottom: 5px;\n}\n.hour {\n  width: 110px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/configManagement/deviceFault.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".push_time_item[data-v-f776f52e]{margin-bottom:5px}.hour[data-v-f776f52e]{width:110px}\", \"\", {\"version\":3,\"sources\":[\"/Users/danyin/prj/PomeloHomeOpen_Sys/src/views/configManagement/deviceFault.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,iBAAmB,CACpB,AACD,uBACE,WAAa,CACd\",\"file\":\"deviceFault.vue\",\"sourcesContent\":[\"\\n.push_time_item[data-v-f776f52e] {\\n  margin-bottom: 5px;\\n}\\n.hour[data-v-f776f52e] {\\n  width: 110px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-f776f52e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/configManagement/deviceFault.vue\n// module id = ru9S\n// module chunks = 60"],"sourceRoot":""}