webpackJsonp([8,64,68],{HLif:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("3cXf"),i=a.n(l),o=a("aA9S"),n=a.n(o),l=a("/QDj"),s=a("Vo7i"),r=(a("VSB1"),a("TIfe")),o=a("bFNI"),l=a("i224"),o={name:"existedCategory",computed:{},created:function(){},mounted:function(){this.getTypeInfo(),this.getParentType(),this.getAttributeList(),this.getProductList()},data:function(){return{isLoadedTechnical:!1,attDialogVisible:!1,selectNodeId:"",typeid:this.$route.query.id,token:Object(r.b)(),isLoadData:!1,isEdit:!1,editText:"编辑品类信息",form:{id:"",name:"",name_e:"",dialogImageUrl:"",dialogVisible:!1,imageUrl:[{file_url:""},{file_url:""},{file_url:""},{file_url:""}]},rules:{id:[{required:!0,message:"请输入子品类ID",trigger:"blur"}],name:[{required:!0,message:"请输入子品类名称",trigger:"blur"},{max:32,message:"子品类名称不能超过32个字符",trigger:"blur"}],name_e:[{required:!0,message:"请输入子品类英文名称",trigger:"blur"},{max:32,message:"子品类英文名称不能超过32个字符",trigger:"blur"}],parent_type_id:[{required:!0,message:"请选择所属品类",trigger:"change"}]},attr_list:[],device_list:[],technical_wifi:[],technical_bluetooth:[],technical_zigbee:[],parentList:[],high_light_data:{token:Object(r.b)(),file_id:"",attribute:"high_light"},normal_s_data:{token:Object(r.b)(),file_id:"",attribute:"normal_s"},normal_data:{token:Object(r.b)(),file_id:"",attribute:"normal"},disabled_data:{token:Object(r.b)(),file_id:"",attribute:"disabled"},spanMap:{}}},methods:{getMethodReturn:function(e){var a="";return e.forEach(function(e,t){a+='<div class="cell-td">'+e.method+"</div>"}),a},handleClick:function(e,t){1!=e.index||this.isLoadedTechnical||(this.getTechList(1),this.getTechList(2),this.getTechList(3),this.isLoadedTechnical=!0)},getAttributeList:function(){var t=this;this.attr_list=[],this.spanMap={},Object(s.a)({url:"/admin/attribute/lists",method:"post",data:{type_id:this.typeid}}).then(function(e){var o=t;e.list.forEach(function(l){var i=0;l.list?(o.spanMap[l.nodeid]={index:o.attr_list.length,children:{}},l.list.forEach(function(e){var a=0;"3"!=e.key_type?(i++,o.attr_list.push(n()({nodeid:l.nodeid,attr_id:l.attr_id},e))):(o.spanMap[l.nodeid].children[e.key]={index:o.attr_list.length},e.value_list.forEach(function(e,t){i++,a++,o.attr_list.push({nodeid:l.nodeid,attr_id:l.attr_id,method_string:e.method_string,key:e.key,type:e.type,value_string:e.value_string,origin_value_string:e.origin_value_string,remark:e.remark})}),o.spanMap[l.nodeid].children[e.key].len=a)}),o.spanMap[l.nodeid].len=i):o.attr_list.push(l)})}).catch(function(e){})},getProductList:function(){var t=this;Object(s.a)({url:"/admin/product_lists",method:"post",data:{search_type:2,type_id:this.typeid}}).then(function(e){t.device_list=e.data}).catch(function(e){})},getTypeInfo:function(){var t=this;Object(s.a)({url:"/product/type_info",method:"post",data:{id:this.typeid}}).then(function(e){t.form=e,t.handleIconList(t.form.icon_list),t.isLoadData=!0}).catch(function(e){})},handleIconList:function(e){this.high_light_data.file_id=e.high_light.file_id,this.normal_s_data.file_id=e.normal_s.file_id,this.normal_data.file_id=e.normal.file_id,this.disabled_data.file_id=e.disabled.file_id},getParentType:function(){var t=this;Object(s.a)({url:"/product/parenttype_lists",method:"post",data:{}}).then(function(e){t.parentList=e.list})},handleAvatarSuccess:function(e,t){var a=e.result;if(200===e.code)switch(e.result.type){case"high_light":this.form.icon_list.high_light=a.high_light,this.high_light_data.file_id=a.high_light.file_id;break;case"normal_s":this.form.icon_list.normal_s=a.normal_s,this.normal_s_data.file_id=a.normal_s.file_id;break;case"normal":this.form.icon_list.normal=a.normal,this.normal_data.file_id=a.normal.file_id;break;case"disabled":this.form.icon_list.disabled=a.disabled,this.disabled_data.file_id=a.disabled.file_id}else this.$message.error(e.msg)},beforeAvatarUpload:function(e){var t="image/png"===e.type,e=e.size/1024/1024<5;return t||this.$message.error("请上传5M大小内PNG格式的文件"),e||this.$message.error("请上传5M大小内PNG格式的文件"),t&&e},delTechnical:function(e,t){var a=this;Object(s.a)({url:"/producttype/technologydel",method:"post",data:{token:this.token,technology_type:t,id:e}}).then(function(e){a.$message({type:"success",message:"操作成功！"}),a.getTechList(t)})},delectGroy:function(){var t=this;Object(s.a)({url:"/producttype/del",method:"post",data:{id:this.$route.query.id}}).then(function(e){t.$message({showClose:!0,message:"删除成功！",type:"success"}),setTimeout(function(){t.$router.push({path:"/typeManagement/existedCategory"})},2e3)})},editGory:function(){var e=this;this.isEdit?this.$confirm("是否确认保存修改后品类信息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.saveGoryInfo()}).catch(function(){}):(this.isEdit=!0,this.editText="确定并提交修改")},delProperty:function(e){var t=this;this.$confirm("确认删除此属性？","提示").then(function(){Object(s.a)({url:"/attribute/del",method:"post",data:{attr_id:e}}).then(function(e){t.$message({type:"success",message:"操作成功！"}),t.getAttributeList()})})},editProperty:function(e){this.selectNodeId=e,this.attDialogVisible=!0},saveGoryInfo:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return t.$message({type:"error",message:"编辑信息失败!"}),!1;t.isEdit=!1,t.editText="编辑品类信息";e=JSON.parse(i()(t.form));Object(s.a)({url:"/producttype/edit",method:"post",data:e}).then(function(e){t.isEdit=!1,setTimeout(function(){t.$message({type:"success",message:"保存成功!"})},1e3)}).catch(function(e){t.$message({type:"error",message:e.msg})})})},handleDelEvent:function(){var e=this;this.$confirm("删除后，厂商将无法再进行该品类的开发合作，确认请继续","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delectGroy()}).catch(function(){})},handleBackEvent:function(){var e=this;this.isEdit?this.$confirm("是否确认返回? 所修改的信息将不会被保存!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getTypeInfo(),e.isEdit=!1,e.editText="编辑品类信息"}).catch(function(){}):this.$router.push({path:"/typeManagement/existedCategory"})},addTechnical:function(){},getAttr:function(e){},closeAttrDialog:function(){this.attDialogVisible=!1,this.selectNodeId=""},getTech:function(e){var t=this;Object(s.a)({url:"producttype/technologyadd",method:"post",data:e}).then(function(e){t.$message({type:"success",message:"添加方案成功！"}),t.getTechList(1),t.getTechList(2),t.getTechList(3)}).catch(function(e){t.$message({type:"error",message:e.msg})})},toDetai:function(e){this.$router.push({path:"/productManagement/onlineProductDetail",query:{product_id:e}})},getTechList:function(t){var a=this;Object(s.a)({url:"producttype/technologylists",method:"post",data:{token:Object(r.b)(),type_id:this.typeid,technology_type:t}}).then(function(e){switch(t){case 1:a.technical_wifi=e.list;break;case 2:a.technical_zigbee=e.list;break;case 3:a.technical_bluetooth=e.list}}).catch(function(e){a.$message({type:"error",message:e.msg})})},spanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex),l=e.columnIndex,e=this.spanMap[t.nodeid];return 0==l||6==l?e?e.index==a?[e.len,1]:[0,0]:[1,1]:1==l&&e&&e.children[t.key]?e.children[t.key].index==a?[e.children[t.key].len,1]:[0,0]:[1,1]},arrayWifiSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex)return 0===t?{rowspan:this.technical_wifi.length,colspan:1}:{rowspan:0,colspan:0}},arrayBlueToothSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex)return 0===t?{rowspan:this.technical_bluetooth.length,colspan:1}:{rowspan:0,colspan:0}},arrayZigbeeSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex)return 0===t?{rowspan:this.technical_zigbee.length,colspan:1}:{rowspan:0,colspan:0}}},components:{addTechnical:o.default,addAttribute:l.default}},l={render:function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("div",{staticClass:"app-container calendar-list-container"},[l("el-row",{attrs:{gutter:30}},[l("el-col",{attrs:{span:24}},[l("el-button",{attrs:{type:"ghost"},on:{click:a.handleBackEvent}},[a._v("返回")]),a._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:a.editGory}},[a._v(a._s(a.editText))]),a._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:!a.isEdit,expression:"!isEdit"}],attrs:{type:"danger"},on:{click:a.handleDelEvent}},[a._v("删除该品类")])],1),a._v(" "),l("el-col",{staticStyle:{margin:"20px 0px","padding-bottom":"40px"},attrs:{span:24}},[l("el-tabs",{attrs:{type:"border-card"}},[l("el-tab-pane",{attrs:{label:"基本信息"}},[l("el-col",{attrs:{span:24}},[l("el-form",{ref:"ruleForm",staticStyle:{"margin-top":"20px"},attrs:{rules:a.rules,model:a.form,"label-width":"125px",size:"large"}},[l("el-form-item",{attrs:{label:"子品类ID",prop:"id"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{span:6,disabled:!a.isEdit||a.isEdit},model:{value:a.form.id,callback:function(e){a.$set(a.form,"id",e)},expression:"form.id"}})],1)],1),a._v(" "),l("el-form-item",{attrs:{label:"子品类名称",prop:"name"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{span:6,disabled:!a.isEdit},model:{value:a.form.name,callback:function(e){a.$set(a.form,"name",e)},expression:"form.name"}})],1)],1),a._v(" "),l("el-form-item",{attrs:{label:"子品类英文名",prop:"name_e"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{span:6,disabled:!a.isEdit},model:{value:a.form.name_e,callback:function(e){a.$set(a.form,"name_e",e)},expression:"form.name_e"}})],1)],1),a._v(" "),a.isEdit?l("el-form-item",{attrs:{label:"所属品类",prop:"parent_type_id"}},[l("el-col",{attrs:{span:12}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"所属品类",disabled:!a.isEdit},model:{value:a.form.parent_type_id,callback:function(e){a.$set(a.form,"parent_type_id",e)},expression:"form.parent_type_id"}},a._l(a.parentList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1):l("el-form-item",{attrs:{label:"所属品类",prop:"parent_type_name"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{span:6,disabled:!a.isEdit},model:{value:a.form.parent_type_name,callback:function(e){a.$set(a.form,"parent_type_name",e)},expression:"form.parent_type_name"}})],1)],1),a._v(" "),a.isLoadData?l("el-form-item",{attrs:{label:"品类图标"}},[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"fileuploadItem childCategory"},[l("el-upload",{staticClass:"avatar-uploader",class:a.isEdit?"":"disabled",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload,disabled:!a.isEdit,accept:"image/png",data:a.high_light_data}},[""!=a.form.icon_list.high_light?l("img",{staticClass:"avatar",attrs:{src:a.form.icon_list.high_light.file_url}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a._v(" "),l("span",{staticClass:"file_upload_img_des"},[a._v("高亮状态")])],1),a._v(" "),l("div",{staticClass:"fileuploadItem childCategory"},[l("el-upload",{staticClass:"avatar-uploader",class:a.isEdit?"":"disabled",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload,disabled:!a.isEdit,accept:"image/png",data:a.normal_s_data}},[""!=a.form.icon_list.normal_s?l("img",{staticClass:"avatar",attrs:{src:a.form.icon_list.normal_s.file_url}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a._v(" "),l("span",{staticClass:"file_upload_img_des"},[a._v("默认状态小尺寸")])],1),a._v(" "),l("div",{staticClass:"fileuploadItem childCategory"},[l("el-upload",{staticClass:"avatar-uploader",class:a.isEdit?"":"disabled",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload,disabled:!a.isEdit,accept:"image/png",data:a.normal_data}},[""!=a.form.icon_list.normal?l("img",{staticClass:"avatar",attrs:{src:a.form.icon_list.normal.file_url}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a._v(" "),l("span",{staticClass:"file_upload_img_des"},[a._v("默认状态大尺寸")])],1),a._v(" "),l("div",{staticClass:"fileuploadItem childCategory"},[l("el-upload",{staticClass:"avatar-uploader",class:a.isEdit?"":"disabled",attrs:{action:"/api/index.php/producttype/iconupload","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload,disabled:!a.isEdit,accept:"image/png",data:a.disabled_data}},[""!=a.form.icon_list.disabled?l("img",{staticClass:"avatar",attrs:{src:a.form.icon_list.disabled.file_url}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a._v(" "),l("span",{staticClass:"file_upload_img_des"},[a._v("不可用状态")])],1)])],1):a._e()],1)],1)],1),a._v(" "),l("el-tab-pane",{attrs:{label:"功能属性"}},[l("el-col",{attrs:{span:24}},[[l("el-button",{directives:[{name:"show",rawName:"v-show",value:a.isEdit,expression:"isEdit"}],on:{click:function(e){a.attDialogVisible=!0}}},[a._v("添加功能属性")]),a._v(" "),l("addAttribute",{attrs:{visible:a.attDialogVisible,attrid:a.selectNodeId,typeid:a.typeid,token:a.token},on:{"close-dialog":a.closeAttrDialog,"fresh-list":a.getAttributeList}}),a._v(" "),l("el-table",{staticClass:"attribt_table",staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:a.attr_list,border:"",stripe:"","span-method":a.spanMethod}},[l("el-table-column",{attrs:{prop:"nodeid",label:"Node_ID",width:"150",align:"center"}}),a._v(" "),l("el-table-column",{attrs:{label:"key",align:"center",width:"150",prop:"key"}}),a._v(" "),l("el-table-column",{attrs:{label:"method",align:"center",width:"150",prop:"method_string"}}),a._v(" "),l("el-table-column",{attrs:{label:"Type",align:"center",width:"100",prop:"type"}}),a._v(" "),l("el-table-column",{attrs:{label:"value",align:"center",width:"250",prop:"origin_value_string"}}),a._v(" "),l("el-table-column",{attrs:{label:"Remark",prop:"remark",align:"center"}}),a._v(" "),a.isEdit?l("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[l("i",{staticClass:"el-icon-delete",attrs:{title:"删除属性"},on:{click:function(e){a.delProperty(t.row.attr_id)}}}),a._v(" "),l("i",{staticClass:"el-icon-edit-outline",attrs:{title:"编辑属性"},on:{click:function(e){a.editProperty(t.row.attr_id)}}})]}}])}):a._e()],1)]],2)],1),a._v(" "),l("el-tab-pane",{attrs:{label:"关联产品"}},[l("el-col",{attrs:{span:24}},[[l("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:a.device_list,border:"",stripe:""}},[l("el-table-column",{attrs:{label:"品牌",align:"center",prop:"brand_name"}}),a._v(" "),l("el-table-column",{attrs:{label:"型号",align:"center",prop:"model"}}),a._v(" "),l("el-table-column",{attrs:{label:"厂商",align:"center",prop:"business_name"}}),a._v(" "),l("el-table-column",{attrs:{label:"版本信息",align:"center"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                                        "+a._s(e.row.version_no_H5?"H5控制页版本"+e.row.version_no_H5:"")+a._s(" 固件版本"+e.row.version_no_firmware)+"\n                                    ")]}}])}),a._v(" "),l("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at"}}),a._v(" "),l("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.is_online?l("el-button",{attrs:{size:"mini",type:"primary",align:"center"},on:{click:function(e){a.toDetai(t.row.product_id)}}},[a._v("进入详情")]):a._e()]}}])})],1)]],2)],1)],1)],1)],1)],1)},staticRenderFns:[]};l=a("C7Lr")(o,l,!1,function(e){a("MYtr")},null,null),t.default=l.exports},MYtr:function(e,t,a){var l=a("Ml86");(l="string"==typeof l?[[e.i,l,""]]:l).locals&&(e.exports=l.locals);a("8bSs")("97535fd4",l,!0)},Ml86:function(e,t,a){(e.exports=a("BkJT")(!0)).push([e.i,".el-form-item__error{padding:5px 15px}.attribt_table .el-table__body-wrapper{overflow-y:scroll}.el-table__body-wrapper{overflow:hidden}.cell-column-no-padding,.cell-column-no-padding .cell{padding:0!important}.hasMoreList,.hasMoreList .inner-cell-td{border-bottom:1px solid #ddd}.hasMoreList .inner-cell-td{text-align:center}.cell span:last-child .hasNoMoreList,.hasMoreList .inner-cell-td:last-child{border-bottom:none}.cell-td{vertical-align:middle;padding:15px 20px;margin:0;border-bottom:1px solid #ddd;overflow:hidden;text-overflow:ellipsis;word-break:break-word;white-space:nowrap;-o-text-overflow:ellipsis}.technicalTabel .cell .cell-td:last-child{border-bottom:none}.cell-td.paddl20{padding-left:20px}.option{text-indent:0!important}.el-table th>.cell{position:relative;word-wrap:normal;text-overflow:ellipsis;vertical-align:middle;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.childCategory .avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.childCategory .avatar-uploader .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:22px;color:#8c939d;width:110px;height:110px;line-height:110px;text-align:center}.avatar-uploader{display:inline-block;margin-right:15px}.avatar-uploader:last-child{margin-right:0}.avatar{width:110px;height:110px;display:block}.line25 .el-form-item__label{line-height:25px}.el-icon-delete,.el-icon-edit-outline{cursor:pointer;color:#409eff;font-size:16px;font-weight:700}.fileuploadItem{display:table-cell;position:relative}.fileuploadItem .disabled .el-upload{background-color:#f5f7fa;cursor:not-allowed}.fileuploadItem:last-child .avatar-uploader{margin-right:0!important}.fileuploadItem .file_upload_img_des{position:absolute;top:109px;text-align:center;color:#999;font-size:12px;left:57px;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:110px}.el-tooltip__popper{max-width:300px}.attDialog .el-dialog__body{overflow-y:auto;max-height:550px;padding-top:10px;padding-bottom:0}.attDialog .el-dialog__header{border-bottom:1px solid #d8dce5}.attDialog .el-form-item{margin-bottom:17px}.pl8 .el-form-item__label{padding-left:10px}.attDialog .el-dialog--center .el-dialog__header{padding-top:15px}.attDialog .el-input__inner{height:32px}.attDialog .el-form-item__content,.attDialog .el-form-item__label{line-height:32px}","",{version:3,sources:["E:/workespace/PomeloHomeOpen_Sys/src/views/typeManagement/categoryDetail.vue"],names:[],mappings:"AACA,qBACI,gBAAkB,CACrB,AACD,uCACI,iBAAmB,CACtB,AACD,wBACI,eAAiB,CACpB,AAID,sDACI,mBAAwB,CAC3B,AAMD,yCAFI,4BAA8B,CAMjC,AAJD,4BAEI,iBAAmB,CAEtB,AAID,4EACI,kBAAoB,CACvB,AACD,SACI,sBAAuB,AACvB,kBAAmB,AACnB,SAAY,AACZ,6BAA8B,AAC9B,gBAAiB,AACjB,uBAAwB,AAExB,sBAAuB,AACvB,mBAAoB,AACpB,yBAA2B,CAC9B,AACD,0CACI,kBAAoB,CACvB,AAID,iBACI,iBAAmB,CACtB,AACD,QACI,uBAA4B,CAC/B,AAKD,mBACI,kBAAmB,AACnB,iBAAkB,AAClB,uBAAwB,AACxB,sBAAuB,AACvB,WAAY,AACZ,8BAA+B,AACvB,qBAAuB,CAClC,AACD,2CACI,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CACpB,AACD,iDACI,oBAAsB,CACzB,AACD,sBACI,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACtB,AACD,iBACI,qBAAsB,AACtB,iBAAmB,CACtB,AACD,4BACI,cAAkB,CACrB,AACD,QACI,YAAa,AACb,aAAc,AACd,aAAe,CAClB,AACD,6BACI,gBAAkB,CACrB,AACD,sCACI,eAAgB,AAChB,cAAe,AACf,eAAgB,AAChB,eAAkB,CACrB,AACD,gBACI,mBAAoB,AACpB,iBAAmB,CACtB,AACD,qCACI,yBAA0B,AAC1B,kBAAoB,CACvB,AACD,4CACI,wBAA6B,CAChC,AACD,qCACI,kBAAmB,AACnB,UAAW,AACX,kBAAmB,AACnB,WAAY,AACZ,eAAgB,AAChB,UAAW,AACX,mCAAoC,AAC5B,2BAA4B,AACpC,WAAa,CAChB,AACD,oBACI,eAAiB,CACpB,AACD,4BACI,gBAAiB,AACjB,iBAAkB,AAClB,iBAAkB,AAClB,gBAAkB,CACrB,AACD,8BACI,+BAAiC,CACpC,AACD,yBACI,kBAAoB,CACvB,AACD,0BACI,iBAAmB,CACtB,AACD,iDAAiD,gBAAkB,CAClE,AACD,4BACI,WAAa,CAChB,AACD,kEACI,gBAAkB,CACrB",file:"categoryDetail.vue",sourcesContent:["\n.el-form-item__error{\n    padding: 5px 15px;\n}\n.attribt_table .el-table__body-wrapper {\n    overflow-y: scroll;\n}\n.el-table__body-wrapper {\n    overflow: hidden;\n}\n.cell-column-no-padding {\n    padding: 0px !important;\n}\n.cell-column-no-padding .cell {\n    padding: 0px !important;\n}\n.hasMoreList {\n    /*height: 55px!important;*/\n    /*max-height: 55px;*/\n    border-bottom: 1px #ddd solid;\n}\n.hasMoreList .inner-cell-td {\n    border-bottom: 1px #ddd solid;\n    text-align: center;\n    /*padding: 15px 20px;*/\n}\n.hasMoreList .inner-cell-td:last-child {\n    border-bottom: none;\n}\n.cell span:last-child .hasNoMoreList {\n    border-bottom: none;\n}\n.cell-td {\n    vertical-align: middle;\n    padding: 15px 20px;\n    margin: 0px;\n    border-bottom: 1px #ddd solid;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    word-break: break-word;\n    white-space: nowrap;\n    -o-text-overflow: ellipsis;\n}\n.technicalTabel .cell .cell-td:last-child{\n    border-bottom: none;\n}\n/*.cell-td.no-border-bottom{*/\n/*border-bottom: none;*/\n/*}*/\n.cell-td.paddl20 {\n    padding-left: 20px;\n}\n.option {\n    text-indent: 0px !important;\n}\n\n/*.cell .cell-td:last-child{*/\n/*border-bottom: none!important;*/\n/*}*/\n.el-table th > .cell {\n    position: relative;\n    word-wrap: normal;\n    text-overflow: ellipsis;\n    vertical-align: middle;\n    width: 100%;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.childCategory .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.childCategory .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n}\n.avatar-uploader-icon {\n    font-size: 22px;\n    color: #8c939d;\n    width: 110px;\n    height: 110px;\n    line-height: 110px;\n    text-align: center;\n}\n.avatar-uploader {\n    display: inline-block;\n    margin-right: 15px;\n}\n.avatar-uploader:last-child {\n    margin-right: 0px;\n}\n.avatar {\n    width: 110px;\n    height: 110px;\n    display: block;\n}\n.line25 .el-form-item__label {\n    line-height: 25px;\n}\n.el-icon-delete,.el-icon-edit-outline {\n    cursor: pointer;\n    color: #409EFF;\n    font-size: 16px;\n    font-weight: bold;\n}\n.fileuploadItem {\n    display: table-cell;\n    position: relative;\n}\n.fileuploadItem .disabled .el-upload {\n    background-color: #f5f7fa;\n    cursor: not-allowed;\n}\n.fileuploadItem:last-child .avatar-uploader {\n    margin-right: 0px !important;\n}\n.fileuploadItem .file_upload_img_des {\n    position: absolute;\n    top: 109px;\n    text-align: center;\n    color: #999;\n    font-size: 12px;\n    left: 57px;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%);\n    width: 110px;\n}\n.el-tooltip__popper {\n    max-width: 300px;\n}\n.attDialog .el-dialog__body{\n    overflow-y: auto;\n    max-height: 550px;\n    padding-top: 10px;\n    padding-bottom: 0;\n}\n.attDialog .el-dialog__header{\n    border-bottom: 1px solid #d8dce5;\n}\n.attDialog .el-form-item {\n    margin-bottom: 17px;\n}\n.pl8 .el-form-item__label{\n    padding-left: 10px;\n}\n.attDialog .el-dialog--center .el-dialog__header{padding-top: 15px;\n}\n.attDialog .el-input__inner{\n    height: 32px;\n}\n.attDialog .el-form-item__content,.attDialog .el-form-item__label{\n    line-height: 32px;\n}\n"],sourceRoot:""}])},QJwN:function(e,t,a){(e.exports=a("BkJT")(!0)).push([e.i,".addParams[data-v-15d1ac78]{margin-top:15px}.addAttr[data-v-15d1ac78]{margin-left:140px;color:#409eff}.w100p[data-v-15d1ac78]{width:100%}.w50p[data-v-15d1ac78]{width:50%}.input-width[data-v-15d1ac78]{width:285px}.addbtn[data-v-15d1ac78]{font-size:12px;color:#409eff}.first-item[data-v-15d1ac78],.sec-item[data-v-15d1ac78]{border:1px dashed #d2d2d2;padding-top:15px}.sec-item[data-v-15d1ac78]{width:98%}.mt0[data-v-15d1ac78]{margin-bottom:0}.pl8 .el-form-item__label[data-v-15d1ac78]{padding-left:10px}","",{version:3,sources:["E:/workespace/PomeloHomeOpen_Sys/src/views/typeManagement/addAttribute.vue"],names:[],mappings:"AACA,4BACI,eAAiB,CACpB,AACD,0BACI,kBAAmB,AACnB,aAAe,CAClB,AACD,wBACI,UAAY,CACf,AACD,uBACI,SAAW,CACd,AACD,8BACI,WAAa,CAChB,AACD,yBACI,eAAgB,AAChB,aAAc,CACjB,AAKD,wDAHI,0BAA2B,AAC3B,gBAAkB,CAMrB,AAJD,2BAGI,SAAW,CACd,AACD,sBACI,eAAiB,CACpB,AACD,2CACI,iBAAmB,CACtB",file:"addAttribute.vue",sourcesContent:["\n.addParams[data-v-15d1ac78]{\n    margin-top: 15px;\n}\n.addAttr[data-v-15d1ac78]{\n    margin-left: 140px;\n    color: #409EFF;\n}\n.w100p[data-v-15d1ac78]{\n    width: 100%;\n}\n.w50p[data-v-15d1ac78]{\n    width: 50%;\n}\n.input-width[data-v-15d1ac78]{\n    width: 285px;\n}\n.addbtn[data-v-15d1ac78]{\n    font-size: 12px;\n    color:#409EFF;\n}\n.first-item[data-v-15d1ac78]{\n    border: 1px dashed #d2d2d2;\n    padding-top: 15px;\n}\n.sec-item[data-v-15d1ac78]{\n    border: 1px dashed #d2d2d2;\n    padding-top: 15px;\n    width: 98%;\n}\n.mt0[data-v-15d1ac78]{\n    margin-bottom: 0;\n}\n.pl8 .el-form-item__label[data-v-15d1ac78]{\n    padding-left: 10px;\n}\n"],sourceRoot:""}])},bFNI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=[{technology_type:"",index:0,vendor:"",model:"",agreement:""},{technology_type:"",index:1,vendor:"",model:"",agreement:""}],i={computed:{},created:function(){},mounted:function(){},data:function(){return{dialogFormVisible:!1,form:{technology_list:[{technology_type:"",index:0,vendor:"",model:"",agreement:""},{technology_type:"",index:1,vendor:"",model:"",agreement:""}]}}},methods:{addTechnicalList:function(){this.form.technology_list.push({technology_type:"",vendor:"",model:"",agreement:""})},removeTechnicalList:function(e){this.form.technology_list.splice(e,1)},confirmTechnical:function(){var t=this;this.$refs.techniForm.validate(function(e){var a;e&&(a=[],t.form.technology_list.forEach(function(e,t){""!=e.technology_type&&(1==e.technology_type?a.push({technology_type:e.technology_type,vendor:e.vendor,model:e.model}):a.push({technology_type:e.technology_type,agreement:e.agreement}))}),t.$emit("get-data",{technology_list:a}),t.dialogFormVisible=!1,t.form.technology_list=l)})}}},o={render:function(){var l=this,e=l.$createElement,i=l._self._c||e;return i("div",{staticStyle:{display:"inline-block"}},[i("el-dialog",{attrs:{title:"增加技术方案",visible:l.dialogFormVisible,width:"50%","custom-class":"addTechDialog"},on:{"update:visible":function(e){l.dialogFormVisible=e}}},[i("el-form",{ref:"techniForm",attrs:{model:l.form,inline:!0,"label-position":"top"}},l._l(l.form.technology_list,function(t,a){return i("el-row",{key:t.value,attrs:{span:24}},[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"技术方案",prop:"technology_list."+a+".technology_type",rules:[{required:!0,message:"技术方案不能为空",trigger:"change"}]}},[i("el-select",{attrs:{placeholder:"请选择技术方案"},model:{value:t.technology_type,callback:function(e){l.$set(t,"technology_type",e)},expression:"item.technology_type"}},[i("el-option",{attrs:{label:"Wi-Fi方案",value:"1"}}),l._v(" "),i("el-option",{attrs:{label:"ZigBee方案",value:"2"}}),l._v(" "),i("el-option",{attrs:{label:"蓝牙方案",value:"3"}})],1)],1)],1),l._v(" "),1==t.technology_type?i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"模组/芯片厂家",prop:"technology_list."+a+".vendor",rules:[{required:!0,message:"模组/芯片厂家不能为空",trigger:"blur"}]}},[i("el-input",{model:{value:t.vendor,callback:function(e){l.$set(t,"vendor",e)},expression:"item.vendor"}})],1)],1):l._e(),l._v(" "),1==t.technology_type?i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"模组/芯片型号",prop:"technology_list."+a+".model",rules:[{required:!0,message:"模组/芯片型号不能为空",trigger:"blur"}]}},[i("el-input",{model:{value:t.model,callback:function(e){l.$set(t,"model",e)},expression:"item.model"}})],1)],1):l._e(),l._v(" "),2==t.technology_type||3==t.technology_type?i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"协议",prop:"technology_list."+a+".agreement",rules:[{required:!0,message:"协议不能为空",trigger:"blur"}]}},[i("el-input",{model:{value:t.agreement,callback:function(e){l.$set(t,"agreement",e)},expression:"item.agreement"}})],1)],1):l._e(),l._v(" "),i("el-col",{attrs:{span:3}},[i("el-form-item",{attrs:{label:" "}},[1<l.form.technology_list.length?i("i",{staticClass:"el-icon-circle-close remove-item",on:{click:function(e){l.removeTechnicalList(a)}}}):l._e()])],1)],1)})),l._v(" "),i("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:l.addTechnicalList}},[i("i",{staticClass:"el-icon-plus"}),l._v(" 添加更多技术方案")]),l._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){l.dialogFormVisible=!1}}},[l._v("取 消")]),l._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:l.confirmTechnical}},[l._v("确 定")])],1)],1),l._v(" "),i("el-button",{staticStyle:{"margin-right":"15px"},on:{click:function(e){l.dialogFormVisible=!0}}},[l._v("添加技术方案")])],1)},staticRenderFns:[]};o=a("C7Lr")(i,o,!1,function(e){a("mLzr")},"data-v-15eb2cf1",null),t.default=o.exports},c93N:function(e,t,a){var l=a("QJwN");(l="string"==typeof l?[[e.i,l,""]]:l).locals&&(e.exports=l.locals);a("8bSs")("786f91e6",l,!0)},i224:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("3cXf"),i=a.n(l),o=a("Vo7i"),n=(a("TIfe"),{method:[],key:"",type:"string",key_type:1,unit:"",is_checkbox:"1",value_list:[{value:"",value_des:""}],remark:""}),s={method:[],key:"",type:"string",key_type:1,remark:"",unit:"",is_checkbox:"1",value_list:[{value:"",value_des:""}],list:[n]},r={props:["typeid","token","visible","attrid"],data:function(){var e=i()(s);return{top:0<window.innerHeight-660?(window.innerHeight-660)/2+"px":"0px",dialogTitle:"新建属性参数",hulian_value:!0,isChooseObject:!1,form_string:e,form:{token:this.token,type_id:this.typeid,nodeid:"",is_default:1,value_list:[JSON.parse(e)]},rules:{nodeid:[{required:!0,message:"属性名称不能为空"},{min:1,max:32,message:"属性名称最多32个字符"},{validator:this.letterAndUnderscode}]}}},computed:{},watch:{attrid:function(e){e?(this.getAttr(e),this.dialogTitle="编辑属性参数"):this.dialogTitle="新建属性参数"}},created:function(){},mounted:function(){},methods:{getAttr:function(e){var t=this;Object(o.a)({url:"/attribute/info",method:"post",data:{attr_id:e}}).then(function(e){t.form.nodeid=e.ret.nodeid,t.form.is_default=e.ret.is_default,e.ret.value_list.forEach(function(e){e.list||(e.list=[JSON.parse(i()(n))]),e.value_list||(e.value_list=[{value:"",value_des:""}])}),t.form.value_list=e.ret.value_list})},addParams:function(){this.form.value_list.push(JSON.parse(this.form_string))},deleteParams:function(e){this.form.value_list.splice(e,1)},addAttribute:function(e){var t=i()(n);e.list.push(JSON.parse(t))},deleteAttr:function(e,t){e.list.splice(t,1)},changeTypeValue:function(e,t){"int"==e?(t.key_type=2,t.value_list=[{value:1,value_des:"类型"},{value:"",value_des:"最小值"},{value:"",value_des:"最大值"}]):"object"==e?t.key_type=3:(t.key_type="otc"==e?4:1,t.value_list=[{value:"",value_des:""}])},addEnumerateItem:function(e){e.value_list.push({value:"",value_des:""})},delEnumerateItem:function(e,t){t.value_list.splice(e,1)},closeDialog:function(){this.$refs.attForm.resetFields(),this.form.value_list=[JSON.parse(this.form_string)],this.$emit("close-dialog")},confirmTechnical:function(){var t=this;this.$refs.attForm.validate(function(e){e&&(e=i()(t.form),(e=JSON.parse(e)).value_list.forEach(function(e){"3"==e.key_type?(delete e.value_list,delete e.is_checkbox,e.list.forEach(function(e){"1"!=e.key_type&&delete e.is_checkbox})):(delete e.list,"1"!=e.key_type&&delete e.is_checkbox)}),t.attrid&&(e.attr_id=t.attrid),Object(o.a)({url:t.attrid?"/attribute/edit":"/attribute/add",method:"post",data:e}).then(function(e){t.$emit("fresh-list"),t.closeDialog()}))})},letterAndUnderscode:function(e,t,a){var l=!0;if(t){for(var i=0;i<t.length;i++){var o=t.charCodeAt(i);if(!(65<=o&&o<=90||97<=o&&o<=122||95==o||33<=o&&o<=46||48<=o&&o<=57)){l=!1,a("只能是字母下划线");break}}l&&a()}else a()},unCN:function(e,t,a){/[\u4e00-\u9fa5]+/g.test(t)?a("不支持中文汉字"):a()},lengthLimit:function(e,t,a,l){a&&a.length>e?l("长度不能超过"+e+"字符"):l()}}},l={render:function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",{staticClass:"attDialog"},[r("el-dialog",{attrs:{"before-close":s.closeDialog,top:s.top,center:!0,title:s.dialogTitle,visible:s.visible,width:"1000px"},on:{"update:visible":function(e){s.visible=e}}},[r("el-form",{ref:"attForm",attrs:{inline:!0,rules:s.rules,model:s.form,"label-position":"left","label-width":"140px"}},[r("el-row",[r("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:2}},[s._v("\n          属性信息\n        ")]),s._v(" "),r("el-col",{attrs:{span:22}},[r("el-form-item",{staticClass:"w100p",attrs:{label:"属性名称(node_ID)",prop:"nodeid"}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:s.form.nodeid,callback:function(e){s.$set(s.form,"nodeid",e)},expression:"form.nodeid"}})],1),s._v(" "),r("el-form-item",{staticClass:"w100p pl8",attrs:{label:"  是否为必选"}},[r("el-radio-group",{model:{value:s.form.is_default,callback:function(e){s.$set(s.form,"is_default",e)},expression:"form.is_default"}},[r("el-radio",{attrs:{label:1}},[s._v("必选")]),s._v(" "),r("el-radio",{attrs:{label:0}},[s._v("非必选")])],1)],1)],1)],1),s._v(" "),s._l(s.form.value_list,function(o,n){return r("el-row",{key:n,staticClass:"first-item"},[r("div",[r("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:2}},[s._v("\n            参数信息\n          ")]),s._v(" "),r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"value_list."+n+".key",rules:[{required:!0,message:"参数名称不能为空"},{min:1,max:32,message:"参数名称最多32个字符"},{validator:s.letterAndUnderscode}],label:"参数名称(key)"}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:o.key,callback:function(e){s.$set(o,"key",e)},expression:"paramKey.key"}})],1),s._v(" "),r("el-form-item",{attrs:{inline:!0,prop:"value_list."+n+".remark",rules:[{required:!0,message:"参数含义不能为空"}],label:"参数含义","label-width":"100px"}},[r("el-input",{staticClass:"input-width",model:{value:o.remark,callback:function(e){s.$set(o,"remark",e)},expression:"paramKey.remark"}})],1),s._v(" "),r("el-form-item",{staticClass:"w50p pl8",attrs:{prop:"value_list."+n+".unit",rules:[{validator:s.lengthLimit.bind(null,16)}],label:"单位"}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"支持中英文、特殊字符，最多16个字符"},model:{value:o.unit,callback:function(e){s.$set(o,"unit",e)},expression:"paramKey.unit"}})],1),s._v(" "),r("el-form-item",{staticClass:"w100p",attrs:{prop:"value_list."+n+".method",rules:[{required:!0,message:"参数可控不能为空"}],label:"参数可控"}},[r("el-checkbox-group",{model:{value:o.method,callback:function(e){s.$set(o,"method",e)},expression:"paramKey.method"}},[r("el-checkbox",{attrs:{label:"set"}},[s._v("set")]),s._v(" "),r("el-checkbox",{attrs:{label:"get"}},[s._v("get")]),s._v(" "),r("el-checkbox",{attrs:{label:"report"}},[s._v("report")]),s._v(" "),r("el-checkbox",{attrs:{label:"alarm"}},[s._v("alarm")])],1)],1),s._v(" "),r("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值类型"}},[r("el-radio-group",{on:{change:function(e){s.changeTypeValue(e,o)}},model:{value:o.type,callback:function(e){s.$set(o,"type",e)},expression:"paramKey.type"}},[r("el-radio",{attrs:{label:"string"}},[s._v("string")]),s._v(" "),r("el-radio",{attrs:{label:"int"}},[s._v("int")]),s._v(" "),r("el-radio",{attrs:{label:"object"}},[s._v("object")]),s._v(" "),r("el-radio",{attrs:{label:"float"}},[s._v("float")]),s._v(" "),r("el-radio",{attrs:{label:"array"}},[s._v("array")]),s._v(" "),r("el-radio",{attrs:{label:"bool"}},[s._v("bool")]),s._v(" "),r("el-radio",{attrs:{label:"otc"}},[s._v("otc")])],1)],1),s._v(" "),0<=["string","float","array","bool"].indexOf(o.type)?r("el-form-item",{staticClass:"w100p pl8",attrs:{label:"复选/单选"}},[r("el-radio-group",{model:{value:o.is_checkbox,callback:function(e){s.$set(o,"is_checkbox",e)},expression:"paramKey.is_checkbox"}},[r("el-radio",{attrs:{label:"1"}},[s._v("复选")]),s._v(" "),r("el-radio",{attrs:{label:"0"}},[s._v("单选")])],1)],1):s._e(),s._v(" "),"otc"==o.type?r("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值"}},[r("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"数据说明"},model:{value:o.value_list[0].value_des,callback:function(e){s.$set(o.value_list[0],"value_des",e)},expression:"paramKey.value_list[0].value_des"}}),s._v(" "),r("span",[s._v("数据由厂商端输入")])],1):s._e(),s._v(" "),1==o.key_type?[r("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"枚举参数值"}},[r("el-form-item",{attrs:{label:"数据说明","label-width":"290px"}}),s._v(" "),r("el-form-item",{attrs:{label:"传送数据","label-width":"290px"}}),s._v(" "),r("el-form-item",{attrs:{label:"操作","label-width":"85px"}})],1),s._v(" "),s._l(o.value_list,function(t,a){return r("el-form-item",{key:a,staticClass:"w100p mt0",attrs:{label:" "}},[r("el-form-item",{attrs:{prop:"value_list."+n+".value_list."+a+".value_des",rules:[{validator:s.lengthLimit.bind(null,64)}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"最多64个字符"},model:{value:t.value_des,callback:function(e){s.$set(t,"value_des",e)},expression:"valueItem.value_des"}})],1),s._v(" "),r("el-form-item",{attrs:{prop:"value_list."+n+".value_list."+a+".value",rules:[{validator:s.lengthLimit.bind(null,32)},{validator:s.unCN}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"字母数字符号，最多32个字符"},model:{value:t.value,callback:function(e){s.$set(t,"value",e)},expression:"valueItem.value"}})],1),s._v(" "),0<a?r("el-form-item",{staticStyle:{"padding-left":"25px"},attrs:{label:""}},[r("i",{staticClass:"el-icon-delete",on:{click:function(e){s.delEnumerateItem(a,o)}}})]):s._e()],1)}),s._v(" "),r("el-form-item",{staticClass:"w100p",attrs:{label:" "},scopedSlots:s._u([{key:"default",fn:function(e){return[r("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:function(e){s.addEnumerateItem(o)}}},[r("i",{staticClass:"el-icon-plus"}),s._v(" 添加更多参数值\n                  ")])]}}])})]:s._e(),s._v(" "),2==o.key_type?r("div",[r("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"参数范围值"}},[o.value_list[1]?r("el-form-item",{attrs:{prop:"value_list."+n+".value_list.1.value",rules:[{required:!0,message:"最小值不能为空"},{type:"number",message:"最小值为数字"}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最小值"},model:{value:o.value_list[1].value,callback:function(e){s.$set(o.value_list[1],"value",s._n(e))},expression:"paramKey.value_list[1].value"}})],1):s._e(),s._v(" "),o.value_list[2]?r("el-form-item",{attrs:{prop:"value_list."+n+".value_list.2.value",rules:[{required:!0,message:"最大值不能为空"},{type:"number",message:"最大值为数字"}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最大值"},model:{value:o.value_list[2].value,callback:function(e){s.$set(o.value_list[2],"value",s._n(e))},expression:"paramKey.value_list[2].value"}})],1):s._e()],1)],1):s._e(),s._v(" "),3==o.key_type?[s._l(o.list,function(l,i){return r("div",{key:i,staticClass:"sec-item"},[r("el-form-item",{attrs:{prop:"value_list."+n+".list."+i+".key",rules:[{required:!0,message:"参数名称不能为空"},{min:1,max:32,message:"参数名称最多32个字符"},{validator:s.letterAndUnderscode}],label:"参数名称(key)"}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"仅支持字母、下划线输入，最多32个字符"},model:{value:l.key,callback:function(e){s.$set(l,"key",e)},expression:"em.key"}})],1),s._v(" "),r("el-form-item",{attrs:{prop:"value_list."+n+".list."+i+".remark",rules:[{required:!0,message:"参数含义不能为空"}],label:"参数含义","label-width":"100px"}},[r("el-input",{staticClass:"input-width",model:{value:l.remark,callback:function(e){s.$set(l,"remark",e)},expression:"em.remark"}})],1),s._v(" "),r("el-form-item",{staticClass:"pl8",attrs:{prop:"value_list."+n+".list."+i+".unit",rules:[{validator:s.lengthLimit.bind(null,16)}],label:"单位"}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"支持中英文、特殊字符，最多16个字符"},model:{value:l.unit,callback:function(e){s.$set(l,"unit",e)},expression:"em.unit"}})],1),s._v(" "),r("el-form-item",{staticClass:"w100p",attrs:{prop:"value_list."+n+".list."+i+".method",rules:[{required:!0,message:"参数可控不能为空"}],label:"参数可控"}},[r("el-checkbox-group",{model:{value:l.method,callback:function(e){s.$set(l,"method",e)},expression:"em.method"}},[r("el-checkbox",{attrs:{label:"set"}},[s._v("set")]),s._v(" "),r("el-checkbox",{attrs:{label:"get"}},[s._v("get")]),s._v(" "),r("el-checkbox",{attrs:{label:"report"}},[s._v("report")]),s._v(" "),r("el-checkbox",{attrs:{label:"alarm"}},[s._v("alarm")])],1)],1),s._v(" "),r("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值类型"}},[r("el-radio-group",{on:{change:function(e){s.changeTypeValue(e,l)}},model:{value:l.type,callback:function(e){s.$set(l,"type",e)},expression:"em.type"}},[r("el-radio",{attrs:{label:"string"}},[s._v("string")]),s._v(" "),r("el-radio",{attrs:{label:"int"}},[s._v("int")]),s._v(" "),r("el-radio",{attrs:{label:"float"}},[s._v("float")]),s._v(" "),r("el-radio",{attrs:{label:"array"}},[s._v("array")]),s._v(" "),r("el-radio",{attrs:{label:"bool"}},[s._v("bool")]),s._v(" "),r("el-radio",{attrs:{label:"otc"}},[s._v("otc")])],1)],1),s._v(" "),r("el-form-item",{staticClass:"w100p pl8",attrs:{label:"复选/单选"}},[0<=["string","float","array","bool"].indexOf(l.type)?r("el-radio-group",{model:{value:l.is_checkbox,callback:function(e){s.$set(l,"is_checkbox",e)},expression:"em.is_checkbox"}},[r("el-radio",{attrs:{label:"1"}},[s._v("复选")]),s._v(" "),r("el-radio",{attrs:{label:"0"}},[s._v("单选")])],1):s._e()],1),s._v(" "),"otc"==l.type?r("el-form-item",{staticClass:"w100p pl8",attrs:{label:"参数值"}},[r("el-input",{staticStyle:{width:"50%"},model:{value:l.value_list[0].value_des,callback:function(e){s.$set(l.value_list[0],"value_des",e)},expression:"em.value_list[0].value_des"}}),s._v(" "),r("span",[s._v("数据由厂商端输入")])],1):s._e(),s._v(" "),1==l.key_type?[r("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"枚举参数值"}},[r("el-form-item",{attrs:{label:"参数名称(key)","label-width":"290px"}}),s._v(" "),r("el-form-item",{attrs:{label:"传送数据","label-width":"290px"}}),s._v(" "),r("el-form-item",{attrs:{label:"操作","label-width":"60px"}})],1),s._v(" "),s._l(l.value_list,function(t,a){return r("el-form-item",{key:a,staticClass:"w100p mt0",attrs:{label:" "}},[r("el-form-item",{attrs:{prop:"value_list."+n+".list."+i+".value_list."+a+".value_des",rules:[{validator:s.lengthLimit.bind(null,64)}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"最多64个字符"},model:{value:t.value_des,callback:function(e){s.$set(t,"value_des",e)},expression:"vi.value_des"}})],1),s._v(" "),r("el-form-item",{attrs:{prop:"value_list."+n+".list."+i+".value_list."+a+".value",rules:[{validator:s.lengthLimit.bind(null,32)},{validator:s.unCN}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"字母数字符号，最多32个字符"},model:{value:t.value,callback:function(e){s.$set(t,"value",e)},expression:"vi.value"}})],1),s._v(" "),0<a?r("el-form-item",{staticStyle:{"padding-left":"25px"},attrs:{label:""}},[r("i",{staticClass:"el-icon-delete",on:{click:function(e){s.delEnumerateItem(a,l)}}})]):s._e()],1)}),s._v(" "),r("el-form-item",{staticClass:"w100p",attrs:{label:" "},scopedSlots:s._u([{key:"default",fn:function(e){return[r("a",{staticClass:"addbtn",attrs:{href:"javascript:void(0);"},on:{click:function(e){s.addEnumerateItem(l)}}},[r("i",{staticClass:"el-icon-plus"}),s._v(" 添加更多参数值\n                      ")])]}}])})]:s._e(),s._v(" "),2==l.key_type?r("div",[r("el-form-item",{staticClass:"w100p mt0 pl8",attrs:{label:"参数范围值"}},[l.value_list[1]?r("el-form-item",{attrs:{prop:"value_list."+n+".list."+i+".value_list.1.value",rules:[{required:!0,message:"最小值不能为空"},{type:"number",message:"最小值为数字"}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最小值"},model:{value:l.value_list[1].value,callback:function(e){s.$set(l.value_list[1],"value",s._n(e))},expression:"em.value_list[1].value"}})],1):s._e(),s._v(" "),l.value_list[2]?r("el-form-item",{attrs:{prop:"value_list."+n+".list."+i+".value_list.2.value",rules:[{required:!0,message:"最大值不能为空"},{type:"number",message:"最大值为数字"}],label:""}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数据最大值"},model:{value:l.value_list[2].value,callback:function(e){s.$set(l.value_list[2],"value",s._n(e))},expression:"em.value_list[2].value"}})],1):s._e()],1)],1):s._e(),s._v(" "),0<i?r("div",{staticStyle:{"text-align":"right"}},[r("span",{staticClass:"el-icon-delete",attrs:{title:"删除参数"},on:{click:function(e){s.deleteAttr(o,i)}}})]):s._e()],2)}),s._v(" "),r("a",{staticClass:"addAttr",attrs:{href:"javascript:void(0);"},on:{click:function(e){s.addAttribute(o)}}},[r("i",{staticClass:"el-icon-plus"}),s._v(" 新增属性")])]:s._e()],2),s._v(" "),0<n?r("div",{staticStyle:{"text-align":"right"}},[r("span",{staticClass:"el-icon-delete",attrs:{title:"删除参数"},on:{click:function(e){s.deleteParams(n)}}})]):s._e()],1)])}),s._v(" "),r("div",{staticClass:"buttonPos"},[r("el-button",{staticClass:"addParams",attrs:{type:"ghost"},on:{click:s.addParams}},[s._v("新增参数")])],1)],2),s._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:s.closeDialog}},[s._v("取 消")]),s._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:s.confirmTechnical}},[s._v("添 加")])],1)],1)],1)},staticRenderFns:[]};l=a("C7Lr")(r,l,!1,function(e){a("c93N")},"data-v-15d1ac78",null),t.default=l.exports},mLzr:function(e,t,a){var l=a("xelF");(l="string"==typeof l?[[e.i,l,""]]:l).locals&&(e.exports=l.locals);a("8bSs")("5a557e83",l,!0)},xelF:function(e,t,a){(e.exports=a("BkJT")(!0)).push([e.i,".addbtn[data-v-15eb2cf1]{font-size:12px;color:#999}.addTechDialog .el-dialog__body[data-v-15eb2cf1]{overflow-y:auto;max-height:400px;padding-top:10px}.addTechDialog .el-form-item__label[data-v-15eb2cf1]{padding-bottom:0;line-height:30px}.remove-item[data-v-15eb2cf1]{font-size:24px;cursor:pointer;color:#409eff;position:relative;top:30px}","",{version:3,sources:["E:/workespace/PomeloHomeOpen_Sys/src/views/typeManagement/addTechnical.vue"],names:[],mappings:"AACA,yBACI,eAAgB,AAChB,UAAY,CACf,AACD,iDACI,gBAAiB,AACjB,iBAAkB,AAClB,gBAAkB,CACrB,AACD,qDACI,iBAAoB,AACpB,gBAAkB,CACrB,AACD,8BACI,eAAgB,AAChB,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,QAAU,CACb",file:"addTechnical.vue",sourcesContent:["\n.addbtn[data-v-15eb2cf1]{\n    font-size: 12px;\n    color: #999;\n}\n.addTechDialog .el-dialog__body[data-v-15eb2cf1]{\n    overflow-y: auto;\n    max-height: 400px;\n    padding-top: 10px;\n}\n.addTechDialog .el-form-item__label[data-v-15eb2cf1]{\n    padding-bottom: 0px;\n    line-height: 30px;\n}\n.remove-item[data-v-15eb2cf1]{\n    font-size: 24px;\n    cursor: pointer;\n    color: #409EFF;\n    position: relative;\n    top: 30px;\n}\n"],sourceRoot:""}])}});